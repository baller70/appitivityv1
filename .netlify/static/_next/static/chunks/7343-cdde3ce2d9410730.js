"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7343],{18192:(e,t,a)=>{a.d(t,{NotificationProvider:()=>l,useNotifications:()=>o});var r=a(95155),s=a(12115);let i={enabled:!0,soundEnabled:!0,volume:.5,position:"top-right",maxVisible:5,defaultDuration:5e3,showInBrowser:!0,enablePersistent:!0,groupSimilar:!1},n=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[a,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(i);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("app-notifications");if(e){let t=JSON.parse(e);l(t.map(e=>({...e,timestamp:new Date(e.timestamp)})))}let t=localStorage.getItem("app-notification-settings");if(t){let e=JSON.parse(t);c(t=>({...t,...e}))}}catch(e){console.error("Error loading notification data:",e)}},[]),(0,s.useEffect)(()=>{localStorage.setItem("app-notifications",JSON.stringify(a))},[a]),(0,s.useEffect)(()=>{localStorage.setItem("app-notification-settings",JSON.stringify(o))},[o]);let d=(0,s.useCallback)(e=>{if(o.soundEnabled&&o.enabled)try{let t=new(window.AudioContext||window.webkitAudioContext),a=t.createOscillator(),r=t.createGain();a.connect(r),r.connect(t.destination);let s=t.currentTime;({success:[523,659,784],error:[220,220,220],warning:[440,554],info:[523]})[e].forEach((e,a)=>{let r=t.createOscillator(),i=t.createGain();r.connect(i),i.connect(t.destination),r.frequency.value=e,i.gain.setValueAtTime(.3*o.volume,s),i.gain.exponentialRampToValueAtTime(.01,s+.2),r.start(s),r.stop(s+.2),s+=.1})}catch(e){console.log("Audio not supported in this browser")}},[o.soundEnabled,o.enabled,o.volume]),x=(0,s.useCallback)(async e=>{if(o.showInBrowser&&o.enabled)try{if("Notification"in window){if("granted"===Notification.permission){let t=new Notification(e.title,{body:e.message,icon:"/favicon.ico",tag:e.id,badge:"/favicon.ico"});t.onclick=()=>{window.focus(),t.close(),y(e.id)},setTimeout(()=>{t.close()},e.duration||o.defaultDuration)}else if("denied"!==Notification.permission){let t=await Notification.requestPermission();"granted"===t&&x(e)}}}catch(e){console.error("Browser notification error:",e)}},[o.showInBrowser,o.enabled,o.defaultDuration]),u=(0,s.useCallback)(e=>{var t;if(!o.enabled)return"";let a="notification-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),r={id:a,timestamp:new Date,isRead:!1,isDismissed:!1,duration:null!=(t=e.duration)?t:o.defaultDuration,...e};return l(e=>{let t=[r,...e];if(o.groupSimilar){let a=e.findIndex(e=>e.title===r.title&&e.type===r.type&&!e.isDismissed);-1!==a&&(t=e.map((e,t)=>t===a?{...e,message:r.message,timestamp:r.timestamp}:e)).unshift(r)}let a=t.filter(e=>!e.isDismissed);return a.length>o.maxVisible&&(t=t.map(e=>a.indexOf(e)>=o.maxVisible?{...e,isDismissed:!0}:e)),t}),d(r.type),x(r),r.duration&&r.duration>0&&setTimeout(()=>{h(a)},r.duration),a},[o,d,x]),g=(0,s.useCallback)((e,t,a)=>u({type:"success",title:e,message:t,priority:"medium",...a}),[u]),m=(0,s.useCallback)((e,t,a)=>{var r;return u({type:"error",title:e,message:t,priority:"high",duration:null!=(r=null==a?void 0:a.duration)?r:8e3,...a})},[u]),b=(0,s.useCallback)((e,t,a)=>{var r;return u({type:"warning",title:e,message:t,priority:"medium",duration:null!=(r=null==a?void 0:a.duration)?r:6e3,...a})},[u]),f=(0,s.useCallback)((e,t,a)=>u({type:"info",title:e,message:t,priority:"low",...a}),[u]),h=(0,s.useCallback)(e=>{l(t=>t.map(t=>t.id===e?{...t,isDismissed:!0}:t))},[]),y=(0,s.useCallback)(e=>{l(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t))},[]),p=(0,s.useCallback)(()=>{l(e=>e.map(e=>({...e,isDismissed:!0})))},[]),k=(0,s.useCallback)(()=>{l(e=>e.map(e=>e.isRead?{...e,isDismissed:!0}:e))},[]),j=(0,s.useCallback)(e=>{c(t=>({...t,...e}))},[]),w=(0,s.useCallback)(()=>a.filter(e=>!e.isRead&&!e.isDismissed).length,[a]),v=(0,s.useCallback)(e=>a.filter(t=>t.type===e&&!t.isDismissed),[a]),N=(0,s.useCallback)(e=>a.filter(t=>t.priority===e&&!t.isDismissed),[a]);return(0,r.jsx)(n.Provider,{value:{notifications:a,settings:o,showNotification:u,dismissNotification:h,markAsRead:y,clearAll:p,clearAllRead:k,success:g,error:m,warning:b,info:f,updateSettings:j,getUnreadCount:w,getNotificationsByType:v,getNotificationsByPriority:N},children:t})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},20604:(e,t,a)=>{a.d(t,{NotificationContainer:()=>o});var r=a(95155);a(12115);var s=a(47650),i=a(18192),n=a(58992),l=a(59434);function o(){let{notifications:e,settings:t,dismissNotification:a,markAsRead:o}=(0,i.useNotifications)(),c=e.filter(e=>!e.isDismissed);if(!t.enabled||0===c.length)return null;let d=(0,r.jsxs)("div",{className:(0,l.cn)("fixed z-50 pointer-events-none flex space-y-3 w-full max-w-sm",(()=>{switch(t.position){case"top-right":default:return"top-4 right-4 flex-col";case"top-left":return"top-4 left-4 flex-col";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2 flex-col items-center";case"bottom-right":return"bottom-4 right-4 flex-col-reverse";case"bottom-left":return"bottom-4 left-4 flex-col-reverse";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2 flex-col-reverse items-center"}})()),style:{maxWidth:t.position.includes("center")?"28rem":"24rem"},children:[c.slice(0,t.maxVisible).map(e=>(0,r.jsx)(n.NotificationToast,{notification:e,onDismiss:a,onMarkAsRead:o,position:t.position},e.id)),c.length>t.maxVisible&&(0,r.jsx)("div",{className:"pointer-events-auto",children:(0,r.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 px-3 py-2 rounded-lg text-sm font-medium text-center shadow-lg",children:["+",c.length-t.maxVisible," more notifications"]})})]});return(0,s.createPortal)(d,document.body)}},58992:(e,t,a)=>{a.d(t,{NotificationToast:()=>h});var r=a(95155),s=a(11518),i=a.n(s),n=a(12115),l=a(40646),o=a(85339),c=a(1243),d=a(81284),x=a(54416),u=a(14186),g=a(43332),m=a(59434);let b={success:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:l.A,iconColor:"text-green-600 dark:text-green-400"},error:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:o.A,iconColor:"text-red-600 dark:text-red-400"},warning:{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-800",icon:c.A,iconColor:"text-yellow-600 dark:text-yellow-400"},info:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:d.A,iconColor:"text-blue-600 dark:text-blue-400"}},f={low:"ring-0",medium:"ring-2 ring-offset-1",high:"ring-2 ring-offset-2 ring-orange-300",urgent:"ring-4 ring-offset-2 ring-red-400 animate-pulse"};function h(e){var t,a;let{notification:s,onDismiss:l,onMarkAsRead:o,position:c}=e,[d,h]=(0,n.useState)(!1),[y,p]=(0,n.useState)(!1),{bg:k,border:j,icon:w,iconColor:v}=b[s.type];(0,n.useEffect)(()=>{setTimeout(()=>h(!0),10);let e=setTimeout(()=>{s.isRead||o(s.id)},2e3);return()=>clearTimeout(e)},[s.id,s.isRead,o]);let N=()=>{p(!0),setTimeout(()=>{l(s.id)},300)};return(0,r.jsxs)("div",{onClick:()=>{s.isRead||o(s.id),s.action&&s.action.onClick()},className:"jsx-e43ea6c4bca847b0 "+((0,m.cn)("pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg border shadow-lg transition-all duration-300 ease-in-out transform",k,j,f[s.priority],(()=>{let e=c.includes("top"),t=c.includes("right"),a=c.includes("left"),r=c.includes("center");if(y){if(t)return"translate-x-full opacity-0";if(a)return"-translate-x-full opacity-0";if(r)return e?"-translate-y-full opacity-0":"translate-y-full opacity-0"}if(!d){if(t)return"translate-x-full opacity-0";if(a)return"-translate-x-full opacity-0";if(r)return e?"-translate-y-full opacity-0":"translate-y-full opacity-0"}return"translate-x-0 translate-y-0 opacity-100"})(),s.isRead?"opacity-80":"opacity-100","hover:shadow-xl hover:scale-[1.02] cursor-pointer")||""),children:[(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 relative p-4",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),N()},className:"jsx-e43ea6c4bca847b0 absolute top-2 right-2 inline-flex h-6 w-6 items-center justify-center rounded-full bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,r.jsx)(x.A,{className:"h-3 w-3"})}),(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"jsx-e43ea6c4bca847b0 flex-shrink-0",children:(0,r.jsx)(w,{className:"jsx-e43ea6c4bca847b0 "+((0,m.cn)("h-5 w-5",v)||"")})}),(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"jsx-e43ea6c4bca847b0 text-sm font-semibold text-gray-900 dark:text-white truncate pr-6",children:s.title}),!s.isRead&&(0,r.jsx)("div",{className:"jsx-e43ea6c4bca847b0 flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full"})]}),(0,r.jsx)("p",{className:"jsx-e43ea6c4bca847b0 text-sm text-gray-700 dark:text-gray-300 mb-2 break-words",children:s.message}),(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 flex items-center space-x-2",children:[(0,r.jsx)(u.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"jsx-e43ea6c4bca847b0",children:(e=>{let t=new Date().getTime()-e.getTime();return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):e.toLocaleDateString()})(s.timestamp)}),(null==(t=s.metadata)?void 0:t.category)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"jsx-e43ea6c4bca847b0",children:"â€¢"}),(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 flex items-center space-x-1",children:[(0,r.jsx)(g.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"jsx-e43ea6c4bca847b0",children:s.metadata.category})]})]})]}),(0,r.jsx)("div",{className:"jsx-e43ea6c4bca847b0 flex items-center space-x-1",children:(0,r.jsx)("div",{className:"jsx-e43ea6c4bca847b0 "+((0,m.cn)("px-1.5 py-0.5 rounded text-xs font-medium","urgent"===s.priority&&"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200","high"===s.priority&&"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200","medium"===s.priority&&"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200","low"===s.priority&&"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200")||""),children:s.priority})})]}),s.action&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),s.action.onClick(),N()},className:"jsx-e43ea6c4bca847b0 mt-3 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:s.action.label}),(null==(a=s.metadata)?void 0:a.tags)&&s.metadata.tags.length>0&&(0,r.jsxs)("div",{className:"jsx-e43ea6c4bca847b0 flex flex-wrap gap-1 mt-2",children:[s.metadata.tags.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:"jsx-e43ea6c4bca847b0 inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:e},t)),s.metadata.tags.length>3&&(0,r.jsxs)("span",{className:"jsx-e43ea6c4bca847b0 text-xs text-gray-500",children:["+",s.metadata.tags.length-3," more"]})]})]})]}),s.duration&&s.duration>0&&(0,r.jsx)("div",{className:"jsx-e43ea6c4bca847b0 absolute bottom-0 left-0 right-0 h-1 bg-gray-200 dark:bg-gray-700",children:(0,r.jsx)("div",{style:{width:"100%",animation:"shrink ".concat(s.duration,"ms linear forwards")},className:"jsx-e43ea6c4bca847b0 "+((0,m.cn)("h-full transition-all ease-linear","success"===s.type&&"bg-green-500","error"===s.type&&"bg-red-500","warning"===s.type&&"bg-yellow-500","info"===s.type&&"bg-blue-500")||"")})})]}),(0,r.jsx)(i(),{id:"e43ea6c4bca847b0",children:"@-webkit-keyframes shrink{from{width:100%}to{width:0%}}@-moz-keyframes shrink{from{width:100%}to{width:0%}}@-o-keyframes shrink{from{width:100%}to{width:0%}}@keyframes shrink{from{width:100%}to{width:0%}}"})]})}},82660:(e,t,a)=>{a.d(t,{NotificationCenter:()=>p});var r=a(95155),s=a(12115),i=a(43453),n=a(85339),l=a(1243),o=a(81284),c=a(23861),d=a(381),x=a(54416),u=a(47924),g=a(66932),m=a(39022),b=a(62525),f=a(14186),h=a(59434),y=a(18192);function p(e){let{isOpen:t,onClose:a,className:p}=e,{notifications:k,dismissNotification:j,markAsRead:w,clearAll:v,clearAllRead:N,getUnreadCount:C,getNotificationsByType:A,getNotificationsByPriority:D}=(0,y.useNotifications)(),[S,T]=(0,s.useState)("all"),[R,E]=(0,s.useState)(""),[P,I]=(0,s.useState)(!1),M={success:i.A,error:n.A,warning:l.A,info:o.A},O=(0,s.useMemo)(()=>{let e=k.filter(e=>!e.isDismissed);switch(S){case"unread":e=e.filter(e=>!e.isRead);break;case"urgent":e=e.filter(e=>"urgent"===e.priority);break;case"success":case"error":case"warning":case"info":e=e.filter(e=>e.type===S)}if(R.trim()){let t=R.toLowerCase();e=e.filter(e=>{var a,r,s,i;return e.title.toLowerCase().includes(t)||e.message.toLowerCase().includes(t)||(null==(r=e.metadata)||null==(a=r.category)?void 0:a.toLowerCase().includes(t))||(null==(i=e.metadata)||null==(s=i.tags)?void 0:s.some(e=>e.toLowerCase().includes(t)))})}return e.sort((e,t)=>{let a={urgent:4,high:3,medium:2,low:1},r=a[t.priority]-a[e.priority];return 0!==r?r:t.timestamp.getTime()-e.timestamp.getTime()})},[k,S,R]),V=C(),L=D("urgent").length,J=e=>{let t=new Date().getTime()-e.getTime();return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):t<6048e5?"".concat(Math.floor(t/864e5),"d ago"):e.toLocaleDateString()};return t?(0,r.jsx)("div",{className:(0,h.cn)("fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",p),children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.A,{className:"h-6 w-6 text-blue-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Notifications"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[V," unread",L>0&&(0,r.jsxs)("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded-full text-xs font-medium",children:[L," urgent"]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>I(!P),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,r.jsx)(d.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,r.jsx)(x.A,{className:"h-5 w-5"})})]})]}),(0,r.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search notifications...",value:R,onChange:e=>E(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),[{key:"all",label:"All",count:k.filter(e=>!e.isDismissed).length},{key:"unread",label:"Unread",count:V},{key:"urgent",label:"Urgent",count:L},{key:"success",label:"Success",count:A("success").length},{key:"error",label:"Errors",count:A("error").length},{key:"warning",label:"Warnings",count:A("warning").length},{key:"info",label:"Info",count:A("info").length}].map(e=>(0,r.jsxs)("button",{onClick:()=>T(e.key),className:(0,h.cn)("flex items-center space-x-1 px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap",S===e.key?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,r.jsx)("span",{children:e.label}),e.count>0&&(0,r.jsx)("span",{className:(0,h.cn)("px-1.5 py-0.5 rounded-full text-xs",S===e.key?"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200":"bg-gray-200 text-gray-600 dark:bg-gray-600 dark:text-gray-400"),children:e.count})]},e.key))]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[V>0&&(0,r.jsx)("button",{onClick:N,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Clear read notifications",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:v,className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Clear all notifications",children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})]})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===O.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)(c.A,{className:"h-12 w-12 mb-4 opacity-50"}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"No notifications"}),(0,r.jsx)("p",{className:"text-sm",children:R?"Try adjusting your search or filters":"You're all caught up!"})]}):(0,r.jsx)("div",{className:"p-4 space-y-3",children:O.map(e=>{var t,a;let s=M[e.type];return(0,r.jsx)("div",{className:(0,h.cn)("p-4 rounded-lg border transition-all hover:shadow-md cursor-pointer",e.isRead?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600","urgent"===e.priority&&"ring-2 ring-red-300 dark:ring-red-700"),onClick:()=>{e.isRead||w(e.id),e.action&&e.action.onClick()},children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(s,{className:(0,h.cn)("h-5 w-5 mt-0.5 flex-shrink-0","success"===e.type&&"text-green-600 dark:text-green-400","error"===e.type&&"text-red-600 dark:text-red-400","warning"===e.type&&"text-yellow-600 dark:text-yellow-400","info"===e.type&&"text-blue-600 dark:text-blue-400")}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0 ml-2",children:[!e.isRead&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),j(e.id)},className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,r.jsx)(x.A,{className:"h-3 w-3"})})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:e.message}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:J(e.timestamp)}),(null==(t=e.metadata)?void 0:t.category)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"â€¢"}),(0,r.jsx)("span",{children:e.metadata.category})]})]}),(0,r.jsx)("div",{className:(0,h.cn)("px-1.5 py-0.5 rounded text-xs font-medium","urgent"===e.priority&&"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200","high"===e.priority&&"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200","medium"===e.priority&&"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200","low"===e.priority&&"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:e.priority})]}),e.action&&(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),e.action.onClick(),j(e.id)},className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:e.action.label}),(null==(a=e.metadata)?void 0:a.tags)&&e.metadata.tags.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.metadata.tags.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:e},t)),e.metadata.tags.length>3&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.metadata.tags.length-3," more"]})]})]})]})},e.id)})})})]})}):null}},91200:(e,t,a)=>{a.d(t,{NotificationBell:()=>d});var r=a(95155),s=a(12115),i=a(1690),n=a(23861),l=a(59434),o=a(18192),c=a(82660);function d(e){let{className:t,size:a="md",showBadge:d=!0,variant:x="default"}=e,[u,g]=(0,s.useState)(!1),{getUnreadCount:m,getNotificationsByPriority:b}=(0,o.useNotifications)(),f=m(),h=b("urgent").length,y=f>0,p={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>g(!0),className:(0,l.cn)("relative inline-flex items-center justify-center rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{sm:"p-1.5",md:"p-2",lg:"p-2.5"}[a],(()=>{switch(x){case"ghost":return"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800";case"minimal":return"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200";default:return"text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}})(),y&&h>0&&"animate-pulse",t),"aria-label":"Notifications ".concat(f>0?"(".concat(f," unread)"):""),children:[y?(0,r.jsx)(i.A,{className:(0,l.cn)(p[a],h>0&&"text-red-500 dark:text-red-400")}):(0,r.jsx)(n.A,{className:p[a]}),d&&f>0&&(0,r.jsxs)("span",{className:"absolute -top-1 -right-1 flex items-center justify-center",children:[h>0&&(0,r.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 animate-ping"}),(0,r.jsx)("span",{className:(0,l.cn)("relative inline-flex items-center justify-center rounded-full text-xs font-semibold leading-none",f<10?"h-5 w-5":"h-5 px-1.5",h>0?"bg-red-500 text-white":"bg-blue-500 text-white"),children:f>99?"99+":f})]}),h>0&&(0,r.jsx)("span",{className:"absolute inset-0 rounded-lg bg-red-500/20 blur-sm animate-pulse"})]}),(0,r.jsx)(c.NotificationCenter,{isOpen:u,onClose:()=>g(!1)})]})}}}]);