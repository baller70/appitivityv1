(()=>{var e={};e.id=5105,e.ids=[5105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5152:(e,t,r)=>{"use strict";let s,a,i,n;r.d(t,{BookmarkHubDashboard:()=>uy});var l,o,d,c,u,h,m,p,g,x,f,y,v=r(60687),b=r(43210),j=r.n(b),w=r(85814),k=r.n(w),N=r(56499),C=r(29523),S=r(63967),A=r(63503),T=r(51787),E=r(82570),D=r(25334),P=r(67760),M=r(93613),R=r(62688);let L=(0,R.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var F=r(53411),O=r(64398),V=r(84027),B=r(99270),$=r(6943),I=r(25366);let _=(0,R.A)("rows-3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]),U=(0,R.A)("trello",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]]);var z=r(40228),W=r(96474);let H=(0,R.A)("square-check-big",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var Y=r(16023),q=r(99891),X=r(96834),K=r(5336);let G=(0,R.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var J=r(43649),Z=r(78122),Q=r(48730);class ee{async validateBookmark(e,t={}){let{timeout:r=this.DEFAULT_TIMEOUT}=t;try{let t=new AbortController,s=setTimeout(()=>t.abort(),r),a=await fetch(e,{method:"HEAD",signal:t.signal,mode:"no-cors",cache:"no-cache"});return clearTimeout(s),{id:"",url:e,isValid:a.ok,statusCode:a.status,lastChecked:new Date().toISOString()}}catch{try{let t=new AbortController,s=setTimeout(()=>t.abort(),r/2),a=await fetch(e,{method:"GET",signal:t.signal,mode:"no-cors",cache:"no-cache"});return clearTimeout(s),{id:"",url:e,isValid:a.ok,statusCode:a.status,lastChecked:new Date().toISOString()}}catch{return{id:"",url:e,isValid:!1,error:"Unexpected validation error",lastChecked:new Date().toISOString()}}}}async validateBookmarks(e,t={}){let{batchSize:r=this.DEFAULT_BATCH_SIZE}=t,s=[];for(let a=0;a<e.length;a+=r){let i=e.slice(a,a+r).map(async e=>({...await this.validateBookmark(e.url,t),id:e.id}));(await Promise.allSettled(i)).forEach(e=>{"fulfilled"===e.status?s.push(e.value):console.error("Validation failed:",e.reason)}),a+r<e.length&&await new Promise(e=>setTimeout(e,1e3))}return s}async scheduleValidation(e,t=7){let r=new Date,s=24*t*36e5;return e.map(e=>{let t=new Date(e.last_validated?e.last_validated:0),a=r.getTime()-t.getTime()>s;return{id:e.id,needsValidation:a}})}createValidationNotification(e){let t=e.filter(e=>!e.isValid),r=t.length,s="";return s=0===r?"✅ All bookmarks are accessible!":1===r?"⚠️ 1 bookmark appears to be broken or inaccessible":`⚠️ ${r} bookmarks appear to be broken or inaccessible`,{invalidCount:r,message:s,details:t}}getValidationSuggestions(e){let t=[];return e.isValid||(404===e.statusCode?(t.push("The page was not found (404). The content may have been moved or deleted."),t.push("Try searching for the content on the website or using an archive service.")):403===e.statusCode?t.push("Access is forbidden (403). The site may require authentication."):500===e.statusCode?t.push("The server is experiencing issues (500). Try again later."):e.error?.includes("timeout")?t.push("The request timed out. The site may be slow or temporarily unavailable."):e.error?.includes("network")?t.push("Network error. Check your internet connection."):t.push("The bookmark appears to be inaccessible. Try opening it manually."),t.push("Consider updating the URL or removing the bookmark if it's permanently broken.")),t}constructor(){this.DEFAULT_TIMEOUT=1e4,this.DEFAULT_RETRY_COUNT=2,this.DEFAULT_BATCH_SIZE=10}}let et=new ee,er=({value:e,className:t})=>(0,v.jsx)("div",{className:`w-full bg-gray-200 rounded-full h-2 ${t}`,children:(0,v.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,e))}%`}})});function es({bookmarks:e,trigger:t}){let[r,s]=(0,b.useState)(!1),[a,i]=(0,b.useState)(!1),[n,l]=(0,b.useState)([]),[o,d]=(0,b.useState)(0),[c,u]=(0,b.useState)(0),{user:h}=(0,N.Jd)(),m=async()=>{if(h){i(!0),d(0),l([]),u(0);try{for(let t=0;t<e.length;t+=10){let r=e.slice(t,t+10);u(Math.floor(t/10)+1);let s=await et.validateBookmarks(r,{batchSize:10,timeout:8e3});l(e=>[...e,...s]),d((t+r.length)/e.length*100)}}catch(e){console.error("Validation failed:",e)}finally{i(!1)}}},p=t=>{let r=e.find(e=>e.id===t);return r?.title||"Unknown Bookmark"},g=e=>e.isValid?(0,v.jsx)(K.A,{className:"h-5 w-5 text-green-500"}):404===e.statusCode?(0,v.jsx)(G,{className:"h-5 w-5 text-red-500"}):(0,v.jsx)(J.A,{className:"h-5 w-5 text-yellow-500"}),x=e=>{if(e.isValid)return(0,v.jsx)(X.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Accessible"});if(404===e.statusCode)return(0,v.jsx)(X.E,{variant:"destructive",children:"Not Found (404)"});if(403===e.statusCode)return(0,v.jsx)(X.E,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Access Denied (403)"});if(500===e.statusCode)return(0,v.jsx)(X.E,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Server Error (500)"});if(e.error?.includes("timeout"))return(0,v.jsx)(X.E,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"Timeout"});else return(0,v.jsx)(X.E,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Unreachable"})},f=n.filter(e=>e.isValid),y=n.filter(e=>!e.isValid),j=et.createValidationNotification(n);return(0,v.jsxs)(A.lG,{open:r,onOpenChange:s,children:[(0,v.jsx)(A.zM,{asChild:!0,children:t||(0,v.jsxs)(C.$,{variant:"outline",size:"sm",children:[(0,v.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Check Links"]})}),(0,v.jsxs)(A.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,v.jsxs)(A.c7,{children:[(0,v.jsx)(A.L3,{children:"Bookmark Validation"}),(0,v.jsx)(A.rr,{children:"Check your bookmarks for broken links and accessibility issues"})]}),(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"font-medium",children:"Link Health Check"}),(0,v.jsxs)("p",{className:"text-sm text-gray-500",children:["Validate ",e.length," bookmark",1!==e.length?"s":""]})]}),(0,v.jsx)(C.$,{onClick:m,disabled:a||0===e.length,className:"min-w-[120px]",children:a?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Z.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Checking..."]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Start Check"]})})]}),a&&(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,v.jsx)("span",{children:"Progress"}),(0,v.jsxs)("span",{children:["Batch ",c," • ",Math.round(o),"%"]})]}),(0,v.jsx)(er,{value:o,className:"w-full"})]})]}),n.length>0&&(0,v.jsxs)("div",{className:"border rounded-lg p-4 space-y-4",children:[(0,v.jsx)("h3",{className:"font-medium",children:"Validation Results"}),(0,v.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f.length}),(0,v.jsx)("div",{className:"text-sm text-gray-500",children:"Accessible"})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("div",{className:"text-2xl font-bold text-red-600",children:y.length}),(0,v.jsx)("div",{className:"text-sm text-gray-500",children:"Issues Found"})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.length}),(0,v.jsx)("div",{className:"text-sm text-gray-500",children:"Total Checked"})]})]}),(0,v.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,v.jsx)("p",{className:"text-sm font-medium",children:j.message})})]}),n.length>0&&(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("h3",{className:"font-medium",children:"Detailed Results"}),(0,v.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[...y,...f].map(e=>(0,v.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[g(e),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("p",{className:"font-medium truncate",children:p(e.id)}),(0,v.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.url})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[x(e),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>window.open(e.url,"_blank"),children:(0,v.jsx)(D.A,{className:"h-4 w-4"})})]})]}),!e.isValid&&(0,v.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2",children:[(0,v.jsx)("p",{className:"text-xs font-medium text-yellow-800 mb-1",children:"Suggestions:"}),(0,v.jsx)("ul",{className:"text-xs text-yellow-700 space-y-1",children:et.getValidationSuggestions(e).map((e,t)=>(0,v.jsxs)("li",{children:["• ",e]},t))})]}),(0,v.jsxs)("div",{className:"flex items-center text-xs text-gray-400",children:[(0,v.jsx)(Q.A,{className:"h-3 w-3 mr-1"}),"Checked: ",new Date(e.lastChecked).toLocaleString()]})]},e.id))})]}),0===e.length&&(0,v.jsxs)("div",{className:"text-center py-8",children:[(0,v.jsx)(q.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,v.jsx)("h3",{className:"font-medium text-gray-900",children:"No bookmarks to validate"}),(0,v.jsx)("p",{className:"text-gray-500",children:"Add some bookmarks first to check their validity."})]})]})]})]})}var ea=r(28499),ei=r(21342),en=r(15079),el=r(11860);let eo=(0,R.A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var ed=r(77026),ec=r(93661),eu=r(37360),eh=r(31158),em=r(70615),ep=r(88233),eg=r(7486);class ex{async exportToJson(e){return JSON.stringify({version:"1.0",exportDate:new Date().toISOString(),bookmarks:e.map(e=>({title:e.title,url:e.url,description:e.description,tags:e.tags||[],folder:e.folder,created_at:e.created_at,is_favorited:e.is_favorite}))},null,2)}async exportToCsv(e){return[["Title","URL","Description","Tags","Folder","Created Date","Is Favorite"],...e.map(e=>[e.title,e.url,e.description||"",e.tags?.map(e=>e.name).join(", ")||"",e.folder?.name||"",e.created_at||"",e.is_favorite?"Yes":"No"])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n")}async exportToHtml(e){let t=e.map(e=>`<DT><A HREF="${e.url}">${e.title}</A>${e.description?`
<DD>${e.description}`:""}`).join("\n");return`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
${t}
</DL><p>`}async exportBookmarks(e,t,r={}){let s=e;switch(!r.includeTags&&(s=s.map(e=>({...e,tags:[]}))),!r.includeNotes&&(s=s.map(e=>({...e,description:""}))),!r.includeFolders&&(s=s.map(e=>({...e,folder:null}))),t){case"json":return this.exportToJson(s);case"csv":return this.exportToCsv(s);case"html":return this.exportToHtml(s);default:throw Error(`Unsupported export format: ${t}`)}}downloadFile(e,t,r){let s=new Blob([e],{type:r}),a=URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}async copyToClipboard(e){try{return await navigator.clipboard.writeText(e),!0}catch{return!1}}}var ef=r(52581);function ey({bookmarks:e,folders:t,tags:r,userId:s,onUpdate:a}){let{selectedCount:i,getSelectedItems:n,selectAll:l,deselectAll:o,exitSelectionMode:d,isSelectionMode:c}=(0,ea.C)(),[u,h]=(0,b.useState)(!1),[m,p]=(0,b.useState)(!1),[g,x]=(0,b.useState)(!1),[f,y]=(0,b.useState)(!1),[j,w]=(0,b.useState)(""),[k,N]=(0,b.useState)([]),S=new eg.U(s),T=n(e),D=async()=>{if(0!==T.length){h(!0);try{let e=T.map(e=>e.id),t=await fetch(`/api/bookmarks?ids=${e.join(",")}`,{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to delete bookmarks")}d(),a(),ef.oR.success(`Successfully deleted ${e.length} bookmark${e.length>1?"s":""}`)}catch(t){console.error("Failed to delete bookmarks:",t);let e=t instanceof Error?t.message:"Unknown error occurred";ef.oR.error(`Failed to delete bookmarks: ${e}`)}finally{h(!1),p(!1)}}},M=async e=>{if(0!==T.length){h(!0);try{let t=T.map(e=>e.id);for(let r of t){let t=await fetch("/api/bookmarks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r,is_archived:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update bookmark")}}d(),a(),ef.oR.success(`Successfully ${e?"archived":"unarchived"} ${t.length} bookmark${t.length>1?"s":""}`)}catch(t){console.error("Failed to update bookmarks:",t);let e=t instanceof Error?t.message:"Unknown error occurred";ef.oR.error(`Failed to update bookmarks: ${e}`)}finally{h(!1)}}},R=async e=>{if(0!==T.length){h(!0);try{let t=T.map(e=>e.id);for(let r of t){let t=await fetch("/api/bookmarks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r,is_favorite:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update bookmark")}}d(),a(),ef.oR.success(`Successfully ${e?"added to":"removed from"} favorites for ${t.length} bookmark${t.length>1?"s":""}`)}catch(t){console.error("Failed to update bookmarks:",t);let e=t instanceof Error?t.message:"Unknown error occurred";ef.oR.error(`Failed to update bookmarks: ${e}`)}finally{h(!1)}}},L=async()=>{if(0!==T.length){h(!0);try{let e=T.map(e=>e.id),r="none"===j?null:j;for(let t of e){let e=await fetch("/api/bookmarks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,folder_id:r})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to update bookmark")}}d(),a();let s=r?t.find(e=>e.id===r)?.name||"Unknown folder":"No folder";ef.oR.success(`Successfully moved ${e.length} bookmark${e.length>1?"s":""} to ${s}`)}catch(t){console.error("Failed to move bookmarks:",t);let e=t instanceof Error?t.message:"Unknown error occurred";ef.oR.error(`Failed to move bookmarks: ${e}`)}finally{h(!1),x(!1),w("")}}},F=async()=>{if(0!==T.length){h(!0);try{for(let e of T)await S.removeTagsFromBookmark(e.id),k.length>0&&await S.addTagsToBookmark(e.id,k);d(),a()}catch(e){console.error("Failed to update tags:",e)}finally{h(!1),y(!1),N([])}}},O=async e=>{if(0!==T.length){h(!0);try{let t=T.map(e=>({id:e.id,title:e.title,url:e.url,description:e.description||"",folder:e.folder?.name||"Uncategorized",tags:e.tags?.map(e=>e.name).filter(Boolean).join(", ")||"",is_favorite:e.is_favorite,is_archived:e.is_archived,created_at:e.created_at,updated_at:e.updated_at,visit_count:e.visit_count||0,last_visited_at:e.last_visited_at||"",favicon_url:e.favicon_url||""})),r={exportDate:new Date().toISOString(),totalBookmarks:t.length,bookmarks:t},s={data:JSON.stringify(r,null,2),filename:`selected-bookmarks-${new Date().toISOString().split("T")[0]}.json`,mimeType:"application/json"},a=new ex;"download"===e?(a.downloadFile(s.data,s.filename,s.mimeType),alert(`Downloaded ${s.filename}`)):"copy"===e&&(await a.copyToClipboard(s.data),alert("Copied to clipboard")),d()}catch(e){console.error("Export failed:",e),alert("Export failed. Please try again.")}finally{h(!1)}}};return c?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:d,className:"h-8",children:(0,v.jsx)(el.A,{className:"h-4 w-4"})}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsxs)(X.E,{variant:"secondary",className:"h-6",children:[i," selected"]}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>i===e.length?o():l(e),className:"h-8 text-xs",children:i===e.length?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(eo,{className:"h-3 w-3 mr-1"}),"Deselect All"]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(H,{className:"h-3 w-3 mr-1"}),"Select All"]})})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsxs)(C.$,{variant:"ghost",size:"sm",onClick:()=>R(!0),disabled:u||0===i,className:"h-8",children:[(0,v.jsx)(P.A,{className:"h-4 w-4 mr-1"}),"Favorite"]}),(0,v.jsxs)(C.$,{variant:"ghost",size:"sm",onClick:()=>M(!0),disabled:u||0===i,className:"h-8",children:[(0,v.jsx)(ed.A,{className:"h-4 w-4 mr-1"}),"Archive"]}),(0,v.jsxs)(ei.rI,{children:[(0,v.jsx)(ei.ty,{asChild:!0,children:(0,v.jsx)(C.$,{variant:"ghost",size:"sm",disabled:u||0===i,className:"h-8",children:(0,v.jsx)(ec.A,{className:"h-4 w-4"})})}),(0,v.jsxs)(ei.SQ,{align:"end",children:[(0,v.jsxs)(ei._2,{onClick:()=>x(!0),children:[(0,v.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Move to Folder"]}),(0,v.jsxs)(ei._2,{onClick:()=>y(!0),children:[(0,v.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Update Tags"]}),(0,v.jsx)(ei.mB,{}),(0,v.jsxs)(ei._2,{onClick:()=>O("download"),children:[(0,v.jsx)(eh.A,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),(0,v.jsxs)(ei._2,{onClick:()=>O("copy"),children:[(0,v.jsx)(em.A,{className:"h-4 w-4 mr-2"}),"Copy to Clipboard"]}),(0,v.jsx)(ei.mB,{}),(0,v.jsxs)(ei._2,{onClick:()=>R(!1),children:[(0,v.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Remove from Favorites"]}),(0,v.jsxs)(ei._2,{onClick:()=>M(!1),children:[(0,v.jsx)(ed.A,{className:"h-4 w-4 mr-2"}),"Unarchive"]}),(0,v.jsx)(ei.mB,{}),(0,v.jsxs)(ei._2,{onClick:()=>p(!0),className:"text-red-600 dark:text-red-400",children:[(0,v.jsx)(ep.A,{className:"h-4 w-4 mr-2"}),"Delete Selected"]})]})]})]})]})}),(0,v.jsx)(A.lG,{open:m,onOpenChange:p,children:(0,v.jsxs)(A.Cf,{children:[(0,v.jsxs)(A.c7,{children:[(0,v.jsx)(A.L3,{children:"Delete Bookmarks"}),(0,v.jsxs)(A.rr,{children:["Are you sure you want to delete ",i," bookmark",1!==i?"s":"","? This action cannot be undone."]})]}),(0,v.jsxs)(A.Es,{children:[(0,v.jsx)(C.$,{variant:"outline",onClick:()=>p(!1),disabled:u,children:"Cancel"}),(0,v.jsx)(C.$,{variant:"destructive",onClick:D,disabled:u,children:u?"Deleting...":"Delete"})]})]})}),(0,v.jsx)(A.lG,{open:g,onOpenChange:x,children:(0,v.jsxs)(A.Cf,{children:[(0,v.jsxs)(A.c7,{children:[(0,v.jsx)(A.L3,{children:"Move to Folder"}),(0,v.jsxs)(A.rr,{children:["Select a folder to move ",i," bookmark",1!==i?"s":""," to."]})]}),(0,v.jsx)("div",{className:"space-y-4",children:(0,v.jsxs)(en.l6,{value:j,onValueChange:w,children:[(0,v.jsx)(en.bq,{children:(0,v.jsx)(en.yv,{placeholder:"Select a folder"})}),(0,v.jsxs)(en.gC,{children:[(0,v.jsx)(en.eb,{value:"none",children:"No Folder"}),t.map(e=>(0,v.jsx)(en.eb,{value:e.id,children:e.name},e.id))]})]})}),(0,v.jsxs)(A.Es,{children:[(0,v.jsx)(C.$,{variant:"outline",onClick:()=>x(!1),disabled:u,children:"Cancel"}),(0,v.jsx)(C.$,{onClick:L,disabled:u||!j,children:u?"Moving...":"Move"})]})]})}),(0,v.jsx)(A.lG,{open:f,onOpenChange:y,children:(0,v.jsxs)(A.Cf,{children:[(0,v.jsxs)(A.c7,{children:[(0,v.jsx)(A.L3,{children:"Update Tags"}),(0,v.jsxs)(A.rr,{children:["Select tags to apply to ",i," bookmark",1!==i?"s":"",". This will replace existing tags."]})]}),(0,v.jsx)("div",{className:"space-y-4",children:(0,v.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto",children:r.map(e=>(0,v.jsxs)("label",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",children:[(0,v.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:t=>{t.target.checked?N(t=>[...t,e.id]):N(t=>t.filter(t=>t!==e.id))},className:"rounded"}),(0,v.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})}),(0,v.jsxs)(A.Es,{children:[(0,v.jsx)(C.$,{variant:"outline",onClick:()=>y(!1),disabled:u,children:"Cancel"}),(0,v.jsx)(C.$,{onClick:F,disabled:u,children:u?"Updating...":"Update Tags"})]})]})})]}):null}var ev=r(27551),eb=r(34729),ej=r(80013),ew=r(11273),ek=r(14163),eN="Progress",[eC,eS]=(0,ew.A)(eN),[eA,eT]=eC(eN),eE=b.forwardRef((e,t)=>{var r,s;let{__scopeProgress:a,value:i=null,max:n,getValueLabel:l=eM,...o}=e;(n||0===n)&&!eF(n)&&console.error((r=`${n}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let d=eF(n)?n:100;null===i||eO(i,d)||console.error((s=`${i}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let c=eO(i,d)?i:null,u=eL(c)?l(c,d):void 0;return(0,v.jsx)(eA,{scope:a,value:c,max:d,children:(0,v.jsx)(ek.sG.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":eL(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":eR(c,d),"data-value":c??void 0,"data-max":d,...o,ref:t})})});eE.displayName=eN;var eD="ProgressIndicator",eP=b.forwardRef((e,t)=>{let{__scopeProgress:r,...s}=e,a=eT(eD,r);return(0,v.jsx)(ek.sG.div,{"data-state":eR(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});function eM(e,t){return`${Math.round(e/t*100)}%`}function eR(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function eL(e){return"number"==typeof e}function eF(e){return eL(e)&&!isNaN(e)&&e>0}function eO(e,t){return eL(e)&&!isNaN(e)&&e<=t&&e>=0}eP.displayName=eD;var eV=r(4780);let eB=b.forwardRef(({className:e,value:t,...r},s)=>(0,v.jsx)(eE,{ref:s,className:(0,eV.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:(0,v.jsx)(eP,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));eB.displayName=eE.displayName;var e$=r(85763),eI=r(56896),e_=r(10022),eU=r(13861),ez=r(30474);function eW({isOpen:e,onClose:t,onImport:r,folders:s,tags:a,existingBookmarks:i=[],isLoading:n=!1}){let[l,o]=(0,b.useState)(""),[d,c]=(0,b.useState)(""),[u,h]=(0,b.useState)([]),[m,p]=(0,b.useState)([]),[g,x]=(0,b.useState)(!1),[f,y]=(0,b.useState)("input"),[j,w]=(0,b.useState)(!0),[k,N]=(0,b.useState)(!0),[S,T]=(0,b.useState)({total:0,processed:0,successful:0,failed:0,percentage:0}),[D,P]=(0,b.useState)("text"),M=(0,b.useRef)(null),R=()=>Math.random().toString(36).substr(2,9),L=e=>{try{let t=new URL(e.trim());return"/"===t.pathname&&(t.pathname=""),t.toString()}catch{return e.trim()}},F=e=>{let t=L(e),r=i.find(e=>L(e.url)===t);return{isDuplicate:!!r,existingId:r?.id}},O=e=>{let t=e.split("\n").filter(e=>e.trim()),r=[];for(let e=0;e<t.length;e++){let s=t[e].trim();if(!s)continue;let a=s,i="",n="",l=R(),o=s.match(/<a[^>]*href=["']([^"']*)["'][^>]*>(.*?)<\/a>/i);o&&(a=o[1],i=o[2].replace(/<[^>]*>/g,"").trim());let d=s.match(/\[([^\]]*)\]\(([^)]*)\)/);d&&(i=d[1],a=d[2]);try{let e=JSON.parse(s);e.url&&(a=e.url,i=e.title||"",n=e.description||"")}catch{}let c=s.match(/^(\s*)<DT><A HREF="([^"]*)"[^>]*>([^<]*)<\/A>/);if(c&&(a=c[2],i=c[3]),/^https?:\/\/.+\..+/.test(a)){let e=L(a),{isDuplicate:t,existingId:o}=F(e);r.push({id:l,url:e,originalUrl:s,title:i||V(e),description:n,isValid:!0,isDuplicate:t,existingBookmarkId:o,selected:!t,status:"pending",retryCount:0})}else r.push({id:l,url:s,originalUrl:s,isValid:!1,error:"Invalid URL format",selected:!1,status:"failed",retryCount:0})}return r},V=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return e}},B=async e=>{try{await new Promise(e=>setTimeout(e,500));let t=V(e.url);return{title:e.title||`${t}`,description:e.description||`Content from ${t}`,favicon:`https://www.google.com/s2/favicons?domain=${t}&sz=32`}}catch{return{error:"Failed to fetch metadata"}}},$=async()=>{if(!l.trim())return void ef.oR.error("Please enter some URLs to import");x(!0);let e=O(l);for(let t=0;t<e.length;t++){let r=e[t];if(r.isValid){let s=await B(r);e[t]={...r,...s}}let s=(t+1)/e.length*100;T(e=>({...e,percentage:s}))}p(e),y("preview"),x(!1),T({total:0,processed:0,successful:0,failed:0,percentage:0})},I=async e=>{let t=e.target.files?.[0];if(!t)return;let r=await t.text();o(r),P("text"),(t.name.endsWith(".html")||r.includes("<DT><A HREF"))&&await $()},_=e=>{p(t=>t.map(t=>t.id===e?{...t,selected:!t.selected}:t))},U=e=>{p(t=>t.map(t=>({...t,selected:e})))},z=async()=>{let e=m.filter(e=>e.selected&&e.isValid);if(0===e.length)return void ef.oR.error("Please select at least one bookmark to import");y("importing"),T({total:e.length,processed:0,successful:0,failed:0,percentage:0});let t=[],s=0,a=0,i=0;for(let r of e){try{p(e=>e.map(e=>e.id===r.id?{...e,status:"processing"}:e)),t.push({url:r.url,title:r.title,description:r.description,folderId:d&&"none"!==d?d:void 0,tagIds:u.length>0?u:void 0,favicon:r.favicon}),p(e=>e.map(e=>e.id===r.id?{...e,status:"success"}:e)),a++}catch(e){p(t=>t.map(t=>t.id===r.id?{...t,status:"failed",error:e instanceof Error?e.message:"Import failed"}:t)),i++}let n=++s/e.length*100;T({total:e.length,processed:s,successful:a,failed:i,percentage:n})}try{await r(t),y("completed"),ef.oR.success(`Successfully imported ${a} bookmarks${i>0?` (${i} failed)`:""}`)}catch(e){ef.oR.error("Import failed: "+(e instanceof Error?e.message:"Unknown error")),y("preview")}},W=()=>{o(""),c(""),h([]),p([]),y("input"),x(!1),T({total:0,processed:0,successful:0,failed:0,percentage:0}),P("text")},H=()=>{t(),W()},q=e=>{h(t=>t.filter(t=>t!==e))},G={total:m.length,valid:m.filter(e=>e.isValid).length,invalid:m.filter(e=>!e.isValid).length,duplicates:m.filter(e=>e.isDuplicate).length,selected:m.filter(e=>e.selected).length};return(0,v.jsx)(A.lG,{open:e,onOpenChange:H,children:(0,v.jsxs)(A.Cf,{className:"max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,v.jsxs)(A.c7,{children:[(0,v.jsxs)(A.L3,{className:"flex items-center gap-2",children:[(0,v.jsx)(Y.A,{className:"h-5 w-5"}),"Robust Bookmark Import Tool"]}),(0,v.jsx)(A.rr,{children:"Advanced bulk bookmark import with duplicate detection, metadata extraction, and progress tracking"})]}),(0,v.jsxs)("div",{className:"flex-1 overflow-hidden",children:["input"===f&&(0,v.jsxs)(e$.tU,{value:D,onValueChange:e=>P(e),children:[(0,v.jsxs)(e$.j7,{className:"grid w-full grid-cols-2",children:[(0,v.jsxs)(e$.Xi,{value:"text",className:"flex items-center gap-2",children:[(0,v.jsx)(e_.A,{className:"h-4 w-4"}),"Text Input"]}),(0,v.jsxs)(e$.Xi,{value:"file",className:"flex items-center gap-2",children:[(0,v.jsx)(Y.A,{className:"h-4 w-4"}),"File Upload"]})]}),(0,v.jsx)(e$.av,{value:"text",className:"space-y-4",children:(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"bulk-input",children:"Paste URLs or bookmark data"}),(0,v.jsx)(eb.T,{id:"bulk-input",placeholder:`Supports multiple formats:
• Plain URLs: https://example.com
• Markdown: [Title](https://example.com)
• HTML: <a href="https://example.com">Title</a>
• JSON: {"url": "https://example.com", "title": "Title"}
• Chrome exports: <DT><A HREF="https://example.com">Title</A>`,value:l,onChange:e=>o(e.target.value),className:"min-h-[200px] font-mono text-sm"}),(0,v.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,v.jsxs)("div",{className:"text-sm text-gray-500",children:[l.split("\n").filter(e=>e.trim()).length," lines"]}),(0,v.jsxs)(C.$,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.readText().then(e=>{o(e),ef.oR.success("Pasted from clipboard")}).catch(()=>{ef.oR.error("Failed to read clipboard")})},children:[(0,v.jsx)(em.A,{className:"h-4 w-4 mr-2"}),"Paste from Clipboard"]})]})]})}),(0,v.jsx)(e$.av,{value:"file",className:"space-y-4",children:(0,v.jsxs)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[(0,v.jsx)("input",{ref:M,type:"file",accept:".html,.json,.txt,.csv",onChange:I,className:"hidden"}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("div",{className:"mx-auto w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:(0,v.jsx)(Y.A,{className:"h-6 w-6 text-gray-600"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-lg font-medium",children:"Upload bookmark file"}),(0,v.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Supports HTML exports from Chrome, Firefox, Safari, and more"})]}),(0,v.jsxs)(C.$,{onClick:()=>M.current?.click(),children:[(0,v.jsx)(Y.A,{className:"h-4 w-4 mr-2"}),"Choose File"]})]})]})}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{children:"Default Folder (Optional)"}),(0,v.jsxs)(en.l6,{value:d,onValueChange:c,children:[(0,v.jsx)(en.bq,{children:(0,v.jsx)(en.yv,{placeholder:"Select folder",children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(E.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Choose folder..."})]})})}),(0,v.jsxs)(en.gC,{children:[(0,v.jsx)(en.eb,{value:"none",children:"No folder"}),s.map(e=>(0,v.jsx)(en.eb,{value:e.id,children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(E.A,{className:"h-4 w-4"}),e.name]})},e.id))]})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{children:"Default Tags (Optional)"}),(0,v.jsxs)(en.l6,{onValueChange:e=>{u.includes(e)||h(t=>[...t,e])},children:[(0,v.jsx)(en.bq,{children:(0,v.jsx)(en.yv,{placeholder:"Add tags",children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(eu.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Add tags..."})]})})}),(0,v.jsx)(en.gC,{children:a.filter(e=>!u.includes(e.id)).map(e=>(0,v.jsx)(en.eb,{value:e.id,children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color||"#gray"}}),e.name]})},e.id))})]}),u.length>0&&(0,v.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:u.map(e=>{let t=a.find(t=>t.id===e);return t?(0,v.jsxs)(X.E,{variant:"secondary",className:"gap-1",children:[(0,v.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color||"#gray"}}),t.name,(0,v.jsx)(el.A,{className:"h-3 w-3 cursor-pointer",onClick:()=>q(t.id)})]},t.id):null})})]})]})]}),"preview"===f&&(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsxs)(X.E,{variant:"outline",className:"gap-1",children:[(0,v.jsx)(K.A,{className:"h-3 w-3"}),G.valid," valid"]}),(0,v.jsxs)(X.E,{variant:"destructive",className:"gap-1",children:[(0,v.jsx)(J.A,{className:"h-3 w-3"}),G.invalid," invalid"]}),(0,v.jsxs)(X.E,{variant:"secondary",className:"gap-1",children:[(0,v.jsx)(em.A,{className:"h-3 w-3"}),G.duplicates," duplicates"]}),(0,v.jsxs)(X.E,{variant:"default",className:"gap-1",children:[(0,v.jsx)(eU.A,{className:"h-3 w-3"}),G.selected," selected"]})]}),(0,v.jsx)(C.$,{variant:"outline",onClick:()=>y("input"),children:"Edit Input"})]}),(0,v.jsx)("div",{className:"flex items-center justify-between",children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(C.$,{variant:"outline",size:"sm",onClick:()=>U(!0),children:"Select All"}),(0,v.jsx)(C.$,{variant:"outline",size:"sm",onClick:()=>U(!1),children:"Deselect All"}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(eI.S,{id:"show-duplicates",checked:j,onCheckedChange:e=>w(!0===e)}),(0,v.jsx)(ej.J,{htmlFor:"show-duplicates",className:"text-sm",children:"Show duplicates"})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(eI.S,{id:"show-invalid",checked:k,onCheckedChange:e=>N(!0===e)}),(0,v.jsx)(ej.J,{htmlFor:"show-invalid",className:"text-sm",children:"Show invalid"})]})]})}),(0,v.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2",children:m.filter(e=>(!!e.isValid||!!k)&&(!e.isDuplicate||!!j)).map(e=>(0,v.jsx)("div",{className:`p-3 border rounded-lg ${e.isDuplicate?"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950":e.isValid?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950":"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950"}`,children:(0,v.jsxs)("div",{className:"flex items-start gap-3",children:[(0,v.jsx)(eI.S,{checked:e.selected,onCheckedChange:()=>_(e.id),disabled:!e.isValid}),e.isValid&&e.favicon&&(0,v.jsx)(ez.default,{src:e.favicon,alt:"",width:16,height:16,className:"w-4 h-4 mt-0.5"}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("div",{className:"font-medium text-sm truncate",children:e.title||e.url}),e.isDuplicate&&(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:"Duplicate"}),!e.isValid&&(0,v.jsx)(X.E,{variant:"destructive",className:"text-xs",children:"Invalid"})]}),(0,v.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.url}),e.description&&(0,v.jsx)("div",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.description}),e.error&&(0,v.jsx)("div",{className:"text-xs text-red-600 mt-1",children:e.error})]})]})},e.id))})]}),"importing"===f&&(0,v.jsx)("div",{className:"flex flex-col items-center justify-center py-12 space-y-6",children:(0,v.jsxs)("div",{className:"w-full max-w-md space-y-4",children:[(0,v.jsx)("div",{className:"flex items-center justify-center",children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-lg font-medium",children:"Importing bookmarks..."}),(0,v.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[S.processed," of ",S.total," processed"]})]}),(0,v.jsx)(eB,{value:S.percentage}),(0,v.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,v.jsxs)("span",{children:["✓ ",S.successful," successful"]}),(0,v.jsxs)("span",{children:["✗ ",S.failed," failed"]})]})]})}),"completed"===f&&(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[(0,v.jsx)(K.A,{className:"h-16 w-16 text-green-500"}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-lg font-medium",children:"Import completed!"}),(0,v.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Successfully imported ",S.successful," bookmarks",S.failed>0&&` (${S.failed} failed)`]})]}),(0,v.jsx)(C.$,{onClick:H,children:"Done"})]}),g&&(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[(0,v.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-lg font-medium",children:"Processing URLs..."}),(0,v.jsx)("div",{className:"text-sm text-gray-500",children:"Extracting metadata and checking for duplicates"})]}),(0,v.jsx)(eB,{value:S.percentage,className:"w-full max-w-md"})]})]}),(0,v.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,v.jsx)(C.$,{variant:"outline",onClick:H,disabled:n||g,children:"Cancel"}),(0,v.jsxs)("div",{className:"space-x-2",children:["input"===f&&(0,v.jsx)(C.$,{onClick:$,disabled:!l.trim()||g,children:g?"Processing...":"Parse & Preview"}),"preview"===f&&(0,v.jsxs)(C.$,{onClick:z,disabled:0===G.selected||n,children:["Import ",G.selected," Bookmarks"]})]})]})]})})}var eH=r(44493),eY=r(89667);function eq(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function eX(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function eK(e,t,r,s){if("function"==typeof t){let[a,i]=eX(s);t=t(void 0!==r?r:e.custom,a,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[a,i]=eX(s);t=t(void 0!==r?r:e.custom,a,i)}return t}function eG(e,t,r){let s=e.getProps();return eK(s,t,void 0!==r?r:s.custom,e)}function eJ(e,t){return e?.[t]??e?.default??e}let eZ=e=>e,eQ={},e0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],e1={value:null,addProjectionMetrics:null};function e2(e,t){let r=!1,s=!0,a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,n=e0.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,s=new Set,a=!1,i=!1,n=new WeakSet,l={delta:0,timestamp:0,isProcessing:!1},o=0;function d(t){n.has(t)&&(c.schedule(t),e()),o++,t(l)}let c={schedule:(e,t=!1,i=!1)=>{let l=i&&a?r:s;return t&&n.add(e),l.has(e)||l.add(e),e},cancel:e=>{s.delete(e),n.delete(e)},process:e=>{if(l=e,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(d),t&&e1.value&&e1.value.frameloop[t].push(o),o=0,r.clear(),a=!1,i&&(i=!1,c.process(e))}};return c}(i,t?r:void 0),e),{}),{setup:l,read:o,resolveKeyframes:d,preUpdate:c,update:u,preRender:h,render:m,postRender:p}=n,g=()=>{let i=eQ.useManualTiming?a.timestamp:performance.now();r=!1,eQ.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(i-a.timestamp,40),1)),a.timestamp=i,a.isProcessing=!0,l.process(a),o.process(a),d.process(a),c.process(a),u.process(a),h.process(a),m.process(a),p.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(g))},x=()=>{r=!0,s=!0,a.isProcessing||e(g)};return{schedule:e0.reduce((e,t)=>{let s=n[t];return e[t]=(e,t=!1,a=!1)=>(r||x(),s.schedule(e,t,a)),e},{}),cancel:e=>{for(let t=0;t<e0.length;t++)n[e0[t]].cancel(e)},state:a,steps:n}}let{schedule:e4,cancel:e3,state:e5,steps:e6}=e2("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:eZ,!0),e8=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],e9=new Set(e8),e7=new Set(["width","height","top","left","right","bottom",...e8]);function te(e,t){-1===e.indexOf(t)&&e.push(t)}function tt(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class tr{constructor(){this.subscriptions=[]}add(e){return te(this.subscriptions,e),()=>tt(this.subscriptions,e)}notify(e,t,r){let s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){let s=this.subscriptions[a];s&&s(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ts(e,t){return t?1e3/t*e:0}function ta(){s=void 0}let ti={now:()=>(void 0===s&&ti.set(e5.isProcessing||eQ.useManualTiming?e5.timestamp:performance.now()),s),set:e=>{s=e,queueMicrotask(ta)}},tn=e=>!isNaN(parseFloat(e)),tl={current:void 0};class to{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let r=ti.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty();t&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ti.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=tn(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tr);let r=this.events[e].add(t);return"change"===e?()=>{r(),e4.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return tl.current&&tl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=ti.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ts(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function td(e,t){return new to(e,t)}let tc=e=>Array.isArray(e),tu=e=>!!(e&&e.getVelocity);function th(e,t){let r=e.getValue("willChange");if(tu(r)&&r.add)return r.add(t);if(!r&&eQ.WillChange){let r=new eQ.WillChange("auto");e.addValue("willChange",r),r.add(t)}}let tm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tp="data-"+tm("framerAppearId"),tg=(e,t)=>r=>t(e(r)),tx=(...e)=>e.reduce(tg),tf=(e,t,r)=>r>t?t:r<e?e:r,ty=e=>1e3*e,tv=e=>e/1e3,tb={layout:0,mainThread:0,waapi:0},tj=()=>{},tw=()=>{},tk=e=>t=>"string"==typeof t&&t.startsWith(e),tN=tk("--"),tC=tk("var(--"),tS=e=>!!tC(e)&&tA.test(e.split("/*")[0].trim()),tA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tT={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},tE={...tT,transform:e=>tf(0,1,e)},tD={...tT,default:1},tP=e=>Math.round(1e5*e)/1e5,tM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tL=(e,t)=>r=>!!("string"==typeof r&&tR.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),tF=(e,t,r)=>s=>{if("string"!=typeof s)return s;let[a,i,n,l]=s.match(tM);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(n),alpha:void 0!==l?parseFloat(l):1}},tO=e=>tf(0,255,e),tV={...tT,transform:e=>Math.round(tO(e))},tB={test:tL("rgb","red"),parse:tF("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+tV.transform(e)+", "+tV.transform(t)+", "+tV.transform(r)+", "+tP(tE.transform(s))+")"},t$={test:tL("#"),parse:function(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}},transform:tB.transform},tI=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),t_=tI("deg"),tU=tI("%"),tz=tI("px"),tW=tI("vh"),tH=tI("vw"),tY={...tU,parse:e=>tU.parse(e)/100,transform:e=>tU.transform(100*e)},tq={test:tL("hsl","hue"),parse:tF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+tU.transform(tP(t))+", "+tU.transform(tP(r))+", "+tP(tE.transform(s))+")"},tX={test:e=>tB.test(e)||t$.test(e)||tq.test(e),parse:e=>tB.test(e)?tB.parse(e):tq.test(e)?tq.parse(e):t$.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?tB.transform(e):tq.transform(e)},tK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tG="number",tJ="color",tZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tQ(e){let t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[],i=0,n=t.replace(tZ,e=>(tX.test(e)?(s.color.push(i),a.push(tJ),r.push(tX.parse(e))):e.startsWith("var(")?(s.var.push(i),a.push("var"),r.push(e)):(s.number.push(i),a.push(tG),r.push(parseFloat(e))),++i,"${}")).split("${}");return{values:r,split:n,indexes:s,types:a}}function t0(e){return tQ(e).values}function t1(e){let{split:t,types:r}=tQ(e),s=t.length;return e=>{let a="";for(let i=0;i<s;i++)if(a+=t[i],void 0!==e[i]){let t=r[i];t===tG?a+=tP(e[i]):t===tJ?a+=tX.transform(e[i]):a+=e[i]}return a}}let t2=e=>"number"==typeof e?0:e,t4={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(tM)?.length||0)+(e.match(tK)?.length||0)>0},parse:t0,createTransformer:t1,getAnimatableNone:function(e){let t=t0(e);return t1(e)(t.map(t2))}};function t3(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function t5(e,t){return r=>r>0?t:e}let t6=(e,t,r)=>e+(t-e)*r,t8=(e,t,r)=>{let s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},t9=[t$,tB,tq],t7=e=>t9.find(t=>t.test(e));function re(e){let t=t7(e);if(tj(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let r=t.parse(e);return t===tq&&(r=function({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,r/=100;let a=0,i=0,n=0;if(t/=100){let s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;a=t3(l,s,e+1/3),i=t3(l,s,e),n=t3(l,s,e-1/3)}else a=i=n=r;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*n),alpha:s}}(r)),r}let rt=(e,t)=>{let r=re(e),s=re(t);if(!r||!s)return t5(e,t);let a={...r};return e=>(a.red=t8(r.red,s.red,e),a.green=t8(r.green,s.green,e),a.blue=t8(r.blue,s.blue,e),a.alpha=t6(r.alpha,s.alpha,e),tB.transform(a))},rr=new Set(["none","hidden"]);function rs(e,t){return r=>t6(e,t,r)}function ra(e){return"number"==typeof e?rs:"string"==typeof e?tS(e)?t5:tX.test(e)?rt:rl:Array.isArray(e)?ri:"object"==typeof e?tX.test(e)?rt:rn:t5}function ri(e,t){let r=[...e],s=r.length,a=e.map((e,r)=>ra(e)(e,t[r]));return e=>{for(let t=0;t<s;t++)r[t]=a[t](e);return r}}function rn(e,t){let r={...e,...t},s={};for(let a in r)void 0!==e[a]&&void 0!==t[a]&&(s[a]=ra(e[a])(e[a],t[a]));return e=>{for(let t in s)r[t]=s[t](e);return r}}let rl=(e,t)=>{let r=t4.createTransformer(t),s=tQ(e),a=tQ(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?rr.has(e)&&!a.values.length||rr.has(t)&&!s.values.length?function(e,t){return rr.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):tx(ri(function(e,t){let r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){let i=t.types[a],n=e.indexes[i][s[i]],l=e.values[n]??0;r[a]=l,s[i]++}return r}(s,a),a.values),r):(tj(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),t5(e,t))};function ro(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?t6(e,t,r):ra(e)(e,t)}let rd=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>e4.update(t,e),stop:()=>e3(t),now:()=>e5.isProcessing?e5.timestamp:ti.now()}},rc=(e,t,r=10)=>{let s="",a=Math.max(Math.round(t/r),2);for(let t=0;t<a;t++)s+=e(t/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`};function ru(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function rh(e,t,r){let s=Math.max(t-5,0);return ts(r-e(s),t-s)}let rm={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function rp(e,t){return e*Math.sqrt(1-t*t)}let rg=["duration","bounce"],rx=["stiffness","damping","mass"];function rf(e,t){return t.some(t=>void 0!==e[t])}function ry(e=rm.visualDuration,t=rm.bounce){let r,s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:a,restDelta:i}=s,n=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],o={done:!1,value:n},{stiffness:d,damping:c,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=function(e){let t={velocity:rm.velocity,stiffness:rm.stiffness,damping:rm.damping,mass:rm.mass,isResolvedFromDuration:!1,...e};if(!rf(e,rx)&&rf(e,rg))if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),s=r*r,a=2*tf(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:rm.mass,stiffness:s,damping:a}}else{let r=function({duration:e=rm.duration,bounce:t=rm.bounce,velocity:r=rm.velocity,mass:s=rm.mass}){let a,i;tj(e<=ty(rm.maxDuration),"Spring duration must be 10 seconds or less");let n=1-t;n=tf(rm.minDamping,rm.maxDamping,n),e=tf(rm.minDuration,rm.maxDuration,tv(e)),n<1?(a=t=>{let s=t*n,a=s*e;return .001-(s-r)/rp(t,n)*Math.exp(-a)},i=t=>{let s=t*n*e,i=Math.pow(n,2)*Math.pow(t,2)*e,l=Math.exp(-s),o=rp(Math.pow(t,2),n);return(s*r+r-i)*l*(-a(t)+.001>0?-1:1)/o}):(a=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),i=t=>e*e*(r-t)*Math.exp(-t*e));let l=function(e,t,r){let s=r;for(let r=1;r<12;r++)s-=e(s)/t(s);return s}(a,i,5/e);if(e=ty(e),isNaN(l))return{stiffness:rm.stiffness,damping:rm.damping,duration:e};{let t=Math.pow(l,2)*s;return{stiffness:t,damping:2*n*Math.sqrt(s*t),duration:e}}}(e);(t={...t,...r,mass:rm.mass}).isResolvedFromDuration=!0}return t}({...s,velocity:-tv(s.velocity||0)}),g=m||0,x=c/(2*Math.sqrt(d*u)),f=l-n,y=tv(Math.sqrt(d/u)),v=5>Math.abs(f);if(a||(a=v?rm.restSpeed.granular:rm.restSpeed.default),i||(i=v?rm.restDelta.granular:rm.restDelta.default),x<1){let e=rp(y,x);r=t=>l-Math.exp(-x*y*t)*((g+x*y*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}else if(1===x)r=e=>l-Math.exp(-y*e)*(f+(g+y*f)*e);else{let e=y*Math.sqrt(x*x-1);r=t=>{let r=Math.exp(-x*y*t),s=Math.min(e*t,300);return l-r*((g+x*y*f)*Math.sinh(s)+e*f*Math.cosh(s))/e}}let b={calculatedDuration:p&&h||null,next:e=>{let t=r(e);if(p)o.done=e>=h;else{let s=0===e?g:0;x<1&&(s=0===e?ty(g):rh(r,e,t));let n=Math.abs(l-t)<=i;o.done=Math.abs(s)<=a&&n}return o.value=o.done?l:t,o},toString:()=>{let e=Math.min(ru(b),2e4),t=rc(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function rv({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:n,min:l,max:o,restDelta:d=.5,restSpeed:c}){let u,h,m=e[0],p={done:!1,value:m},g=e=>void 0!==l&&e<l||void 0!==o&&e>o,x=e=>void 0===l?o:void 0===o||Math.abs(l-e)<Math.abs(o-e)?l:o,f=r*t,y=m+f,v=void 0===n?y:n(y);v!==y&&(f=v-m);let b=e=>-f*Math.exp(-e/s),j=e=>v+b(e),w=e=>{let t=b(e),r=j(e);p.done=Math.abs(t)<=d,p.value=p.done?v:r},k=e=>{g(p.value)&&(u=e,h=ry({keyframes:[p.value,x(p.value)],velocity:rh(j,e,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:c}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==u||(t=!0,w(e),k(e)),void 0!==u&&e>=u)?h.next(e-u):(t||w(e),p)}}}ry.applyToOptions=e=>{let t=function(e,t=100,r){let s=r({...e,keyframes:[0,t]}),a=Math.min(ru(s),2e4);return{type:"keyframes",ease:e=>s.next(a*e).value/t,duration:tv(a)}}(e,100,ry);return e.ease=t.ease,e.duration=ty(t.duration),e.type="keyframes",e};let rb=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function rj(e,t,r,s){if(e===t&&r===s)return eZ;let a=t=>(function(e,t,r,s,a){let i,n,l=0;do(i=rb(n=t+(r-t)/2,s,a)-e)>0?r=n:t=n;while(Math.abs(i)>1e-7&&++l<12);return n})(t,0,1,e,r);return e=>0===e||1===e?e:rb(a(e),t,s)}let rw=rj(.42,0,1,1),rk=rj(0,0,.58,1),rN=rj(.42,0,.58,1),rC=e=>Array.isArray(e)&&"number"!=typeof e[0],rS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rA=e=>t=>1-e(1-t),rT=rj(.33,1.53,.69,.99),rE=rA(rT),rD=rS(rE),rP=e=>(e*=2)<1?.5*rE(e):.5*(2-Math.pow(2,-10*(e-1))),rM=e=>1-Math.sin(Math.acos(e)),rR=rA(rM),rL=rS(rM),rF=e=>Array.isArray(e)&&"number"==typeof e[0],rO={linear:eZ,easeIn:rw,easeInOut:rN,easeOut:rk,circIn:rM,circInOut:rL,circOut:rR,backIn:rE,backInOut:rD,backOut:rT,anticipate:rP},rV=e=>"string"==typeof e,rB=e=>{if(rF(e)){tw(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,r,s,a]=e;return rj(t,r,s,a)}return rV(e)?(tw(void 0!==rO[e],`Invalid easing type '${e}'`),rO[e]):e},r$=(e,t,r)=>{let s=t-e;return 0===s?1:(r-e)/s};function rI(e,t,{clamp:r=!0,ease:s,mixer:a}={}){let i=e.length;if(tw(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];let n=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());let l=function(e,t,r){let s=[],a=r||eQ.mix||ro,i=e.length-1;for(let r=0;r<i;r++){let i=a(e[r],e[r+1]);t&&(i=tx(Array.isArray(t)?t[r]||eZ:t,i)),s.push(i)}return s}(t,s,a),o=l.length,d=r=>{if(n&&r<e[0])return t[0];let s=0;if(o>1)for(;s<e.length-2&&!(r<e[s+1]);s++);let a=r$(e[s],e[s+1],r);return l[s](a)};return r?t=>d(tf(e[0],e[i-1],t)):d}function r_(e){let t=[0];return!function(e,t){let r=e[e.length-1];for(let s=1;s<=t;s++){let a=r$(0,t,s);e.push(t6(r,1,a))}}(t,e.length-1),t}function rU({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){var a;let i=rC(s)?s.map(rB):rB(s),n={done:!1,value:t[0]},l=rI((a=r&&r.length===t.length?r:r_(t),a.map(t=>t*e)),t,{ease:Array.isArray(i)?i:t.map(()=>i||rN).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(n.value=l(t),n.done=t>=e,n)}}let rz=e=>null!==e;function rW(e,{repeat:t,repeatType:r="loop"},s,a=1){let i=e.filter(rz),n=a<0||t&&"loop"!==r&&t%2==1?0:i.length-1;return n&&void 0!==s?s:i[n]}let rH={decay:rv,inertia:rv,tween:rU,keyframes:rU,spring:ry};function rY(e){"string"==typeof e.type&&(e.type=rH[e.type])}class rq{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let rX=e=>e/100;class rK extends rq{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==ti.now()&&this.tick(ti.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},tb.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;rY(e);let{type:t=rU,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=e,{keyframes:n}=e,l=t||rU;l!==rU&&"number"!=typeof n[0]&&(this.mixKeyframes=tx(rX,ro(n[0],n[1])),n=[0,100]);let o=l({...e,keyframes:n});"mirror"===a&&(this.mirroredGenerator=l({...e,keyframes:[...n].reverse(),velocity:-i})),null===o.calculatedDuration&&(o.calculatedDuration=ru(o));let{calculatedDuration:d}=o;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=o}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:n,calculatedDuration:l}=this;if(null===this.startTime)return r.next(0);let{delay:o=0,keyframes:d,repeat:c,repeatType:u,repeatDelay:h,type:m,onUpdate:p,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let x=this.currentTime-o*(this.playbackSpeed>=0?1:-1),f=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=s);let y=this.currentTime,v=r;if(c){let e=Math.min(this.currentTime,s)/n,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,c+1))%2&&("reverse"===u?(r=1-r,h&&(r-=h/n)):"mirror"===u&&(v=i)),y=tf(0,1,r)*n}let b=f?{done:!1,value:d[0]}:v.next(y);a&&(b.value=a(b.value));let{done:j}=b;f||null===l||(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&m!==rv&&(b.value=rW(d,this.options,g,this.speed)),p&&p(b.value),w&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return tv(this.calculatedDuration)}get time(){return tv(this.currentTime)}set time(e){e=ty(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ti.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=tv(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=rd,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ti.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,tb.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}let rG=e=>180*e/Math.PI,rJ=e=>rQ(rG(Math.atan2(e[1],e[0]))),rZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rJ,rotateZ:rJ,skewX:e=>rG(Math.atan(e[1])),skewY:e=>rG(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rQ=e=>((e%=360)<0&&(e+=360),e),r0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),r1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),r2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r0,scaleY:r1,scale:e=>(r0(e)+r1(e))/2,rotateX:e=>rQ(rG(Math.atan2(e[6],e[5]))),rotateY:e=>rQ(rG(Math.atan2(-e[2],e[0]))),rotateZ:rJ,rotate:rJ,skewX:e=>rG(Math.atan(e[4])),skewY:e=>rG(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function r4(e){return+!!e.includes("scale")}function r3(e,t){let r,s;if(!e||"none"===e)return r4(t);let a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(a)r=r2,s=a;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rZ,s=t}if(!s)return r4(t);let i=r[t],n=s[1].split(",").map(r6);return"function"==typeof i?i(n):n[i]}let r5=(e,t)=>{let{transform:r="none"}=getComputedStyle(e);return r3(r,t)};function r6(e){return parseFloat(e.trim())}let r8=e=>e===tT||e===tz,r9=new Set(["x","y","z"]),r7=e8.filter(e=>!r9.has(e)),se={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>r3(t,"x"),y:(e,{transform:t})=>r3(t,"y")};se.translateX=se.x,se.translateY=se.y;let st=new Set,sr=!1,ss=!1,sa=!1;function si(){if(ss){let e=Array.from(st).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t=function(e){let t=[];return r7.forEach(r=>{let s=e.getValue(r);void 0!==s&&(t.push([r,s.get()]),s.set(+!!r.startsWith("scale")))}),t}(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ss=!1,sr=!1,st.forEach(e=>e.complete(sa)),st.clear()}function sn(){st.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ss=!0)})}class sl{constructor(e,t,r,s,a,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(st.add(this),sr||(sr=!0,e4.read(sn),e4.resolveKeyframes(si))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(null===e[0]){let a=s?.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(r&&t){let s=r.readValue(t,i);null!=s&&(e[0]=s)}void 0===e[0]&&(e[0]=i),s&&void 0===a&&s.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),st.delete(this)}cancel(){"scheduled"===this.state&&(st.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let so=e=>e.startsWith("--");function sd(e){let t;return()=>(void 0===t&&(t=e()),t)}let sc=sd(()=>void 0!==window.ScrollTimeline),su={},sh=function(e,t){let r=sd(e);return()=>su[t]??r()}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),sm=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,sp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sm([0,.65,.55,1]),circOut:sm([.55,0,1,.45]),backIn:sm([.31,.01,.66,-.59]),backOut:sm([.33,1.53,.69,.99])};function sg(e){return"function"==typeof e&&"applyToOptions"in e}class sx extends rq{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:r,keyframes:s,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:n,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=i,this.options=e,tw("string"!=typeof e.type,'animateMini doesn\'t support "type" as a string. Did you mean to import { spring } from "motion"?');let o=function({type:e,...t}){return sg(e)&&sh()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:n="loop",ease:l="easeOut",times:o}={},d){let c={[t]:r};o&&(c.offset=o);let u=function e(t,r){if(t)return"function"==typeof t?sh()?rc(t,r):"ease-out":rF(t)?sm(t):Array.isArray(t)?t.map(t=>e(t,r)||sp.easeOut):sp[t]}(l,a);Array.isArray(u)&&(c.easing=u),e1.value&&tb.waapi++;let h={delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===n?"alternate":"normal"};d&&(h.pseudoElement=d);let m=e.animate(c,h);return e1.value&&m.finished.finally(()=>{tb.waapi--}),m}(t,r,s,o,a),!1===o.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){let e=rW(s,this.options,n,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,r){so(t)?e.style.setProperty(t,r):e.style[t]=r}(t,r,e),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return tv(Number(this.animation.effect?.getComputedTiming?.().duration||0))}get time(){return tv(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ty(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sc())?(this.animation.timeline=e,eZ):t(this)}}let sf={anticipate:rP,backInOut:rD,circInOut:rL};class sy extends sx{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in sf&&(e.ease=sf[e.ease])}(e),rY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:s,element:a,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let n=new rK({...i,autoplay:!1}),l=ty(this.finishedTime??this.time);t.setWithVelocity(n.sample(l-10).value,n.sample(l).value,10),n.stop()}}let sv=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(t4.test(e)||"0"===e)&&!e.startsWith("url("));function sb(e){return"object"==typeof e&&null!==e}function sj(e){return sb(e)&&"offsetHeight"in e}let sw=new Set(["opacity","clipPath","filter","transform"]),sk=sd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class sN extends rq{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",keyframes:n,name:l,motionValue:o,element:d,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ti.now();let u={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:i,name:l,motionValue:o,element:d,...c},h=d?.KeyframeResolver||sl;this.keyframeResolver=new h(n,(e,t,r)=>this.onKeyframesResolved(e,t,u,!r),l,o,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;let{name:a,type:i,velocity:n,delay:l,isHandoff:o,onUpdate:d}=r;this.resolvedAt=ti.now(),!function(e,t,r,s){let a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;let i=e[e.length-1],n=sv(a,t),l=sv(i,t);return tj(n===l,`You are trying to animate ${t} from "${a}" to "${i}". ${a} is not an animatable value - to enable this animation set ${a} to a value animatable to ${i} via the \`style\` property.`),!!n&&!!l&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||sg(r))&&s)}(e,a,i,n)&&((eQ.instantAnimations||!l)&&d?.(rW(e,r,t)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);let c={startTime:s?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},u=!o&&function(e){let{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:i,type:n}=e;if(!sj(t?.owner?.current))return!1;let{onUpdate:l,transformTemplate:o}=t.owner.getProps();return sk()&&r&&sw.has(r)&&("transform"!==r||!o)&&!l&&!s&&"mirror"!==a&&0!==i&&"inertia"!==n}(c)?new sy({...c,element:c.motionValue.owner.current}):new rK(c);u.finished.then(()=>this.notifyFinished()).catch(eZ),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sa=!0,sn(),si(),sa=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let sC=e=>null!==e,sS={type:"spring",stiffness:500,damping:25,restSpeed:10},sA=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),sT={type:"keyframes",duration:.8},sE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sD=(e,{keyframes:t})=>t.length>2?sT:e9.has(e)?e.startsWith("scale")?sA(t[1]):sS:sE,sP=(e,t,r,s={},a,i)=>n=>{let l=eJ(s,e)||{},o=l.delay||s.delay||0,{elapsed:d=0}=s;d-=ty(o);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{n(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};!function({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:n,repeatDelay:l,from:o,elapsed:d,...c}){return!!Object.keys(c).length}(l)&&Object.assign(c,sD(e,c)),c.duration&&(c.duration=ty(c.duration)),c.repeatDelay&&(c.repeatDelay=ty(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let u=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(c.duration=0,0===c.delay&&(u=!0)),(eQ.instantAnimations||eQ.skipAnimations)&&(u=!0,c.duration=0,c.delay=0),c.allowFlatten=!l.type&&!l.ease,u&&!i&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},s){let a=e.filter(sC),i=t&&"loop"!==r&&t%2==1?0:a.length-1;return a[i]}(c.keyframes,l);if(void 0!==e)return void e4.update(()=>{c.onUpdate(e),c.onComplete()})}return l.isSync?new rK(c):new sN(c)};function sM(e,t,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:n,...l}=t;s&&(i=s);let o=[],d=a&&e.animationState&&e.animationState.getState()[a];for(let t in l){let s=e.getValue(t,e.latestValues[t]??null),a=l[t];if(void 0===a||d&&function({protectedKeys:e,needsAnimating:t},r){let s=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,s}(d,t))continue;let n={delay:r,...eJ(i||{},t)},c=s.get();if(void 0!==c&&!s.isAnimating&&!Array.isArray(a)&&a===c&&!n.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){let r=e.props[tp];if(r){let e=window.MotionHandoffAnimation(r,t,e4);null!==e&&(n.startTime=e,u=!0)}}th(e,t),s.start(sP(t,s,a,e.shouldReduceMotion&&e7.has(t)?{type:!1}:n,e,u));let h=s.animation;h&&o.push(h)}return n&&Promise.all(o).then(()=>{e4.update(()=>{n&&function(e,t){let{transitionEnd:r={},transition:s={},...a}=eG(e,t)||{};for(let t in a={...a,...r}){var i;let r=tc(i=a[t])?i[i.length-1]||0:i;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,td(r))}}(e,n)})}),o}function sR(e,t,r={}){let s=eG(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);let i=s?()=>Promise.all(sM(e,s,r)):()=>Promise.resolve(),n=e.variantChildren&&e.variantChildren.size?(s=0)=>{let{delayChildren:i=0,staggerChildren:n,staggerDirection:l}=a;return function(e,t,r=0,s=0,a=1,i){let n=[],l=(e.variantChildren.size-1)*s,o=1===a?(e=0)=>e*s:(e=0)=>l-e*s;return Array.from(e.variantChildren).sort(sL).forEach((e,s)=>{e.notify("AnimationStart",t),n.push(sR(e,t,{...i,delay:r+o(s)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(n)}(e,t,i+s,n,l,r)}:()=>Promise.resolve(),{when:l}=a;if(!l)return Promise.all([i(),n(r.delay)]);{let[e,t]="beforeChildren"===l?[i,n]:[n,i];return e().then(()=>t())}}function sL(e,t){return e.sortNodePosition(t)}function sF(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function sO(e){return"string"==typeof e||Array.isArray(e)}let sV=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sB=["initial",...sV],s$=sB.length,sI=[...sV].reverse(),s_=sV.length;function sU(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sz(){return{animate:sU(!0),whileInView:sU(),whileHover:sU(),whileTap:sU(),whileDrag:sU(),whileFocus:sU(),exit:sU()}}class sW{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sH extends sW{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let s;if(e.notify("AnimationStart",t),Array.isArray(t))s=Promise.all(t.map(t=>sR(e,t,r)));else if("string"==typeof t)s=sR(e,t,r);else{let a="function"==typeof t?eG(e,t,r.custom):t;s=Promise.all(sM(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=sz(),s=!0,a=t=>(r,s)=>{let a=eG(e,s,"exit"===t?e.presenceContext?.custom:void 0);if(a){let{transition:e,transitionEnd:t,...s}=a;r={...r,...s,...t}}return r};function i(i){let{props:n}=e,l=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<s$;e++){let s=sB[e],a=t.props[s];(sO(a)||!1===a)&&(r[s]=a)}return r}(e.parent)||{},o=[],d=new Set,c={},u=1/0;for(let t=0;t<s_;t++){var h,m;let p=sI[t],g=r[p],x=void 0!==n[p]?n[p]:l[p],f=sO(x),y=p===i?g.isActive:null;!1===y&&(u=t);let v=x===l[p]&&x!==n[p]&&f;if(v&&s&&e.manuallyAnimateOnMount&&(v=!1),g.protectedKeys={...c},!g.isActive&&null===y||!x&&!g.prevProp||eq(x)||"boolean"==typeof x)continue;let b=(h=g.prevProp,"string"==typeof(m=x)?m!==h:!!Array.isArray(m)&&!sF(m,h)),j=b||p===i&&g.isActive&&!v&&f||t>u&&f,w=!1,k=Array.isArray(x)?x:[x],N=k.reduce(a(p),{});!1===y&&(N={});let{prevResolvedValues:C={}}=g,S={...C,...N},A=t=>{j=!0,d.has(t)&&(w=!0,d.delete(t)),g.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in S){let t=N[e],r=C[e];if(c.hasOwnProperty(e))continue;let s=!1;(tc(t)&&tc(r)?sF(t,r):t===r)?void 0!==t&&d.has(e)?A(e):g.protectedKeys[e]=!0:null!=t?A(e):d.add(e)}g.prevProp=x,g.prevResolvedValues=N,g.isActive&&(c={...c,...N}),s&&e.blockInitialAnimation&&(j=!1);let T=!(v&&b)||w;j&&T&&o.push(...k.map(e=>({animation:e,options:{type:p}})))}if(d.size){let t={};if("boolean"!=typeof n.initial){let r=eG(e,Array.isArray(n.initial)?n.initial[0]:n.initial);r&&r.transition&&(t.transition=r.transition)}d.forEach(r=>{let s=e.getBaseTarget(r),a=e.getValue(r);a&&(a.liveStyle=!0),t[r]=s??null}),o.push({animation:t})}let p=!!o.length;return s&&(!1===n.initial||n.initial===n.animate)&&!e.manuallyAnimateOnMount&&(p=!1),s=!1,p?t(o):Promise.resolve()}return{animateChanges:i,setActive:function(t,s){if(r[t].isActive===s)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,s)),r[t].isActive=s;let a=i(t);for(let e in r)r[e].protectedKeys={};return a},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=sz(),s=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();eq(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let sY=0;class sq extends sW{constructor(){super(...arguments),this.id=sY++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}let sX={x:!1,y:!1};function sK(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}let sG=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function sJ(e){return{point:{x:e.pageX,y:e.pageY}}}let sZ=e=>t=>sG(t)&&e(t,sJ(t));function sQ(e,t,r,s){return sK(e,t,sZ(r),s)}function s0({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function s1(e){return e.max-e.min}function s2(e,t,r,s=.5){e.origin=s,e.originPoint=t6(t.min,t.max,e.origin),e.scale=s1(r)/s1(t),e.translate=t6(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function s4(e,t,r,s){s2(e.x,t.x,r.x,s?s.originX:void 0),s2(e.y,t.y,r.y,s?s.originY:void 0)}function s3(e,t,r){e.min=r.min+t.min,e.max=e.min+s1(t)}function s5(e,t,r){e.min=t.min-r.min,e.max=e.min+s1(t)}function s6(e,t,r){s5(e.x,t.x,r.x),s5(e.y,t.y,r.y)}let s8=()=>({translate:0,scale:1,origin:0,originPoint:0}),s9=()=>({x:s8(),y:s8()}),s7=()=>({min:0,max:0}),ae=()=>({x:s7(),y:s7()});function at(e){return[e("x"),e("y")]}function ar(e){return void 0===e||1===e}function as({scale:e,scaleX:t,scaleY:r}){return!ar(e)||!ar(t)||!ar(r)}function aa(e){return as(e)||ai(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ai(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function an(e,t,r,s,a){return void 0!==a&&(e=s+a*(e-s)),s+r*(e-s)+t}function al(e,t=0,r=1,s,a){e.min=an(e.min,t,r,s,a),e.max=an(e.max,t,r,s,a)}function ao(e,{x:t,y:r}){al(e.x,t.translate,t.scale,t.originPoint),al(e.y,r.translate,r.scale,r.originPoint)}function ad(e,t){e.min=e.min+t,e.max=e.max+t}function ac(e,t,r,s,a=.5){let i=t6(e.min,e.max,a);al(e,t,r,i,s)}function au(e,t){ac(e.x,t.x,t.scaleX,t.scale,t.originX),ac(e.y,t.y,t.scaleY,t.scale,t.originY)}function ah(e,t){return s0(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}let am=({current:e})=>e?e.ownerDocument.defaultView:null;function ap(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let ag=(e,t)=>Math.abs(e-t);class ax{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=av(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){return Math.sqrt(ag(e.x,t.x)**2+ag(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;let{point:s}=e,{timestamp:a}=e5;this.history.push({...s,timestamp:a});let{onStart:i,onMove:n}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),n&&n(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=af(t,this.transformPagePoint),e4.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:s,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=av("pointercancel"===e.type?this.lastMoveEventInfo:af(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,i),s&&s(e,i)},!sG(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;let i=af(sJ(e),this.transformPagePoint),{point:n}=i,{timestamp:l}=e5;this.history=[{...n,timestamp:l}];let{onSessionStart:o}=t;o&&o(e,av(i,this.history)),this.removeListeners=tx(sQ(this.contextWindow,"pointermove",this.handlePointerMove),sQ(this.contextWindow,"pointerup",this.handlePointerUp),sQ(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),e3(this.updatePoint)}}function af(e,t){return t?{point:t(e.point)}:e}function ay(e,t){return{x:e.x-t.x,y:e.y-t.y}}function av({point:e},t){return{point:e,delta:ay(e,ab(t)),offset:ay(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null,a=ab(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>ty(.1)));)r--;if(!s)return{x:0,y:0};let i=tv(a.timestamp-s.timestamp);if(0===i)return{x:0,y:0};let n={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return n.x===1/0&&(n.x=0),n.y===1/0&&(n.y=0),n}(t,.1)}}function ab(e){return e[e.length-1]}function aj(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function aw(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function ak(e,t,r){return{min:aN(e,t),max:aN(e,r)}}function aN(e,t){return"number"==typeof e?e:e[t]||0}let aC=new WeakMap;class aS{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ae(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let{dragSnapToOrigin:s}=this.getProps();this.panSession=new ax(e,{onSessionStart:e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(sJ(e).point)},onStart:(e,t)=>{let{drag:r,dragPropagation:s,onDragStart:a}=this.getProps();if(r&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(sX[e])return null;else return sX[e]=!0,()=>{sX[e]=!1};return sX.x||sX.y?null:(sX.x=sX.y=!0,()=>{sX.x=sX.y=!1})}(r),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),at(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tU.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let s=r.layout.layoutBox[e];s&&(t=s1(s)*(parseFloat(t)/100))}}this.originPoint[e]=t}),a&&e4.postRender(()=>a(e,t)),th(this.visualElement,"transform");let{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:r,dragDirectionLock:s,onDirectionLock:a,onDrag:i}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:n}=t;if(s&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(n),null!==this.currentDirection&&a&&a(this.currentDirection);return}this.updateAxis("x",t.point,n),this.updateAxis("y",t.point,n),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>at(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:am(this.visualElement)})}stop(e,t){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:s}=t;this.startAnimation(s);let{onDragEnd:a}=this.getProps();a&&e4.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:s}=this.getProps();if(!r||!aA(e,s,this.currentDirection))return;let a=this.getAxisMotionValue(e),i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:r},s){return void 0!==t&&e<t?e=s?t6(t,e,s.min):Math.max(e,t):void 0!==r&&e>r&&(e=s?t6(r,e,s.max):Math.min(e,r)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ap(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:s,right:a}){return{x:aj(e.x,r,a),y:aj(e.y,t,s)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:ak(e,"left","right"),y:ak(e,"top","bottom")}}(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&at(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ap(t))return!1;let s=t.current;tw(null!==s,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:a}=this.visualElement;if(!a||!a.layout)return!1;let i=function(e,t,r){let s=ah(e,r),{scroll:a}=t;return a&&(ad(s.x,a.offset.x),ad(s.y,a.offset.y)),s}(s,a.root,this.visualElement.getTransformPagePoint()),n=(e=a.layout.layoutBox,{x:aw(e.x,i.x),y:aw(e.y,i.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(n));this.hasMutatedConstraints=!!e,e&&(n=s0(e))}return n}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:n}=this.getProps(),l=this.constraints||{};return Promise.all(at(n=>{if(!aA(n,t,this.currentDirection))return;let o=l&&l[n]||{};i&&(o={min:0,max:0});let d={type:"inertia",velocity:r?e[n]:0,bounceStiffness:s?200:1e6,bounceDamping:s?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...a,...o};return this.startAxisValueAnimation(n,d)})).then(n)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return th(this.visualElement,e),r.start(sP(e,r,0,t,this.visualElement,!1))}stopAnimation(){at(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){at(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){at(t=>{let{drag:r}=this.getProps();if(!aA(t,r,this.currentDirection))return;let{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){let{min:r,max:i}=s.layout.layoutBox[t];a.set(e[t]-t6(r,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ap(t)||!r||!this.constraints)return;this.stopAnimation();let s={x:0,y:0};at(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let r=t.get();s[e]=function(e,t){let r=.5,s=s1(e),a=s1(t);return a>s?r=r$(t.min,t.max-s,e.min):s>a&&(r=r$(e.min,e.max-a,t.min)),tf(0,1,r)}({min:r,max:r},this.constraints[e])}});let{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),at(t=>{if(!aA(t,e,null))return;let r=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];r.set(t6(a,i,s[t]))})}addListeners(){if(!this.visualElement.current)return;aC.set(this.visualElement,this);let e=sQ(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();ap(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),e4.read(t);let a=sK(window,"resize",()=>this.scalePositionWithinConstraints()),i=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(at(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),e(),s(),i&&i()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=.35,dragMomentum:n=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:n}}}function aA(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}class aT extends sW{constructor(e){super(e),this.removeGroupControls=eZ,this.removeListeners=eZ,this.controls=new aS(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eZ}unmount(){this.removeGroupControls(),this.removeListeners()}}let aE=e=>(t,r)=>{e&&e4.postRender(()=>e(t,r))};class aD extends sW{constructor(){super(...arguments),this.removePointerDownListener=eZ}onPointerDown(e){this.session=new ax(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:am(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:aE(e),onStart:aE(t),onMove:r,onEnd:(e,t)=>{delete this.session,s&&e4.postRender(()=>s(e,t))}}}mount(){this.removePointerDownListener=sQ(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let{schedule:aP}=e2(queueMicrotask,!1),aM=(0,b.createContext)(null);function aR(e=!0){let t=(0,b.useContext)(aM);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:s,register:a}=t,i=(0,b.useId)();(0,b.useEffect)(()=>{if(e)return a(i)},[e]);let n=(0,b.useCallback)(()=>e&&s&&s(i),[i,s,e]);return!r&&s?[!1,n]:[!0]}let aL=(0,b.createContext)({}),aF=(0,b.createContext)({}),aO={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aV(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let aB={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!tz.test(e))return e;else e=parseFloat(e);let r=aV(e,t.target.x),s=aV(e,t.target.y);return`${r}% ${s}%`}},a$={};class aI extends b.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;for(let e in aU)a$[e]=aU[e],tN(e)&&(a$[e].isCSSVariable=!0);a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),aO.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,{projection:i}=r;return i&&(i.isPresent=a,s||e.layoutDependency!==t||void 0===t||e.isPresent!==a?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||e4.postRender(()=>{let e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),aP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a_(e){let[t,r]=aR(),s=(0,b.useContext)(aL);return(0,v.jsx)(aI,{...e,layoutGroup:s,switchLayoutGroup:(0,b.useContext)(aF),isPresent:t,safeToRemove:r})}let aU={borderRadius:{...aB,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:aB,borderTopRightRadius:aB,borderBottomLeftRadius:aB,borderBottomRightRadius:aB,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let s=t4.parse(e);if(s.length>5)return e;let a=t4.createTransformer(e),i=+("number"!=typeof s[0]),n=r.x.scale*t.x,l=r.y.scale*t.y;s[0+i]/=n,s[1+i]/=l;let o=t6(n,l,.5);return"number"==typeof s[2+i]&&(s[2+i]/=o),"number"==typeof s[3+i]&&(s[3+i]/=o),a(s)}}};function az(e){return sb(e)&&"ownerSVGElement"in e}let aW=(e,t)=>e.depth-t.depth;class aH{constructor(){this.children=[],this.isDirty=!1}add(e){te(this.children,e),this.isDirty=!0}remove(e){tt(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aW),this.isDirty=!1,this.children.forEach(e)}}function aY(e){return tu(e)?e.get():e}let aq=["TopLeft","TopRight","BottomLeft","BottomRight"],aX=aq.length,aK=e=>"string"==typeof e?parseFloat(e):e,aG=e=>"number"==typeof e||tz.test(e);function aJ(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let aZ=a0(0,.5,rR),aQ=a0(.5,.95,eZ);function a0(e,t,r){return s=>s<e?0:s>t?1:r(r$(e,t,s))}function a1(e,t){e.min=t.min,e.max=t.max}function a2(e,t){a1(e.x,t.x),a1(e.y,t.y)}function a4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function a3(e,t,r,s,a){return e-=t,e=s+1/r*(e-s),void 0!==a&&(e=s+1/a*(e-s)),e}function a5(e,t,[r,s,a],i,n){!function(e,t=0,r=1,s=.5,a,i=e,n=e){if(tU.test(t)&&(t=parseFloat(t),t=t6(n.min,n.max,t/100)-n.min),"number"!=typeof t)return;let l=t6(i.min,i.max,s);e===i&&(l-=t),e.min=a3(e.min,t,r,l,a),e.max=a3(e.max,t,r,l,a)}(e,t[r],t[s],t[a],t.scale,i,n)}let a6=["x","scaleX","originX"],a8=["y","scaleY","originY"];function a9(e,t,r,s){a5(e.x,t,a6,r?r.x:void 0,s?s.x:void 0),a5(e.y,t,a8,r?r.y:void 0,s?s.y:void 0)}function a7(e){return 0===e.translate&&1===e.scale}function ie(e){return a7(e.x)&&a7(e.y)}function it(e,t){return e.min===t.min&&e.max===t.max}function ir(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function is(e,t){return ir(e.x,t.x)&&ir(e.y,t.y)}function ia(e){return s1(e.x)/s1(e.y)}function ii(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class il{constructor(){this.members=[]}add(e){te(this.members,e),e.scheduleRender()}remove(e){if(tt(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:s}=e.options;!1===s&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let io={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},id=["","X","Y","Z"],ic={visibility:"hidden"},iu=0;function ih(e,t,r,s){let{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function im({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(e={},r=t?.()){this.id=iu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,e1.value&&(io.nodes=io.calculatedTargetDeltas=io.calculatedProjections=0),this.nodes.forEach(ix),this.nodes.forEach(iN),this.nodes.forEach(iC),this.nodes.forEach(iy),e1.addProjectionMetrics&&e1.addProjectionMetrics(io)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new aH)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tr),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=az(t)&&!(az(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),e){let r,s=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){let r=ti.now(),s=({timestamp:a})=>{let i=a-r;i>=250&&(e3(s),e(i-t))};return e4.setup(s,!0),()=>e3(s)}(s,250),aO.hasAnimatedSinceResize&&(aO.hasAnimatedSinceResize=!1,this.nodes.forEach(ik))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:s})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||a.getDefaultTransition()||iP,{onLayoutAnimationStart:n,onLayoutAnimationComplete:l}=a.getProps(),o=!this.targetLayout||!is(this.targetLayout,s),d=!t&&r;if(this.options.layoutRoot||this.resumeFrom||d||t&&(o||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...eJ(i,"layout"),onPlay:n,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,d)}else t||ik(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),e3(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iS),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let s=r.props[tp];if(window.MotionHasOptimisedAnimation(s,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",e4,!(e||r))}let{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&e(a)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ib);return}this.isUpdating||this.nodes.forEach(ij),this.isUpdating=!1,this.nodes.forEach(iw),this.nodes.forEach(ip),this.nodes.forEach(ig),this.clearAllSnapshots();let e=ti.now();e5.delta=tf(0,1e3/60,e-e5.timestamp),e5.timestamp=e,e5.isProcessing=!0,e6.update.process(e5),e6.preRender.process(e5),e6.render.process(e5),e5.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iv),this.sharedNodes.forEach(iA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,e4.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){e4.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||s1(this.snapshot.measuredBox.x)||s1(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ie(this.projectionDelta),r=this.getTransformTemplate(),s=r?r(this.latestValues,""):void 0,i=s!==this.prevTransformTemplateValue;e&&this.instance&&(t||aa(this.latestValues)||i)&&(a(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),s=this.removeElementScroll(r);return e&&(s=this.removeTransform(s)),iL((t=s).x),iL(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return ae();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iO))){let{scroll:e}=this.root;e&&(ad(t.x,e.offset.x),ad(t.y,e.offset.y))}return t}removeElementScroll(e){let t=ae();if(a2(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let s=this.path[r],{scroll:a,options:i}=s;s!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&a2(t,e),ad(t.x,a.offset.x),ad(t.y,a.offset.y))}return t}applyTransform(e,t=!1){let r=ae();a2(r,e);for(let e=0;e<this.path.length;e++){let s=this.path[e];!t&&s.options.layoutScroll&&s.scroll&&s!==s.root&&au(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),aa(s.latestValues)&&au(r,s.latestValues)}return aa(this.latestValues)&&au(r,this.latestValues),r}removeTransform(e){let t=ae();a2(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!aa(r.latestValues))continue;as(r.latestValues)&&r.updateSnapshot();let s=ae();a2(s,r.measurePageBox()),a9(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,s)}return aa(this.latestValues)&&a9(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==e5.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:s,layoutId:a}=this.options;if(this.layout&&(s||a)){if(this.resolvedRelativeTargetAt=e5.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),s6(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),a2(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=ae(),this.targetWithTransforms=ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var i,n,l;this.forceRelativeParentToResolveTarget(),i=this.target,n=this.relativeTarget,l=this.relativeParent.target,s3(i.x,n.x,l.x),s3(i.y,n.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):a2(this.target,this.layout.layoutBox),ao(this.target,this.targetDelta)):a2(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),s6(this.relativeTargetOrigin,this.target,e.target),a2(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}e1.value&&io.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||as(this.parent.latestValues)||ai(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===e5.timestamp&&(r=!1),r)return;let{layout:s,layoutId:a}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(s||a))return;a2(this.layoutCorrected,this.layout.layoutBox);let i=this.treeScale.x,n=this.treeScale.y;!function(e,t,r,s=!1){let a,i,n=r.length;if(n){t.x=t.y=1;for(let l=0;l<n;l++){i=(a=r[l]).projectionDelta;let{visualElement:n}=a.options;(!n||!n.props.style||"contents"!==n.props.style.display)&&(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&au(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ao(e,i)),s&&aa(a.latestValues)&&au(e,a.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=ae());let{target:l}=e;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(a4(this.prevProjectionDelta.x,this.projectionDelta.x),a4(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),s4(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===i&&this.treeScale.y===n&&ii(this.projectionDelta.x,this.prevProjectionDelta.x)&&ii(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),e1.value&&io.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=s9(),this.projectionDelta=s9(),this.projectionDeltaWithTransform=s9()}setAnimationOrigin(e,t=!1){let r,s=this.snapshot,a=s?s.latestValues:{},i={...this.latestValues},n=s9();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let l=ae(),o=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),d=this.getStack(),c=!d||d.members.length<=1,u=!!(o&&!c&&!0===this.options.crossfade&&!this.path.some(iD));this.animationProgress=0,this.mixTargetDelta=t=>{let s=t/1e3;if(iT(n.x,e.x,s),iT(n.y,e.y,s),this.setTargetDelta(n),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var d,h,m,p,g,x;s6(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,g=l,x=s,iE(m.x,p.x,g.x,x),iE(m.y,p.y,g.y,x),r&&(d=this.relativeTarget,h=r,it(d.x,h.x)&&it(d.y,h.y))&&(this.isProjectionDirty=!1),r||(r=ae()),a2(r,this.relativeTarget)}o&&(this.animationValues=i,function(e,t,r,s,a,i){a?(e.opacity=t6(0,r.opacity??1,aZ(s)),e.opacityExit=t6(t.opacity??1,0,aQ(s))):i&&(e.opacity=t6(t.opacity??1,r.opacity??1,s));for(let a=0;a<aX;a++){let i=`border${aq[a]}Radius`,n=aJ(t,i),l=aJ(r,i);(void 0!==n||void 0!==l)&&(n||(n=0),l||(l=0),0===n||0===l||aG(n)===aG(l)?(e[i]=Math.max(t6(aK(n),aK(l),s),0),(tU.test(l)||tU.test(n))&&(e[i]+="%")):e[i]=l)}(t.rotate||r.rotate)&&(e.rotate=t6(t.rotate||0,r.rotate||0,s))}(i,a,this.latestValues,s,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(e3(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=e4.update(()=>{aO.hasAnimatedSinceResize=!0,tb.layout++,this.motionValue||(this.motionValue=td(0)),this.currentAnimation=function(e,t,r){let s=tu(e)?e:td(e);return s.start(sP("",s,t,r)),s.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{tb.layout--},onComplete:()=>{tb.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:s,latestValues:a}=e;if(t&&r&&s){if(this!==e&&this.layout&&s&&iF(this.options.animationType,this.layout.layoutBox,s.layoutBox)){r=this.target||ae();let t=s1(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let s=s1(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+s}a2(t,r),au(t,a),s4(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new il),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let s=this.getStack();s&&s.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let s={};r.z&&ih("z",e,s,this.animationValues);for(let t=0;t<id.length;t++)ih(`rotate${id[t]}`,e,s,this.animationValues),ih(`skew${id[t]}`,e,s,this.animationValues);for(let t in e.render(),s)e.setStaticValue(t,s[t]),this.animationValues&&(this.animationValues[t]=s[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ic;let t={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=aY(e?.pointerEvents)||"",t.transform=r?r(this.latestValues,""):"none",t;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=aY(e?.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,r){let s="",a=e.x.translate/t.x,i=e.y.translate/t.y,n=r?.z||0;if((a||i||n)&&(s=`translate3d(${a}px, ${i}px, ${n}px) `),(1!==t.x||1!==t.y)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:n,skewY:l}=r;e&&(s=`perspective(${e}px) ${s}`),t&&(s+=`rotate(${t}deg) `),a&&(s+=`rotateX(${a}deg) `),i&&(s+=`rotateY(${i}deg) `),n&&(s+=`skewX(${n}deg) `),l&&(s+=`skewY(${l}deg) `)}let l=e.x.scale*t.x,o=e.y.scale*t.y;return(1!==l||1!==o)&&(s+=`scale(${l}, ${o})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),r&&(t.transform=r(a,t.transform));let{x:i,y:n}=this.projectionDelta;for(let e in t.transformOrigin=`${100*i.origin}% ${100*n.origin}% 0`,s.animationValues?t.opacity=s===this?a.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:t.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,a$){if(void 0===a[e])continue;let{correct:r,applyTo:i,isCSSVariable:n}=a$[e],l="none"===t.transform?a[e]:r(a[e],s);if(i){let e=i.length;for(let r=0;r<e;r++)t[i[r]]=l}else n?this.options.visualElement.renderState.vars[e]=l:t[e]=l}return this.options.layoutId&&(t.pointerEvents=s===this?aY(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(ib),this.root.sharedNodes.clear()}}}function ip(e){e.updateLayout()}function ig(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;"size"===a?at(e=>{let s=i?t.measuredBox[e]:t.layoutBox[e],a=s1(s);s.min=r[e].min,s.max=s.min+a}):iF(a,t.layoutBox,r)&&at(s=>{let a=i?t.measuredBox[s]:t.layoutBox[s],n=s1(r[s]);a.max=a.min+n,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+n)});let n=s9();s4(n,r,t.layoutBox);let l=s9();i?s4(l,e.applyTransform(s,!0),t.measuredBox):s4(l,r,t.layoutBox);let o=!ie(n),d=!1;if(!e.resumeFrom){let s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){let{snapshot:a,layout:i}=s;if(a&&i){let n=ae();s6(n,t.layoutBox,a.layoutBox);let l=ae();s6(l,r,i.layoutBox),is(n,l)||(d=!0),s.options.layoutRoot&&(e.relativeTarget=l,e.relativeTargetOrigin=n,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:n,hasLayoutChanged:o,hasRelativeLayoutChanged:d})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ix(e){e1.value&&io.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iy(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iv(e){e.clearSnapshot()}function ib(e){e.clearMeasurements()}function ij(e){e.isLayoutDirty=!1}function iw(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ik(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iN(e){e.resolveTargetDelta()}function iC(e){e.calcProjection()}function iS(e){e.resetSkewAndRotation()}function iA(e){e.removeLeadSnapshot()}function iT(e,t,r){e.translate=t6(t.translate,0,r),e.scale=t6(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function iE(e,t,r,s){e.min=t6(t.min,r.min,s),e.max=t6(t.max,r.max,s)}function iD(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let iP={duration:.45,ease:[.4,0,.1,1]},iM=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iR=iM("applewebkit/")&&!iM("chrome/")?Math.round:eZ;function iL(e){e.min=iR(e.min),e.max=iR(e.max)}function iF(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(ia(t)-ia(r)))}function iO(e){return e!==e.root&&e.scroll?.wasRoot}let iV=im({attachResizeListener:(e,t)=>sK(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iB={current:void 0},i$=im({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iB.current){let e=new iV({});e.mount(window),e.setOptions({layoutScroll:!0}),iB.current=e}return iB.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function iI(e,t,r){if(e instanceof EventTarget)return[e];if("string"==typeof e){let s=document;t&&(s=t.current);let a=r?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function i_(e,t){let r=iI(e),s=new AbortController;return[r,{passive:!0,...t,signal:s.signal},()=>s.abort()]}function iU(e){return!("touch"===e.pointerType||sX.x||sX.y)}function iz(e,t,r){let{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover","Start"===r);let a=s["onHover"+r];a&&e4.postRender(()=>a(t,sJ(t)))}class iW extends sW{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[s,a,i]=i_(e,r),n=e=>{if(!iU(e))return;let{target:r}=e,s=t(r,e);if("function"!=typeof s||!r)return;let i=e=>{iU(e)&&(s(e),r.removeEventListener("pointerleave",i))};r.addEventListener("pointerleave",i,a)};return s.forEach(e=>{e.addEventListener("pointerenter",n,a)}),i}(e,(e,t)=>(iz(this.node,t,"Start"),e=>iz(this.node,e,"End"))))}unmount(){}}class iH extends sW{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tx(sK(this.node.current,"focus",()=>this.onFocus()),sK(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let iY=(e,t)=>!!t&&(e===t||iY(e,t.parentElement)),iq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),iX=new WeakSet;function iK(e){return t=>{"Enter"===t.key&&e(t)}}function iG(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let iJ=(e,t)=>{let r=e.currentTarget;if(!r)return;let s=iK(()=>{if(iX.has(r))return;iG(r,"down");let e=iK(()=>{iG(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>iG(r,"cancel"),t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)};function iZ(e){return sG(e)&&!(sX.x||sX.y)}function iQ(e,t,r){let{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap","Start"===r);let a=s["onTap"+("End"===r?"":r)];a&&e4.postRender(()=>a(t,sJ(t)))}class i0 extends sW{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[s,a,i]=i_(e,r),n=e=>{let s=e.currentTarget;if(!iZ(e))return;iX.add(s);let i=t(s,e),n=(e,t)=>{window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",o),iX.has(s)&&iX.delete(s),iZ(e)&&"function"==typeof i&&i(e,{success:t})},l=e=>{n(e,s===window||s===document||r.useGlobalTarget||iY(s,e.target))},o=e=>{n(e,!1)};window.addEventListener("pointerup",l,a),window.addEventListener("pointercancel",o,a)};return s.forEach(e=>{((r.useGlobalTarget?window:e).addEventListener("pointerdown",n,a),sj(e))&&(e.addEventListener("focus",e=>iJ(e,a)),iq.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}(e,(e,t)=>(iQ(this.node,t,"Start"),(e,{success:t})=>iQ(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let i1=new WeakMap,i2=new WeakMap,i4=e=>{let t=i1.get(e.target);t&&t(e)},i3=e=>{e.forEach(i4)},i5={some:0,all:1};class i6 extends sW{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof s?s:i5[s]};return function(e,t,r){let s=function({root:e,...t}){let r=e||document;i2.has(r)||i2.set(r,{});let s=i2.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(i3,{root:e,...t})),s[a]}(t);return i1.set(e,r),s.observe(e),()=>{i1.delete(e),s.unobserve(e)}}(this.node.current,i,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,a&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:s}=this.node.getProps(),i=t?r:s;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}let i8=(0,b.createContext)({strict:!1}),i9=(0,b.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),i7=(0,b.createContext)({});function ne(e){return eq(e.animate)||sB.some(t=>sO(e[t]))}function nt(e){return!!(ne(e)||e.variants)}function nr(e){return Array.isArray(e)?e.join(" "):e}let ns="undefined"!=typeof window,na={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ni={};for(let e in na)ni[e]={isEnabled:t=>na[e].some(e=>!!t[e])};let nn=Symbol.for("motionComponentSymbol"),nl=ns?b.useLayoutEffect:b.useEffect;function no(e,{layout:t,layoutId:r}){return e9.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!a$[e]||"opacity"===e)}let nd=(e,t)=>t&&"number"==typeof e?t.transform(e):e,nc={...tT,transform:Math.round},nu={borderWidth:tz,borderTopWidth:tz,borderRightWidth:tz,borderBottomWidth:tz,borderLeftWidth:tz,borderRadius:tz,radius:tz,borderTopLeftRadius:tz,borderTopRightRadius:tz,borderBottomRightRadius:tz,borderBottomLeftRadius:tz,width:tz,maxWidth:tz,height:tz,maxHeight:tz,top:tz,right:tz,bottom:tz,left:tz,padding:tz,paddingTop:tz,paddingRight:tz,paddingBottom:tz,paddingLeft:tz,margin:tz,marginTop:tz,marginRight:tz,marginBottom:tz,marginLeft:tz,backgroundPositionX:tz,backgroundPositionY:tz,rotate:t_,rotateX:t_,rotateY:t_,rotateZ:t_,scale:tD,scaleX:tD,scaleY:tD,scaleZ:tD,skew:t_,skewX:t_,skewY:t_,distance:tz,translateX:tz,translateY:tz,translateZ:tz,x:tz,y:tz,z:tz,perspective:tz,transformPerspective:tz,opacity:tE,originX:tY,originY:tY,originZ:tz,zIndex:nc,fillOpacity:tE,strokeOpacity:tE,numOctaves:nc},nh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nm=e8.length;function np(e,t,r){let{style:s,vars:a,transformOrigin:i}=e,n=!1,l=!1;for(let e in t){let r=t[e];if(e9.has(e)){n=!0;continue}if(tN(e)){a[e]=r;continue}{let t=nd(r,nu[e]);e.startsWith("origin")?(l=!0,i[e]=t):s[e]=t}}if(!t.transform&&(n||r?s.transform=function(e,t,r){let s="",a=!0;for(let i=0;i<nm;i++){let n=e8[i],l=e[n];if(void 0===l)continue;let o=!0;if(!(o="number"==typeof l?l===+!!n.startsWith("scale"):0===parseFloat(l))||r){let e=nd(l,nu[n]);if(!o){a=!1;let t=nh[n]||n;s+=`${t}(${e}) `}r&&(t[n]=e)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}(t,e.transform,r):s.transform&&(s.transform="none")),l){let{originX:e="50%",originY:t="50%",originZ:r=0}=i;s.transformOrigin=`${e} ${t} ${r}`}}let ng=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nx(e,t,r){for(let s in t)tu(t[s])||no(s,r)||(e[s]=t[s])}let nf={offset:"stroke-dashoffset",array:"stroke-dasharray"},ny={offset:"strokeDashoffset",array:"strokeDasharray"};function nv(e,{attrX:t,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:n=0,...l},o,d,c){if(np(e,l,d),o){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=c?.transformBox??"fill-box",delete u.transformBox),void 0!==t&&(u.x=t),void 0!==r&&(u.y=r),void 0!==s&&(u.scale=s),void 0!==a&&function(e,t,r=1,s=0,a=!0){e.pathLength=1;let i=a?nf:ny;e[i.offset]=tz.transform(-s);let n=tz.transform(t),l=tz.transform(r);e[i.array]=`${n} ${l}`}(u,a,i,n,!1)}let nb=()=>({...ng(),attrs:{}}),nj=e=>"string"==typeof e&&"svg"===e.toLowerCase(),nw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nk(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nw.has(e)}let nN=e=>!nk(e);try{!function(e){e&&(nN=t=>t.startsWith("on")?!nk(t):e(t))}(require("@emotion/is-prop-valid").default)}catch{}let nC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nS(e){if("string"!=typeof e||e.includes("-"));else if(nC.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}function nA(e){let t=(0,b.useRef)(null);return null===t.current&&(t.current=e()),t.current}let nT=e=>(t,r)=>{let s=(0,b.useContext)(i7),a=(0,b.useContext)(aM),i=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,s,a){return{latestValues:function(e,t,r,s){let a={},i=s(e,{});for(let e in i)a[e]=aY(i[e]);let{initial:n,animate:l}=e,o=ne(e),d=nt(e);t&&d&&!o&&!1!==e.inherit&&(void 0===n&&(n=t.initial),void 0===l&&(l=t.animate));let c=!!r&&!1===r.initial,u=(c=c||!1===n)?l:n;if(u&&"boolean"!=typeof u&&!eq(u)){let t=Array.isArray(u)?u:[u];for(let r=0;r<t.length;r++){let s=eK(e,t[r]);if(s){let{transitionEnd:e,transition:t,...r}=s;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(a[e]=t)}for(let t in e)a[t]=e[t]}}}return a}(r,s,a,e),renderState:t()}})(e,t,s,a);return r?i():nA(i)};function nE(e,t,r){let{style:s}=e,a={};for(let i in s)(tu(s[i])||t.style&&tu(t.style[i])||no(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}let nD={useVisualState:nT({scrapeMotionValuesFromProps:nE,createRenderState:ng})};function nP(e,t,r){let s=nE(e,t,r);for(let r in e)(tu(e[r])||tu(t[r]))&&(s[-1!==e8.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return s}let nM={useVisualState:nT({scrapeMotionValuesFromProps:nP,createRenderState:nb})},nR=e=>t=>t.test(e),nL=[tT,tz,tU,t_,tH,tW,{test:e=>"auto"===e,parse:e=>e}],nF=e=>nL.find(nR(e)),nO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),nV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,nB=e=>/^0[^.\s]+$/u.test(e),n$=new Set(["brightness","contrast","saturate","opacity"]);function nI(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[s]=r.match(tM)||[];if(!s)return e;let a=r.replace(s,""),i=+!!n$.has(t);return s!==r&&(i*=100),t+"("+i+a+")"}let n_=/\b([a-z-]*)\(.*?\)/gu,nU={...t4,getAnimatableNone:e=>{let t=e.match(n_);return t?t.map(nI).join(" "):e}},nz={...nu,color:tX,backgroundColor:tX,outlineColor:tX,fill:tX,stroke:tX,borderColor:tX,borderTopColor:tX,borderRightColor:tX,borderBottomColor:tX,borderLeftColor:tX,filter:nU,WebkitFilter:nU},nW=e=>nz[e];function nH(e,t){let r=nW(e);return r!==nU&&(r=t4),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let nY=new Set(["auto","none","0"]);class nq extends sl{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let s=e[r];if("string"==typeof s&&tS(s=s.trim())){let a=function e(t,r,s=1){tw(s<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[a,i]=function(e){let t=nV.exec(e);if(!t)return[,];let[,r,s,a]=t;return[`--${r??s}`,a]}(t);if(!a)return;let n=window.getComputedStyle(r).getPropertyValue(a);if(n){let e=n.trim();return nO(e)?parseFloat(e):e}return tS(i)?e(i,r,s+1):i}(s,t.current);void 0!==a&&(e[r]=a),r===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!e7.has(r)||2!==e.length)return;let[s,a]=e,i=nF(s),n=nF(a);if(i!==n)if(r8(i)&&r8(n))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else se[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++){var s;(null===e[t]||("number"==typeof(s=e[t])?0===s:null===s||"none"===s||"0"===s||nB(s)))&&r.push(t)}r.length&&function(e,t,r){let s,a=0;for(;a<e.length&&!s;){let t=e[a];"string"==typeof t&&!nY.has(t)&&tQ(t).values.length&&(s=e[a]),a++}if(s&&r)for(let a of t)e[a]=nH(r,s)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=se[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let s=t[t.length-1];void 0!==s&&e.getValue(r,s).jump(s,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);let a=r.length-1,i=r[a];r[a]=se[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}let nX=[...nL,tX,t4],nK=e=>nX.find(nR(e)),nG={current:null},nJ={current:!1},nZ=new WeakMap,nQ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class n0{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},n={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=ti.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,e4.render(this.render,!1,!0))};let{latestValues:l,renderState:o}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=o,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=n,this.blockInitialAnimation=!!a,this.isControllingVariants=ne(t),this.isVariantNode=nt(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:d,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in c){let t=c[e];void 0!==l[e]&&tu(t)&&t.set(l[e],!1)}}mount(e){this.current=e,nZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),nJ.current||function(){if(nJ.current=!0,ns)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nG.current=e.matches;e.addListener(t),t()}else nG.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||nG.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),e3(this.notifyUpdate),e3(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let s=e9.has(e);s&&this.onBindTransform&&this.onBindTransform();let a=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&e4.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in ni){let t=ni[e];if(!t)continue;let{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ae()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<nQ.length;t++){let r=nQ[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=function(e,t,r){for(let s in t){let a=t[s],i=r[s];if(tu(a))e.addValue(s,a);else if(tu(i))e.addValue(s,td(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){let t=e.getValue(s);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{let t=e.getStaticValue(s);e.addValue(s,td(void 0!==t?t:a,{owner:e}))}}for(let s in r)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=td(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=r&&("string"==typeof r&&(nO(r)||nB(r))?r=parseFloat(r):!nK(r)&&t4.test(t)&&(r=nH(e,t)),this.setBaseTarget(e,tu(r)?r.get():r)),tu(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let s=eK(this.props,r,this.presenceContext?.custom);s&&(t=s[e])}if(r&&void 0!==t)return t;let s=this.getBaseTargetFromProps(this.props,e);return void 0===s||tu(s)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new tr),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class n1 extends n0{constructor(){super(...arguments),this.KeyframeResolver=nq}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;tu(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function n2(e,{style:t,vars:r},s,a){for(let i in Object.assign(e.style,t,a&&a.getProjectionStyles(s)),r)e.style.setProperty(i,r[i])}class n4 extends n1{constructor(){super(...arguments),this.type="html",this.renderInstance=n2}readValueFromInstance(e,t){if(e9.has(t))return this.projection?.isProjecting?r4(t):r5(e,t);{let r=window.getComputedStyle(e),s=(tN(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof s?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ah(e,t)}build(e,t,r){np(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return nE(e,t,r)}}let n3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class n5 extends n1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ae}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(e9.has(t)){let e=nW(t);return e&&e.default||0}return t=n3.has(t)?t:tm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return nP(e,t,r)}build(e,t,r){nv(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){for(let r in n2(e,t,void 0,s),t.attrs)e.setAttribute(n3.has(r)?r:tm(r),t.attrs[r])}mount(e){this.isSVGTag=nj(e.tagName),super.mount(e)}}let n6=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(r,s)=>"create"===s?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}((l={animation:{Feature:sH},exit:{Feature:sq},inView:{Feature:i6},tap:{Feature:i0},focus:{Feature:iH},hover:{Feature:iW},pan:{Feature:aD},drag:{Feature:aT,ProjectionNode:i$,MeasureLayout:a_},layout:{ProjectionNode:i$,MeasureLayout:a_}},o=(e,t)=>nS(e)?new n5(t):new n4(t,{allowProjection:e!==b.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:a}){function i(e,i){var n,l,o;let d,c={...(0,b.useContext)(i9),...e,layoutId:function({layoutId:e}){let t=(0,b.useContext)(aL).id;return t&&void 0!==e?t+"-"+e:e}(e)},{isStatic:u}=c,h=function(e){let{initial:t,animate:r}=function(e,t){if(ne(e)){let{initial:t,animate:r}=e;return{initial:!1===t||sO(t)?t:void 0,animate:sO(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,b.useContext)(i7));return(0,b.useMemo)(()=>({initial:t,animate:r}),[nr(t),nr(r)])}(e),m=s(e,u);if(!u&&ns){l=0,o=0,(0,b.useContext)(i8).strict;let e=function(e){let{drag:t,layout:r}=ni;if(!t&&!r)return{};let s={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(c);d=e.MeasureLayout,h.visualElement=function(e,t,r,s,a){let{visualElement:i}=(0,b.useContext)(i7),n=(0,b.useContext)(i8),l=(0,b.useContext)(aM),o=(0,b.useContext)(i9).reducedMotion,d=(0,b.useRef)(null);s=s||n.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:o}));let c=d.current,u=(0,b.useContext)(aF);c&&!c.projection&&a&&("html"===c.type||"svg"===c.type)&&function(e,t,r,s){let{layoutId:a,layout:i,drag:n,dragConstraints:l,layoutScroll:o,layoutRoot:d,layoutCrossfade:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!n||l&&ap(l),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:s,crossfade:c,layoutScroll:o,layoutRoot:d})}(d.current,r,a,u);let h=(0,b.useRef)(!1);(0,b.useInsertionEffect)(()=>{c&&h.current&&c.update(r,l)});let m=r[tp],p=(0,b.useRef)(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return nl(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),aP.render(c.render),p.current&&c.animationState&&c.animationState.animateChanges())}),(0,b.useEffect)(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),p.current=!1))}),c}(a,m,c,t,e.ProjectionNode)}return(0,v.jsxs)(i7.Provider,{value:h,children:[d&&h.visualElement?(0,v.jsx)(d,{visualElement:h.visualElement,...c}):null,r(a,e,(n=h.visualElement,(0,b.useCallback)(e=>{e&&m.onMount&&m.onMount(e),n&&(e?n.mount(e):n.unmount()),i&&("function"==typeof i?i(e):ap(i)&&(i.current=e))},[n])),m,u,h.visualElement)]})}e&&function(e){for(let t in e)ni[t]={...ni[t],...e[t]}}(e),i.displayName=`motion.${"string"==typeof a?a:`create(${a.displayName??a.name??""})`}`;let n=(0,b.forwardRef)(i);return n[nn]=a,n}({...nS(e)?nM:nD,preloadedFeatures:l,useRender:function(e=!1){return(t,r,s,{latestValues:a},i)=>{let n=(nS(t)?function(e,t,r,s){let a=(0,b.useMemo)(()=>{let r=nb();return nv(r,t,nj(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};nx(t,e.style,e),a.style={...t,...a.style}}return a}:function(e,t){let r={},s=function(e,t){let r=e.style||{},s={};return nx(s,r,e),Object.assign(s,function({transformTemplate:e},t){return(0,b.useMemo)(()=>{let r=ng();return np(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),s}(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r})(r,a,i,t),l=function(e,t,r){let s={};for(let a in e)("values"!==a||"object"!=typeof e.values)&&(nN(a)||!0===r&&nk(a)||!t&&!nk(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}(r,"string"==typeof t,e),o=t!==b.Fragment?{...l,...n,ref:s}:{},{children:d}=r,c=(0,b.useMemo)(()=>tu(d)?d.get():d,[d]);return(0,b.createElement)(t,{...o,children:c})}}(t),createVisualElement:o,Component:e})}));class n8 extends b.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=sj(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n9({children:e,isPresent:t,anchorX:r}){let s=(0,b.useId)(),a=(0,b.useRef)(null),i=(0,b.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,b.useContext)(i9);return(0,b.useInsertionEffect)(()=>{let{width:e,height:l,top:o,left:d,right:c}=i.current;if(t||!a.current||!e||!l)return;let u="left"===r?`left: ${d}`:`right: ${c}`;a.current.dataset.motionPopId=s;let h=document.createElement("style");return n&&(h.nonce=n),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${l}px !important;
            ${u}px !important;
            top: ${o}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[t]),(0,v.jsx)(n8,{isPresent:t,childRef:a,sizeRef:i,children:b.cloneElement(e,{ref:a})})}let n7=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:n,anchorX:l})=>{let o=nA(le),d=(0,b.useId)(),c=!0,u=(0,b.useMemo)(()=>(c=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:e=>{for(let t of(o.set(e,!0),o.values()))if(!t)return;s&&s()},register:e=>(o.set(e,!1),()=>o.delete(e))}),[r,o,s]);return i&&c&&(u={...u}),(0,b.useMemo)(()=>{o.forEach((e,t)=>o.set(t,!1))},[r]),b.useEffect(()=>{r||o.size||!s||s()},[r]),"popLayout"===n&&(e=(0,v.jsx)(n9,{isPresent:r,anchorX:l,children:e})),(0,v.jsx)(aM.Provider,{value:u,children:e})};function le(){return new Map}let lt=e=>e.key||"";function lr(e){let t=[];return b.Children.forEach(e,e=>{(0,b.isValidElement)(e)&&t.push(e)}),t}let ls=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:n=!1,anchorX:l="left"})=>{let[o,d]=aR(n),c=(0,b.useMemo)(()=>lr(e),[e]),u=n&&!o?[]:c.map(lt),h=(0,b.useRef)(!0),m=(0,b.useRef)(c),p=nA(()=>new Map),[g,x]=(0,b.useState)(c),[f,y]=(0,b.useState)(c);nl(()=>{h.current=!1,m.current=c;for(let e=0;e<f.length;e++){let t=lt(f[e]);u.includes(t)?p.delete(t):!0!==p.get(t)&&p.set(t,!1)}},[f,u.length,u.join("-")]);let j=[];if(c!==g){let e=[...c];for(let t=0;t<f.length;t++){let r=f[t],s=lt(r);u.includes(s)||(e.splice(t,0,r),j.push(r))}return"wait"===i&&j.length&&(e=j),y(lr(e)),x(c),null}let{forceRender:w}=(0,b.useContext)(aL);return(0,v.jsx)(v.Fragment,{children:f.map(e=>{let g=lt(e),x=(!n||!!o)&&(c===f||u.includes(g));return(0,v.jsx)(n7,{isPresent:x,initial:(!h.current||!!r)&&void 0,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:x?void 0:()=>{if(!p.has(g))return;p.set(g,!0);let e=!0;p.forEach(t=>{t||(e=!1)}),e&&(w?.(),y(m.current),n&&d?.(),s&&s())},anchorX:l,children:e},g)})})};var la=r(28947),li=r(45583);let ln=(0,R.A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var ll=r(11437),lo=r(28559);let ld=[{icon:la.A,name:"Target"},{icon:Q.A,name:"Clock"},{icon:K.A,name:"Check"},{icon:M.A,name:"Alert"},{icon:li.A,name:"Zap"},{icon:O.A,name:"Star"},{icon:ln,name:"Bookmark"},{icon:ll.A,name:"Globe"},{icon:eu.A,name:"Tag"},{icon:z.A,name:"Calendar"}],lc=[{value:"blue",class:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/10",name:"Blue"},{value:"green",class:"border-green-200 bg-green-50/50 dark:border-green-800 dark:bg-green-900/10",name:"Green"},{value:"purple",class:"border-purple-200 bg-purple-50/50 dark:border-purple-800 dark:bg-purple-900/10",name:"Purple"},{value:"orange",class:"border-orange-200 bg-orange-50/50 dark:border-orange-800 dark:bg-orange-900/10",name:"Orange"},{value:"pink",class:"border-pink-200 bg-pink-50/50 dark:border-pink-800 dark:bg-pink-900/10",name:"Pink"},{value:"yellow",class:"border-yellow-200 bg-yellow-50/50 dark:border-yellow-800 dark:bg-yellow-900/10",name:"Yellow"}];function lu({isOpen:e,onClose:t,onCreateBoard:r}){let[s,a]=(0,b.useState)(""),[i,n]=(0,b.useState)(""),[l,o]=(0,b.useState)(0),[d,c]=(0,b.useState)(0);return(0,v.jsx)(A.lG,{open:e,onOpenChange:t,children:(0,v.jsxs)(A.Cf,{className:"sm:max-w-md",children:[(0,v.jsx)(A.c7,{children:(0,v.jsx)(A.L3,{children:"Create New Board"})}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Board Name"}),(0,v.jsx)(eY.p,{placeholder:"Enter board name...",value:s,onChange:e=>a(e.target.value),className:"mt-1"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description (Optional)"}),(0,v.jsx)(eY.p,{placeholder:"Enter board description...",value:i,onChange:e=>n(e.target.value),className:"mt-1"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Icon"}),(0,v.jsx)("div",{className:"grid grid-cols-5 gap-2 mt-2",children:ld.map((e,t)=>{let r=e.icon;return(0,v.jsx)("button",{onClick:()=>o(t),className:`p-3 rounded-lg border-2 transition-all ${l===t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:(0,v.jsx)(r,{className:`h-5 w-5 ${l===t?"text-blue-600":"text-gray-600 dark:text-gray-400"}`})},t)})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color"}),(0,v.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:lc.map((e,t)=>(0,v.jsx)("button",{onClick:()=>c(t),className:`p-3 rounded-lg border-2 transition-all ${e.class} ${d===t?"ring-2 ring-blue-500 ring-offset-2":"hover:ring-1 hover:ring-gray-300"}`,children:(0,v.jsx)("span",{className:"text-sm font-medium",children:e.name})},t))})]}),(0,v.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,v.jsx)(C.$,{variant:"outline",onClick:t,children:"Cancel"}),(0,v.jsx)(C.$,{onClick:()=>{s.trim()&&(r({name:s.trim(),description:i.trim(),color:lc[d].class,icon:ld[l].icon}),a(""),n(""),o(0),c(0),t())},disabled:!s.trim(),children:"Create Board"})]})]})]})})}function lh({isOpen:e,onClose:t,bookmarks:r,boards:s,onAssignBookmark:a,onRemoveBookmark:i}){let[n,l]=(0,b.useState)(""),o=r.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.description?.toLowerCase().includes(n.toLowerCase())),d=e=>s.find(t=>t.bookmarkIds.includes(e)),c=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return e}},u=e=>{let t=c(e);return`https://www.google.com/s2/favicons?domain=${t}&sz=32`};return(0,v.jsx)(A.lG,{open:e,onOpenChange:t,children:(0,v.jsxs)(A.Cf,{className:"sm:max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,v.jsx)(A.c7,{children:(0,v.jsx)(A.L3,{children:"Manage Bookmark Assignments"})}),(0,v.jsxs)("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)(eY.p,{placeholder:"Search bookmarks...",value:n,onChange:e=>l(e.target.value),className:"pl-9"})]}),(0,v.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:o.map(e=>{let t=d(e.id),r=t?.icon||ll.A;return(0,v.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,v.jsxs)("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded",children:[(0,v.jsx)("img",{src:u(e.url),alt:"",className:"w-5 h-5",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}),(0,v.jsx)(ll.A,{className:"w-4 h-4 text-gray-500 hidden"})]}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("h4",{className:"font-medium text-sm truncate",children:e.title}),(0,v.jsx)("p",{className:"text-xs text-gray-500 truncate",children:c(e.url)})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[t&&(0,v.jsxs)("div",{className:"flex items-center space-x-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:[(0,v.jsx)(r,{className:"h-3 w-3"}),(0,v.jsx)("span",{children:t.name})]}),(0,v.jsxs)("select",{value:t?.id||"",onChange:r=>{t&&i(e.id,t.id),r.target.value&&a(e.id,r.target.value)},className:"text-xs border rounded px-2 py-1 bg-white dark:bg-gray-800",children:[(0,v.jsx)("option",{value:"",children:"No Board"}),s.map(e=>(0,v.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]},e.id)})}),(0,v.jsx)("div",{className:"flex justify-end pt-4",children:(0,v.jsx)(C.$,{onClick:t,children:"Done"})})]})]})})}function lm({bookmarks:e,onBookmarkClick:t,onFavorite:r,loading:s,selectedCategory:a,selectedFolder:i,onCategoryChange:n}){let[l,o]=(0,b.useState)(""),[d,c]=(0,b.useState)([]),[u,h]=(0,b.useState)(!1),[m,p]=(0,b.useState)(!1),g=e=>{c(t=>t.filter(t=>t.id!==e))},x=(0,b.useMemo)(()=>{let t=e;return i?t=t.filter(e=>e.folder_id===i.id):a&&"all"!==a&&(t=t.filter(e=>(e.tags||[]).some(e=>e.name.toLowerCase()===a.toLowerCase()))),l&&(t=t.filter(e=>e.title.toLowerCase().includes(l.toLowerCase())||e.description?.toLowerCase().includes(l.toLowerCase())||e.url.toLowerCase().includes(l.toLowerCase()))),t},[e,l,a,i]),f=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return e}},y=e=>{let t=f(e);return`https://www.google.com/s2/favicons?domain=${t}&sz=32`},j=x.filter(e=>!d.some(t=>t.bookmarkIds.includes(e.id)));return s?(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-64 animate-pulse"}),(0,v.jsx)("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-96 animate-pulse"})]}),(0,v.jsx)("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded w-64 animate-pulse"})]}),(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),[void 0,void 0,void 0].map((e,t)=>(0,v.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},t))]},t))})]}):(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(a||i)&&n&&(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>n("all"),className:"p-2",children:(0,v.jsx)(lo.A,{className:"h-4 w-4"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i?`KANBAN VIEW - ${i.name.toUpperCase()}`:a&&"all"!==a?`KANBAN VIEW - ${a.toUpperCase()}`:"KANBAN VIEW - CUSTOM BOARDS"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:i?`Organize bookmarks from ${i.name} folder across your custom boards`:a&&"all"!==a?`Organize bookmarks tagged with "${a}" across your custom boards`:"Organize your bookmarks across custom boards for better workflow management"})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[i&&(0,v.jsxs)(X.E,{variant:"secondary",className:"px-3 py-1",children:[(0,v.jsx)(E.A,{className:"h-3 w-3 mr-1"}),i.name," (",x.length,")"]}),(0,v.jsxs)(C.$,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex items-center space-x-2",children:[(0,v.jsx)(V.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Manage Assignments"})]}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)(eY.p,{placeholder:"Search bookmarks...",value:l,onChange:e=>o(e.target.value),className:"pl-9 w-64"})]})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[d.map(e=>{let t=x.filter(t=>e.bookmarkIds.includes(t.id)),s=e.icon;return(0,v.jsx)(n6.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col h-[600px]",children:(0,v.jsxs)(eH.Zp,{className:`h-full flex flex-col ${e.color} border-2`,children:[(0,v.jsx)(eH.aR,{className:"pb-3",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"p-2 bg-white/80 dark:bg-gray-800/80 rounded-lg",children:(0,v.jsx)(s,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)(eH.ZB,{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.name}),(0,v.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:t.length}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>g(e.id),className:"h-6 w-6 p-0 text-gray-400 hover:text-red-500",children:(0,v.jsx)(el.A,{className:"h-3 w-3"})})]})]})}),(0,v.jsxs)(eH.Wu,{className:"flex-1 overflow-y-auto space-y-3 pb-4",children:[(0,v.jsx)(ls,{children:t.map((e,t)=>(0,v.jsx)(n6.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.05*t},className:"group",children:(0,v.jsx)(eH.Zp,{className:"cursor-pointer hover:shadow-md transition-all duration-200 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:(0,v.jsx)(eH.Wu,{className:"p-4",children:(0,v.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,v.jsxs)("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded flex-shrink-0",children:[(0,v.jsx)("img",{src:y(e.url),alt:"",className:"w-5 h-5",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}),(0,v.jsx)(ll.A,{className:"w-4 h-4 text-gray-500 hidden"})]}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white line-clamp-2 mb-1",children:e.title}),e.description&&(0,v.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:e.description}),(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsx)("span",{className:"text-xs text-gray-500",children:f(e.url)}),(0,v.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),r?.(e)},className:`h-6 w-6 p-0 ${e.is_favorite?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:(0,v.jsx)(P.A,{className:`h-3 w-3 ${e.is_favorite?"fill-current":""}`})}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},className:"h-6 w-6 p-0 text-gray-400 hover:text-blue-500",children:(0,v.jsx)(D.A,{className:"h-3 w-3"})})]})]})]})]})})})},e.id))}),0===t.length&&(0,v.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,v.jsx)(s,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,v.jsx)("p",{className:"text-sm",children:"No bookmarks assigned"}),(0,v.jsx)("p",{className:"text-xs",children:'Use "Manage Assignments" to add bookmarks'})]})]})]})},e.id)}),(0,v.jsx)(n6.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*d.length},className:"flex flex-col h-[600px]",children:(0,v.jsx)(eH.Zp,{className:"h-full flex flex-col border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all duration-200 cursor-pointer bg-gray-50/50 dark:bg-gray-800/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/10",onClick:()=>h(!0),children:(0,v.jsx)(eH.Wu,{className:"flex-1 flex items-center justify-center",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 transition-colors",children:(0,v.jsx)(W.A,{className:"h-8 w-8 text-gray-500 dark:text-gray-400"})}),(0,v.jsx)("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Add New Board"}),(0,v.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a custom board to organize your bookmarks"})]})})})})]}),j.length>0&&(0,v.jsxs)("div",{className:"mt-8",children:[(0,v.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,v.jsx)(M.A,{className:"h-5 w-5 text-orange-500"}),(0,v.jsxs)("span",{children:["Unassigned Bookmarks (",j.length,")"]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[j.slice(0,8).map(e=>(0,v.jsx)(eH.Zp,{className:"p-3 bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800",children:(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsxs)("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded",children:[(0,v.jsx)("img",{src:y(e.url),alt:"",className:"w-5 h-5",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}),(0,v.jsx)(ll.A,{className:"w-4 h-4 text-gray-500 hidden"})]}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:e.title}),(0,v.jsx)("p",{className:"text-xs text-gray-500 truncate",children:f(e.url)})]})]})},e.id)),j.length>8&&(0,v.jsx)(eH.Zp,{className:"p-3 bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 flex items-center justify-center",children:(0,v.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["+",j.length-8," more"]})})]})]}),(0,v.jsx)(lu,{isOpen:u,onClose:()=>h(!1),onCreateBoard:e=>{let t={...e,id:`board-${Date.now()}`,bookmarkIds:[]};c(e=>[...e,t])}}),(0,v.jsx)(lh,{isOpen:m,onClose:()=>p(!1),bookmarks:x,boards:d,onAssignBookmark:(e,t)=>{c(r=>r.map(r=>r.id===t?{...r,bookmarkIds:[...r.bookmarkIds.filter(t=>t!==e),e]}:{...r,bookmarkIds:r.bookmarkIds.filter(t=>t!==e)}))},onRemoveBookmark:(e,t)=>{c(r=>r.map(r=>r.id===t?{...r,bookmarkIds:r.bookmarkIds.filter(t=>t!==e)}:r))}})]})}function lp(e,t){let r,s=()=>{let{currentTime:s}=t,a=(null===s?0:s.value)/100;r!==a&&e(a),r=a};return e4.preUpdate(s,!0),()=>e3(s)}let lg=new WeakMap,lx=(e,t,r)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:az(s)&&"getBBox"in s?s.getBBox()[t]:s[r],lf=lx("inline","width","offsetWidth"),ly=lx("block","height","offsetHeight");function lv({target:e,borderBoxSize:t}){lg.get(e)?.forEach(r=>{r(e,{get width(){return lf(e,t)},get height(){return ly(e,t)}})})}function lb(e){e.forEach(lv)}let lj=new Set,lw=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),lk=()=>({time:0,x:lw(),y:lw()}),lN={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function lC(e,t,r,s){let a=r[t],{length:i,position:n}=lN[t],l=a.current,o=r.time;a.current=e[`scroll${n}`],a.scrollLength=e[`scroll${i}`]-e[`client${i}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=r$(0,a.scrollLength,a.current);let d=s-o;a.velocity=d>50?0:ts(a.current-l,d)}let lS={start:0,center:.5,end:1};function lA(e,t,r=0){let s=0;if(e in lS&&(e=lS[e]),"string"==typeof e){let t=parseFloat(e);e.endsWith("px")?s=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?s=t/100*document.documentElement.clientWidth:e.endsWith("vh")?s=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(s=t*e),r+s}let lT=[0,0],lE={All:[[0,0],[1,1]]},lD={x:0,y:0},lP=new WeakMap,lM=new WeakMap,lR=new WeakMap,lL=e=>e===document.scrollingElement?window:e;function lF(e,{container:t=document.scrollingElement,...r}={}){if(!t)return eZ;let s=lR.get(t);s||(s=new Set,lR.set(t,s));let n=function(e,t,r,s={}){return{measure:t=>{!function(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)r.x.targetOffset+=s.offsetLeft,r.y.targetOffset+=s.offsetTop,s=s.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}(e,s.target,r),lC(e,"x",r,t),lC(e,"y",r,t),r.time=t,(s.offset||s.target)&&function(e,t,r){let{offset:s=lE.All}=r,{target:a=e,axis:i="y"}=r,n="y"===i?"height":"width",l=a!==e?function(e,t){let r={x:0,y:0},s=e;for(;s&&s!==t;)if(sj(s))r.x+=s.offsetLeft,r.y+=s.offsetTop,s=s.offsetParent;else if("svg"===s.tagName){let e=s.getBoundingClientRect(),t=(s=s.parentElement).getBoundingClientRect();r.x+=e.left-t.left,r.y+=e.top-t.top}else if(s instanceof SVGGraphicsElement){let{x:e,y:t}=s.getBBox();r.x+=e,r.y+=t;let a=null,i=s.parentNode;for(;!a;)"svg"===i.tagName&&(a=i),i=s.parentNode;s=a}else break;return r}(a,e):lD,o=a===e?{width:e.scrollWidth,height:e.scrollHeight}:"getBBox"in a&&"svg"!==a.tagName?a.getBBox():{width:a.clientWidth,height:a.clientHeight},d={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let c=!t[i].interpolate,u=s.length;for(let e=0;e<u;e++){let r=function(e,t,r,s){let a=Array.isArray(e)?e:lT,i=0,n=0;return"number"==typeof e?a=[e,e]:"string"==typeof e&&(a=(e=e.trim()).includes(" ")?e.split(" "):[e,lS[e]?e:"0"]),(i=lA(a[0],r,s))-lA(a[1],t)}(s[e],d[n],o[n],l[i]);c||r===t[i].interpolatorOffsets[e]||(c=!0),t[i].offset[e]=r}c&&(t[i].interpolate=rI(t[i].offset,r_(s),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=tf(0,1,t[i].interpolate(t[i].current))}(e,r,s)},notify:()=>t(r)}}(t,e,lk(),r);if(s.add(n),!lP.has(t)){let e=()=>{for(let e of s)e.measure(e5.timestamp);e4.preUpdate(r)},r=()=>{for(let e of s)e.notify()},n=()=>e4.read(e);lP.set(t,n);let l=lL(t);window.addEventListener("resize",n,{passive:!0}),t!==document.documentElement&&lM.set(t,"function"==typeof t?(lj.add(t),i||(i=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};lj.forEach(t=>t(e))},window.addEventListener("resize",i)),()=>{lj.delete(t),lj.size||"function"!=typeof i||(window.removeEventListener("resize",i),i=void 0)}):function(e,t){a||"undefined"!=typeof ResizeObserver&&(a=new ResizeObserver(lb));let r=iI(e);return r.forEach(e=>{let r=lg.get(e);r||(r=new Set,lg.set(e,r)),r.add(t),a?.observe(e)}),()=>{r.forEach(e=>{let r=lg.get(e);r?.delete(t),r?.size||a?.unobserve(e)})}}(t,n)),l.addEventListener("scroll",n,{passive:!0}),n()}let l=lP.get(t);return e4.read(l,!1,!0),()=>{e3(l);let e=lR.get(t);if(!e||(e.delete(n),e.size))return;let r=lP.get(t);lP.delete(t),r&&(lL(t).removeEventListener("scroll",r),lM.get(t)?.(),window.removeEventListener("resize",r))}}let lO=new Map;function lV({source:e,container:t,...r}){let{axis:s}=r;e&&(t=e);let a=lO.get(t)??new Map;lO.set(t,a);let i=r.target??"self",n=a.get(i)??{},l=s+(r.offset??[]).join(",");return n[l]||(n[l]=!r.target&&sc()?new ScrollTimeline({source:t,axis:s}):function(e){let t={value:0},r=lF(r=>{t.value=100*r[e.axis].progress},e);return{currentTime:t,cancel:r}}({container:t,...r})),n[l]}function lB(e,t){tj(!!(!t||t.current),`You have defined a ${e} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}let l$=()=>({scrollX:td(0),scrollY:td(0),scrollXProgress:td(0),scrollYProgress:td(0)});function lI(e,t){let r=function(e){let t=nA(()=>td(e)),{isStatic:r}=(0,b.useContext)(i9);if(r){let[,r]=(0,b.useState)(e);(0,b.useEffect)(()=>t.on("change",r),[])}return t}(t()),s=()=>r.set(t());return s(),nl(()=>{let t=()=>e4.preRender(s,!1,!0),r=e.map(e=>e.on("change",t));return()=>{r.forEach(e=>e()),e3(s)}}),r}function l_(e,t,r,s){if("function"==typeof e){tl.current=[],e();let t=lI(tl.current,e);return tl.current=void 0,t}let a="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),r=t?0:-1,s=e[0+r],a=e[1+r],i=rI(a,e[2+r],e[3+r]);return t?i(s):i}(t,r,s);return Array.isArray(e)?lU(e,a):lU([e],([e])=>a(e))}function lU(e,t){let r=nA(()=>[]);return lI(e,()=>{r.length=0;let s=e.length;for(let t=0;t<s;t++)r[t]=e[t].get();return t(r)})}let lz=({data:e})=>{let t=(0,b.useRef)(null),r=(0,b.useRef)(null),[s,a]=(0,b.useState)(0);(0,b.useEffect)(()=>{t.current&&a(t.current.getBoundingClientRect().height)},[t]);let{scrollYProgress:i}=function({container:e,target:t,layoutEffect:r=!0,...s}={}){let a=nA(l$);return(r?nl:b.useEffect)(()=>(lB("target",t),lB("container",e),function(e,{axis:t="y",container:r=document.scrollingElement,...s}={}){var a,i;if(!r)return eZ;let n={axis:t,container:r,...s};return"function"==typeof e?(a=e,i=n,2===a.length?lF(e=>{a(e[i.axis].progress,e)},i):lp(a,lV(i))):function(e,t){let r=lV(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:e=>(e.pause(),lp(t=>{e.time=e.duration*t},r))})}(e,n)}((e,{x:t,y:r})=>{a.scrollX.set(t.current),a.scrollXProgress.set(t.progress),a.scrollY.set(r.current),a.scrollYProgress.set(r.progress)},{...s,container:e?.current||void 0,target:t?.current||void 0})),[e,t,JSON.stringify(s.offset)]),a}({target:r,offset:["start 10%","end 50%"]}),n=l_(i,[0,1],[0,s]),l=l_(i,[0,.1],[0,1]);return(0,v.jsxs)("div",{className:"w-full bg-white dark:bg-neutral-950 font-sans md:px-10",ref:r,children:[(0,v.jsx)("div",{className:"max-w-7xl mx-auto py-4 px-4 md:px-8 lg:px-10"}),(0,v.jsxs)("div",{ref:t,className:"relative max-w-7xl mx-auto pb-20",children:[e.map((e,t)=>(0,v.jsxs)(n6.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t,ease:"easeOut"},viewport:{once:!0,margin:"-50px"},className:"flex justify-start pt-6 md:pt-16 md:gap-10",children:[(0,v.jsxs)("div",{className:"sticky flex flex-col md:flex-row z-40 items-center top-40 self-start max-w-xs lg:max-w-sm md:w-full",children:[(0,v.jsx)(n6.div,{className:"h-10 absolute left-2 md:left-2 w-10 rounded-full bg-neutral-800 dark:bg-neutral-200 flex items-center justify-center border border-neutral-300 dark:border-neutral-700 shadow-sm",whileInView:{scale:[.8,1]},transition:{duration:.4,delay:.1*t,ease:"easeOut"},viewport:{once:!0},children:(0,v.jsx)("div",{className:"h-3 w-3 rounded-full bg-white dark:bg-neutral-800"})}),(0,v.jsx)(n6.h3,{className:"hidden md:block text-xl md:pl-20 md:text-4xl font-semibold uppercase text-black bg-white px-4 py-2 rounded-lg border-2 border-black shadow-lg tracking-tight",whileInView:{opacity:[0,1],x:[-15,0]},transition:{duration:.6,delay:.1*t+.2,ease:"easeOut"},viewport:{once:!0},children:e.title})]}),(0,v.jsxs)("div",{className:"relative pl-20 pr-4 md:pl-4 w-full",children:[(0,v.jsx)(n6.h3,{className:"md:hidden block text-2xl mb-4 text-left font-semibold uppercase text-black bg-white px-4 py-2 rounded-lg border-2 border-black shadow-lg tracking-tight",whileInView:{opacity:[0,1],y:[-10,0]},transition:{duration:.5,delay:.1*t+.2,ease:"easeOut"},viewport:{once:!0},children:e.title}),e.content]})]},t)),(0,v.jsx)("div",{style:{height:s+"px"},className:"absolute md:left-8 left-8 top-0 overflow-hidden w-[2px] bg-neutral-200 dark:bg-neutral-800 [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)]",children:(0,v.jsx)(n6.div,{style:{height:n,opacity:l},className:"absolute inset-x-0 top-0 w-[2px] bg-neutral-600 dark:bg-neutral-400 rounded-full"})})]})]})};var lW=r(15807),lH=r(82080),lY=r(18469),lq=r(25541);let lX=(0,R.A)("flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var lK=r(3589),lG=r(78272);let lJ=[{icon:lW.A,name:"Ideas"},{icon:lH.A,name:"Learning"},{icon:lY.A,name:"Current"},{icon:lq.A,name:"Progress"},{icon:lX,name:"Goals"},{icon:la.A,name:"Priority"},{icon:K.A,name:"Completed"},{icon:ed.A,name:"Archive"},{icon:Q.A,name:"Later"},{icon:z.A,name:"Scheduled"}],lZ=[{value:"blue",class:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/10",name:"Blue"},{value:"green",class:"border-green-200 bg-green-50/50 dark:border-green-800 dark:bg-green-900/10",name:"Green"},{value:"purple",class:"border-purple-200 bg-purple-50/50 dark:border-purple-800 dark:bg-purple-900/10",name:"Purple"},{value:"orange",class:"border-orange-200 bg-orange-50/50 dark:border-orange-800 dark:bg-orange-900/10",name:"Orange"},{value:"pink",class:"border-pink-200 bg-pink-50/50 dark:border-pink-800 dark:bg-pink-900/10",name:"Pink"},{value:"yellow",class:"border-yellow-200 bg-yellow-50/50 dark:border-yellow-800 dark:bg-yellow-900/10",name:"Yellow"},{value:"indigo",class:"border-indigo-200 bg-indigo-50/50 dark:border-indigo-800 dark:bg-indigo-900/10",name:"Indigo"},{value:"teal",class:"border-teal-200 bg-teal-50/50 dark:border-teal-800 dark:bg-teal-900/10",name:"Teal"}];function lQ({bookmark:e,onFavorite:t,onClick:r,index:s}){let a=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return"Invalid URL"}};return(0,v.jsx)(n6.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.02*s},className:"group",children:(0,v.jsxs)("div",{onClick:()=>r?.(e),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer transition-all duration-200 border border-transparent hover:border-gray-200 dark:hover:border-gray-700",children:[(0,v.jsxs)("div",{className:"w-6 h-6 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded flex-shrink-0",children:[(0,v.jsx)("img",{src:(e=>{let t=a(e);return`https://www.google.com/s2/favicons?domain=${t}&sz=32`})(e.url),alt:"",className:"w-4 h-4",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}),(0,v.jsx)(ll.A,{className:"w-3 h-3 text-gray-500 hidden"})]}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white truncate pr-2",children:e.title}),(0,v.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:[(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:r=>{r.stopPropagation(),t?.(e)},className:`h-5 w-5 p-0 ${e.is_favorite?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:(0,v.jsx)(P.A,{className:`h-3 w-3 ${e.is_favorite?"fill-current":""}`})}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},className:"h-5 w-5 p-0 text-gray-400 hover:text-blue-500",children:(0,v.jsx)(D.A,{className:"h-2.5 w-2.5"})})]})]}),(0,v.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a(e.url)})]})]})})}function l0({isOpen:e,onClose:t,onCreateSegment:r}){let[s,a]=(0,b.useState)(""),[i,n]=(0,b.useState)(""),[l,o]=(0,b.useState)(0),[d,c]=(0,b.useState)(0);return(0,v.jsx)(A.lG,{open:e,onOpenChange:t,children:(0,v.jsxs)(A.Cf,{className:"sm:max-w-md",children:[(0,v.jsx)(A.c7,{children:(0,v.jsx)(A.L3,{children:"Create Timeline Segment"})}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Segment Name"}),(0,v.jsx)(eY.p,{placeholder:"e.g., Learning Queue, Current Projects...",value:s,onChange:e=>a(e.target.value),className:"mt-1"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description (Optional)"}),(0,v.jsx)(eY.p,{placeholder:"What this timeline segment represents...",value:i,onChange:e=>n(e.target.value),className:"mt-1"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Icon"}),(0,v.jsx)("div",{className:"grid grid-cols-5 gap-2 mt-2",children:lJ.map((e,t)=>{let r=e.icon;return(0,v.jsx)("button",{onClick:()=>o(t),className:`p-3 rounded-lg border-2 transition-all ${l===t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:(0,v.jsx)(r,{className:`h-5 w-5 ${l===t?"text-blue-600":"text-gray-600 dark:text-gray-400"}`})},t)})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color Theme"}),(0,v.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-2",children:lZ.map((e,t)=>(0,v.jsx)("button",{onClick:()=>c(t),className:`p-3 rounded-lg border-2 transition-all ${e.class} ${d===t?"ring-2 ring-blue-500 ring-offset-2":"hover:ring-1 hover:ring-gray-300"}`,children:(0,v.jsx)("span",{className:"text-sm font-medium",children:e.name})},t))})]}),(0,v.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,v.jsx)(C.$,{variant:"outline",onClick:t,children:"Cancel"}),(0,v.jsx)(C.$,{onClick:()=>{s.trim()&&(r({name:s.trim(),description:i.trim(),color:lZ[d].class,icon:lJ[l].icon,iconName:lJ[l].name}),a(""),n(""),o(0),c(0),t())},disabled:!s.trim(),children:"Create Segment"})]})]})]})})}function l1({isOpen:e,onClose:t,bookmarks:r,segments:s,onAssignBookmark:a,onRemoveBookmark:i}){let[n,l]=(0,b.useState)(""),o=e=>s.find(t=>t.bookmarkIds.includes(e)),d=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return"Invalid URL"}},c=e=>{let t=d(e);return`https://www.google.com/s2/favicons?domain=${t}&sz=32`},u=(0,b.useMemo)(()=>r.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.url.toLowerCase().includes(n.toLowerCase())||e.description&&e.description.toLowerCase().includes(n.toLowerCase())),[r,n]);return(0,v.jsx)(A.lG,{open:e,onOpenChange:t,children:(0,v.jsxs)(A.Cf,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden",children:[(0,v.jsx)(A.c7,{children:(0,v.jsx)(A.L3,{children:"Manage Timeline Assignments"})}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)(eY.p,{placeholder:"Search bookmarks...",value:n,onChange:e=>l(e.target.value),className:"pl-9"})]}),(0,v.jsx)("div",{className:"overflow-y-auto max-h-96 space-y-2",children:u.map(e=>{let t=o(e.id);return(0,v.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,v.jsxs)("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded",children:[(0,v.jsx)("img",{src:c(e.url),alt:"",className:"w-5 h-5",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}),(0,v.jsx)(ll.A,{className:"w-4 h-4 text-gray-500 hidden"})]}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:e.title}),(0,v.jsx)("p",{className:"text-xs text-gray-500 truncate",children:d(e.url)})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[t&&(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:t.name}),(0,v.jsxs)("select",{value:t?.id||"",onChange:r=>{let s=r.target.value;t&&i(e.id,t.id),s&&a(e.id,s)},className:"text-sm border rounded px-2 py-1 bg-white dark:bg-gray-800",children:[(0,v.jsx)("option",{value:"",children:"Unassigned"}),s.map(e=>(0,v.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]},e.id)})}),(0,v.jsx)("div",{className:"flex justify-end pt-4",children:(0,v.jsx)(C.$,{onClick:t,children:"Done"})})]})]})})}function l2({bookmarks:e,onBookmarkClick:t,onFavorite:r,loading:s,selectedCategory:a,selectedFolder:i,onCategoryChange:n}){let[l,o]=(0,b.useState)(""),[d,c]=(0,b.useState)(!1),[u,h]=(0,b.useState)(!1),[m,p]=(0,b.useState)(null),[g,x]=(0,b.useState)(!1),[f,y]=(0,b.useState)(new Set),[j,w]=(0,b.useState)(()=>[{id:"ideas-inspiration",name:"Ideas & Inspiration",description:"Future concepts and creative sparks",color:"border-yellow-200 bg-yellow-50/50 dark:border-yellow-800 dark:bg-yellow-900/10",icon:lW.A,iconName:"Lightbulb",bookmarkIds:[],order:1},{id:"learning-queue",name:"Learning Queue",description:"Educational resources and tutorials to study",color:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/10",icon:lH.A,iconName:"BookOpen",bookmarkIds:[],order:2},{id:"current-focus",name:"Current Focus",description:"Active projects and immediate priorities",color:"border-green-200 bg-green-50/50 dark:border-green-800 dark:bg-green-900/10",icon:lY.A,iconName:"Timer",bookmarkIds:[],order:3},{id:"completed",name:"Completed",description:"Finished projects and accomplished goals",color:"border-purple-200 bg-purple-50/50 dark:border-purple-800 dark:bg-purple-900/10",icon:K.A,iconName:"CheckCircle",bookmarkIds:[],order:4},{id:"reference-library",name:"Reference Library",description:"Documentation and long-term resources",color:"border-indigo-200 bg-indigo-50/50 dark:border-indigo-800 dark:bg-indigo-900/10",icon:ed.A,iconName:"Archive",bookmarkIds:[],order:5}]),k=e=>{w(t=>t.filter(t=>t.id!==e))},N=e=>{p(e),x(!0),t?.(e)},S=e=>{y(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},A=(0,b.useMemo)(()=>e.filter(e=>{let t=e.title.toLowerCase().includes(l.toLowerCase())||e.url.toLowerCase().includes(l.toLowerCase())||e.description&&e.description.toLowerCase().includes(l.toLowerCase()),r=!a||"all"===a||e.folder?.name.toLowerCase()===a.toLowerCase(),s=!i||e.folder_id===i.id;return t&&r&&s}),[e,l,a,i]),T=(0,b.useMemo)(()=>{let e=new Set(j.flatMap(e=>e.bookmarkIds));return A.filter(t=>!e.has(t.id))},[A,j]),D=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return"Invalid URL"}},P=e=>{let t=D(e);return`https://www.google.com/s2/favicons?domain=${t}&sz=32`},R=(0,b.useMemo)(()=>j.sort((e,t)=>e.order-t.order).map(e=>{let t=A.filter(t=>e.bookmarkIds.includes(t.id)),s=e.icon,a=f.has(e.id),i=t.length>10,n=a?t:t.slice(0,10);return{title:e.name,content:(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsx)("div",{className:`p-2 rounded-lg ${e.color}`,children:(0,v.jsx)(s,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(0,v.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:t.length}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>k(e.id),className:"h-6 w-6 p-0 text-gray-400 hover:text-red-500",children:(0,v.jsx)(el.A,{className:"h-3 w-3"})})]})]}),0===t.length?(0,v.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,v.jsx)(s,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,v.jsx)("p",{className:"text-sm",children:"No bookmarks assigned"}),(0,v.jsx)("p",{className:"text-xs",children:'Use "Manage Timeline" to add bookmarks'})]}):(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)(ls,{children:n.map((e,t)=>(0,v.jsx)(lQ,{bookmark:e,onFavorite:r,onClick:N,index:t},e.id))}),i&&(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>S(e.id),className:"w-full mt-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:a?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(lK.A,{className:"h-4 w-4 mr-1"}),"Show Less"]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(lG.A,{className:"h-4 w-4 mr-1"}),"Show ",t.length-10," More"]})})]})]})}}),[j,A,k,r,f,N]);return s?(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-64 animate-pulse"}),(0,v.jsx)("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-96 animate-pulse"})]}),(0,v.jsx)("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded w-64 animate-pulse"})]}),(0,v.jsx)("div",{className:"space-y-8",children:[void 0,void 0,void 0].map((e,t)=>(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-48 animate-pulse"}),(0,v.jsx)("div",{className:"space-y-3",children:[void 0,void 0].map((e,t)=>(0,v.jsx)("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},t))})]},t))})]}):(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(a||i)&&n&&(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>n("all"),className:"p-2",children:(0,v.jsx)(lo.A,{className:"h-4 w-4"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i?`Timeline - ${i.name}`:a&&"all"!==a?`Timeline - ${a}`:"Timeline View"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:i?`Timeline view of bookmarks in ${i.name} folder`:a&&"all"!==a?`Timeline view of ${a} bookmarks`:"Organize bookmarks by timeline segments representing your workflow stages"})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[i&&(0,v.jsxs)(X.E,{variant:"secondary",className:"px-3 py-1",children:[(0,v.jsx)(E.A,{className:"h-3 w-3 mr-1"}),i.name," (",A.length,")"]}),(0,v.jsxs)(C.$,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center space-x-2",children:[(0,v.jsx)(W.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Add Segment"})]}),(0,v.jsxs)(C.$,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center space-x-2",children:[(0,v.jsx)(V.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Manage Timeline"})]}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)(eY.p,{placeholder:"Search bookmarks...",value:l,onChange:e=>o(e.target.value),className:"pl-9 w-64"})]})]})]}),(0,v.jsx)("div",{className:"max-w-none -mt-2",children:(0,v.jsx)(lz,{data:R})}),T.length>0&&(0,v.jsxs)("div",{className:"mt-8",children:[(0,v.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,v.jsx)(M.A,{className:"h-5 w-5 text-orange-500"}),(0,v.jsxs)("span",{children:["Unassigned Bookmarks (",T.length,")"]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[T.slice(0,8).map(e=>(0,v.jsx)(eH.Zp,{className:"p-3 bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800 cursor-pointer hover:bg-orange-100/50 dark:hover:bg-orange-900/20 transition-colors",onClick:()=>N(e),children:(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsxs)("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded",children:[(0,v.jsx)("img",{src:P(e.url),alt:"",className:"w-5 h-5",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}),(0,v.jsx)(ll.A,{className:"w-4 h-4 text-gray-500 hidden"})]}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:e.title}),(0,v.jsx)("p",{className:"text-xs text-gray-500 truncate",children:D(e.url)})]})]})},e.id)),T.length>8&&(0,v.jsx)(eH.Zp,{className:"p-3 bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 flex items-center justify-center",children:(0,v.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["+",T.length-8," more"]})})]})]}),(0,v.jsx)(l0,{isOpen:d,onClose:()=>c(!1),onCreateSegment:e=>{let t={...e,id:`segment-${Date.now()}`,bookmarkIds:[],order:j.length+1};w(e=>[...e,t])}}),(0,v.jsx)(l1,{isOpen:u,onClose:()=>h(!1),bookmarks:A,segments:j,onAssignBookmark:(e,t)=>{w(r=>r.map(r=>r.id===t?{...r,bookmarkIds:[...r.bookmarkIds.filter(t=>t!==e),e]}:{...r,bookmarkIds:r.bookmarkIds.filter(t=>t!==e)}))},onRemoveBookmark:(e,t)=>{w(r=>r.map(r=>r.id===t?{...r,bookmarkIds:r.bookmarkIds.filter(t=>t!==e)}:r))}}),(0,v.jsx)(ev.F,{bookmark:m,folders:[],tags:[],isOpen:g,onClose:()=>{x(!1),p(null)},onUpdated:e=>{console.log("Bookmark updated:",e)}})]})}var l4=r(16189),l3=r(51215);let l5="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function l6(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function l8(e){return"nodeType"in e}function l9(e){var t,r;return e?l6(e)?e:l8(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function l7(e){let{Document:t}=l9(e);return e instanceof t}function oe(e){return!l6(e)&&e instanceof l9(e).HTMLElement}function ot(e){return e instanceof l9(e).SVGElement}function or(e){return e?l6(e)?e.document:l8(e)?l7(e)?e:oe(e)||ot(e)?e.ownerDocument:document:document:document}let os=l5?b.useLayoutEffect:b.useEffect;function oa(e){let t=(0,b.useRef)(e);return os(()=>{t.current=e}),(0,b.useCallback)(function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return null==t.current?void 0:t.current(...r)},[])}function oi(e,t){void 0===t&&(t=[e]);let r=(0,b.useRef)(e);return os(()=>{r.current!==e&&(r.current=e)},t),r}function on(e,t){let r=(0,b.useRef)();return(0,b.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function ol(e){let t=oa(e),r=(0,b.useRef)(null),s=(0,b.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,s]}function oo(e){let t=(0,b.useRef)();return(0,b.useEffect)(()=>{t.current=e},[e]),t.current}let od={};function oc(e,t){return(0,b.useMemo)(()=>{if(t)return t;let r=null==od[e]?0:od[e]+1;return od[e]=r,e+"-"+r},[e,t])}function ou(e){return function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((t,r)=>{for(let[s,a]of Object.entries(r)){let r=t[s];null!=r&&(t[s]=r+e*a)}return t},{...t})}}let oh=ou(1),om=ou(-1);function op(e){if(!e)return!1;let{KeyboardEvent:t}=l9(e.target);return t&&e instanceof t}function og(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=l9(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let ox=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[ox.Translate.toString(e),ox.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:s}=e;return t+" "+r+"ms "+s}}}),of="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",oy={display:"none"};function ov(e){let{id:t,value:r}=e;return j().createElement("div",{id:t,style:oy},r)}function ob(e){let{id:t,announcement:r,ariaLiveType:s="assertive"}=e;return j().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":s,"aria-atomic":!0},r)}let oj=(0,b.createContext)(null),ow={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ok={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function oN(e){let{announcements:t=ok,container:r,hiddenTextDescribedById:s,screenReaderInstructions:a=ow}=e,{announce:i,announcement:n}=function(){let[e,t]=(0,b.useState)("");return{announce:(0,b.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),l=oc("DndLiveRegion"),[o,d]=(0,b.useState)(!1);(0,b.useEffect)(()=>{d(!0)},[]);var c=(0,b.useMemo)(()=>({onDragStart(e){let{active:r}=e;i(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:s}=e;t.onDragMove&&i(t.onDragMove({active:r,over:s}))},onDragOver(e){let{active:r,over:s}=e;i(t.onDragOver({active:r,over:s}))},onDragEnd(e){let{active:r,over:s}=e;i(t.onDragEnd({active:r,over:s}))},onDragCancel(e){let{active:r,over:s}=e;i(t.onDragCancel({active:r,over:s}))}}),[i,t]);let u=(0,b.useContext)(oj);if((0,b.useEffect)(()=>{if(!u)throw Error("useDndMonitor must be used within a children of <DndContext>");return u(c)},[c,u]),!o)return null;let h=j().createElement(j().Fragment,null,j().createElement(ov,{id:s,value:a.draggable}),j().createElement(ob,{id:l,announcement:n}));return r?(0,l3.createPortal)(h,r):h}function oC(){}function oS(e,t){return(0,b.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function oA(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,b.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(d||(d={}));let oT=Object.freeze({x:0,y:0});function oE(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oD(e,t){let{data:{value:r}}=e,{data:{value:s}}=t;return r-s}function oP(e,t){let{data:{value:r}}=e,{data:{value:s}}=t;return s-r}function oM(e){let{left:t,top:r,height:s,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+s},{x:t+a,y:r+s}]}function oR(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function oL(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let oF=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e,a=oL(t,t.left,t.top),i=[];for(let e of s){let{id:t}=e,s=r.get(t);if(s){let r=oE(oL(s),a);i.push({id:t,data:{droppableContainer:e,value:r}})}}return i.sort(oD)},oO=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e,a=oM(t),i=[];for(let e of s){let{id:t}=e,s=r.get(t);if(s){let r=oM(s),n=Number((a.reduce((e,t,s)=>e+oE(r[s],t),0)/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(oD)},oV=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e,a=[];for(let e of s){let{id:s}=e,i=r.get(s);if(i){let r=function(e,t){let r=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height);if(s<a&&r<i){let n=t.width*t.height,l=e.width*e.height,o=(a-s)*(i-r);return Number((o/(n+l-o)).toFixed(4))}return 0}(i,t);r>0&&a.push({id:s,data:{droppableContainer:e,value:r}})}}return a.sort(oP)};function oB(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:oT}let o$=function(e){return function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}(1);function oI(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}let o_={ignoreTransform:!1};function oU(e,t){void 0===t&&(t=o_);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:s}=l9(e).getComputedStyle(e);t&&(r=function(e,t,r){let s=oI(t);if(!s)return e;let{scaleX:a,scaleY:i,x:n,y:l}=s,o=e.left-n-(1-a)*parseFloat(r),d=e.top-l-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),c=a?e.width/a:e.width,u=i?e.height/i:e.height;return{width:c,height:u,top:d,right:o+c,bottom:d+u,left:o}}(r,t,s))}let{top:s,left:a,width:i,height:n,bottom:l,right:o}=r;return{top:s,left:a,width:i,height:n,bottom:l,right:o}}function oz(e){return oU(e,{ignoreTransform:!0})}function oW(e,t){let r=[];return e?function s(a){var i;if(null!=t&&r.length>=t||!a)return r;if(l7(a)&&null!=a.scrollingElement&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!oe(a)||ot(a)||r.includes(a))return r;let n=l9(e).getComputedStyle(a);return(a!==e&&function(e,t){void 0===t&&(t=l9(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let s=t[e];return"string"==typeof s&&r.test(s)})}(a,n)&&r.push(a),void 0===(i=n)&&(i=l9(a).getComputedStyle(a)),"fixed"===i.position)?r:s(a.parentNode)}(e):r}function oH(e){let[t]=oW(e,1);return null!=t?t:null}function oY(e){return l5&&e?l6(e)?e:l8(e)?l7(e)||e===or(e).scrollingElement?window:oe(e)?e:null:null:null}function oq(e){return l6(e)?e.scrollX:e.scrollLeft}function oX(e){return l6(e)?e.scrollY:e.scrollTop}function oK(e){return{x:oq(e),y:oX(e)}}function oG(e){return!!l5&&!!e&&e===document.scrollingElement}function oJ(e){let t={x:0,y:0},r=oG(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x;return{isTop:a,isLeft:i,isBottom:e.scrollTop>=s.y,isRight:e.scrollLeft>=s.x,maxScroll:s,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(c||(c={}));let oZ={x:.2,y:.2};function oQ(e){return e.reduce((e,t)=>oh(e,oK(t)),oT)}function o0(e,t){if(void 0===t&&(t=oU),!e)return;let{top:r,left:s,bottom:a,right:i}=t(e);oH(e)&&(a<=0||i<=0||r>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let o1=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+oq(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+oX(t),0)}]];class o2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=oW(t),s=oQ(r);for(let[t,a,i]of(this.rect={...e},this.width=e.width,this.height=e.height,o1))for(let e of a)Object.defineProperty(this,e,{get:()=>{let a=i(r),n=s[t]-a;return this.rect[e]+n},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class o4{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var s;null==(s=this.target)||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function o3(e,t){let r=Math.abs(e.x),s=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+s**2)>t:"x"in t&&"y"in t?r>t.x&&s>t.y:"x"in t?r>t.x:"y"in t&&s>t.y}function o5(e){e.preventDefault()}function o6(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(u||(u={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(h||(h={}));let o8={start:[h.Space,h.Enter],cancel:[h.Esc],end:[h.Space,h.Enter,h.Tab]},o9=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case h.Right:return{...r,x:r.x+25};case h.Left:return{...r,x:r.x-25};case h.Down:return{...r,y:r.y+25};case h.Up:return{...r,y:r.y-25}}};class o7{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new o4(or(t)),this.windowListeners=new o4(l9(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(u.Resize,this.handleCancel),this.windowListeners.add(u.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(u.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&o0(r),t(oT)}handleKeyDown(e){if(op(e)){let{active:t,context:r,options:s}=this.props,{keyboardCodes:a=o8,coordinateGetter:i=o9,scrollBehavior:n="smooth"}=s,{code:l}=e;if(a.end.includes(l))return void this.handleEnd(e);if(a.cancel.includes(l))return void this.handleCancel(e);let{collisionRect:o}=r.current,d=o?{x:o.left,y:o.top}:oT;this.referenceCoordinates||(this.referenceCoordinates=d);let c=i(e,{active:t,context:r.current,currentCoordinates:d});if(c){let t=om(c,d),s={x:0,y:0},{scrollableAncestors:a}=r.current;for(let r of a){let a=e.code,{isTop:i,isRight:l,isLeft:o,isBottom:d,maxScroll:u,minScroll:m}=oJ(r),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}(r),g={x:Math.min(a===h.Right?p.right-p.width/2:p.right,Math.max(a===h.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(a===h.Down?p.bottom-p.height/2:p.bottom,Math.max(a===h.Down?p.top:p.top+p.height/2,c.y))},x=a===h.Right&&!l||a===h.Left&&!o,f=a===h.Down&&!d||a===h.Up&&!i;if(x&&g.x!==c.x){let e=r.scrollLeft+t.x,i=a===h.Right&&e<=u.x||a===h.Left&&e>=m.x;if(i&&!t.y)return void r.scrollTo({left:e,behavior:n});i?s.x=r.scrollLeft-e:s.x=a===h.Right?r.scrollLeft-u.x:r.scrollLeft-m.x,s.x&&r.scrollBy({left:-s.x,behavior:n});break}if(f&&g.y!==c.y){let e=r.scrollTop+t.y,i=a===h.Down&&e<=u.y||a===h.Up&&e>=m.y;if(i&&!t.x)return void r.scrollTo({top:e,behavior:n});i?s.y=r.scrollTop-e:s.y=a===h.Down?r.scrollTop-u.y:r.scrollTop-m.y,s.y&&r.scrollBy({top:-s.y,behavior:n});break}}this.handleMove(e,oh(om(c,this.referenceCoordinates),s))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function de(e){return!!(e&&"distance"in e)}function dt(e){return!!(e&&"delay"in e)}o7.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:s=o8,onActivation:a}=t,{active:i}=r,{code:n}=e.nativeEvent;if(s.start.includes(n)){let t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class dr{constructor(e,t,r){var s;void 0===r&&(r=function(e){let{EventTarget:t}=l9(e);return e instanceof t?e:or(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:a}=e,{target:i}=a;this.props=e,this.events=t,this.document=or(i),this.documentListeners=new o4(this.document),this.listeners=new o4(r),this.windowListeners=new o4(l9(i)),this.initialCoordinates=null!=(s=og(a))?s:oT,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(u.Resize,this.handleCancel),this.windowListeners.add(u.DragStart,o5),this.windowListeners.add(u.VisibilityChange,this.handleCancel),this.windowListeners.add(u.ContextMenu,o5),this.documentListeners.add(u.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(dt(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(de(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(u.Click,o6,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(u.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:s,props:a}=this,{onMove:i,options:{activationConstraint:n}}=a;if(!s)return;let l=null!=(t=og(e))?t:oT,o=om(s,l);if(!r&&n){if(de(n)){if(null!=n.tolerance&&o3(o,n.tolerance))return this.handleCancel();if(o3(o,n.distance))return this.handleStart()}return dt(n)&&o3(o,n.tolerance)?this.handleCancel():void this.handlePending(n,o)}e.cancelable&&e.preventDefault(),i(l)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===h.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let ds={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class da extends dr{constructor(e){let{event:t}=e;super(e,ds,or(t.target))}}da.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t;return!!r.isPrimary&&0===r.button&&(null==s||s({event:r}),!0)}}];let di={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(m||(m={}));class dn extends dr{constructor(e){super(e,di,or(e.event.target))}}dn.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t;return r.button!==m.RightClick&&(null==s||s({event:r}),!0)}}];let dl={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dd extends dr{constructor(e){super(e,dl)}static setup(){return window.addEventListener(dl.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(dl.move.name,e)};function e(){}}}dd.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t,{touches:a}=r;return!(a.length>1)&&(null==s||s({event:r}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(p||(p={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(g||(g={}));let dc={x:{[c.Backward]:!1,[c.Forward]:!1},y:{[c.Backward]:!1,[c.Forward]:!1}};!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(x||(x={})),(f||(f={})).Optimized="optimized";let du=new Map;function dh(e,t){return on(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function dm(e){let{callback:t,disabled:r}=e,s=oa(t),a=(0,b.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(s)},[r]);return(0,b.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function dp(e){return new o2(oU(e),e)}function dg(e,t,r){void 0===t&&(t=dp);let[s,a]=(0,b.useState)(null);function i(){a(s=>{if(!e)return null;if(!1===e.isConnected){var a;return null!=(a=null!=s?s:r)?a:null}let i=t(e);return JSON.stringify(s)===JSON.stringify(i)?s:i})}let n=function(e){let{callback:t,disabled:r}=e,s=oa(t),a=(0,b.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(s)},[s,r]);return(0,b.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(let r of t){let{type:t,target:s}=r;if("childList"===t&&s instanceof HTMLElement&&s.contains(e)){i();break}}}}),l=dm({callback:i});return os(()=>{i(),e?(null==l||l.observe(e),null==n||n.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==n||n.disconnect())},[e]),s}let dx=[];function df(e,t){void 0===t&&(t=[]);let r=(0,b.useRef)(null);return(0,b.useEffect)(()=>{r.current=null},t),(0,b.useEffect)(()=>{let t=e!==oT;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?om(e,r.current):oT}function dy(e){return(0,b.useMemo)(()=>e?function(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}let dv=[];function db(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return oe(t)?t:e}let dj=[{sensor:da,options:{}},{sensor:o7,options:{}}],dw={current:{}},dk={draggable:{measure:oz},droppable:{measure:oz,strategy:x.WhileDragging,frequency:f.Optimized},dragOverlay:{measure:oU}};class dN extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let dC={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dN,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:oC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dk,measureDroppableContainers:oC,windowRect:null,measuringScheduled:!1},dS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:oC,draggableNodes:new Map,over:null,measureDroppableContainers:oC},dA=(0,b.createContext)(dS),dT=(0,b.createContext)(dC);function dE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dN}}}function dD(e,t){switch(t.type){case d.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case d.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case d.DragEnd:case d.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case d.RegisterDroppable:{let{element:r}=t,{id:s}=r,a=new dN(e.droppable.containers);return a.set(s,r),{...e,droppable:{...e.droppable,containers:a}}}case d.SetDroppableDisabled:{let{id:r,key:s,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||s!==i.key)return e;let n=new dN(e.droppable.containers);return n.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:n}}}case d.UnregisterDroppable:{let{id:r,key:s}=t,a=e.droppable.containers.get(r);if(!a||s!==a.key)return e;let i=new dN(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function dP(e){let{disabled:t}=e,{active:r,activatorEvent:s,draggableNodes:a}=(0,b.useContext)(dA),i=oo(s),n=oo(null==r?void 0:r.id);return(0,b.useEffect)(()=>{if(!t&&!s&&i&&null!=n){if(!op(i)||document.activeElement===i.target)return;let e=a.get(n);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(of)?e:e.querySelector(of);if(t){t.focus();break}}})}},[s,t,a,n,i]),null}function dM(e,t){let{transform:r,...s}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...s}),r):r}let dR=(0,b.createContext)({...oT,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(y||(y={}));let dL=(0,b.memo)(function(e){var t,r,s,a,i,n;let{id:l,accessibility:o,autoScroll:u=!0,children:h,sensors:m=dj,collisionDetection:f=oV,measuring:v,modifiers:w,...k}=e,[N,C]=(0,b.useReducer)(dD,void 0,dE),[S,A]=function(){let[e]=(0,b.useState)(()=>new Set),t=(0,b.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,b.useCallback)(t=>{let{type:r,event:s}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,s)})},[e]),t]}(),[T,E]=(0,b.useState)(y.Uninitialized),D=T===y.Initialized,{draggable:{active:P,nodes:M,translate:R},droppable:{containers:L}}=N,F=null!=P?M.get(P):null,O=(0,b.useRef)({initial:null,translated:null}),V=(0,b.useMemo)(()=>{var e;return null!=P?{id:P,data:null!=(e=null==F?void 0:F.data)?e:dw,rect:O}:null},[P,F]),B=(0,b.useRef)(null),[$,I]=(0,b.useState)(null),[_,U]=(0,b.useState)(null),z=oi(k,Object.values(k)),W=oc("DndDescribedBy",l),H=(0,b.useMemo)(()=>L.getEnabled(),[L]),Y=(0,b.useMemo)(()=>({draggable:{...dk.draggable,...null==v?void 0:v.draggable},droppable:{...dk.droppable,...null==v?void 0:v.droppable},dragOverlay:{...dk.dragOverlay,...null==v?void 0:v.dragOverlay}}),[null==v?void 0:v.draggable,null==v?void 0:v.droppable,null==v?void 0:v.dragOverlay]),{droppableRects:q,measureDroppableContainers:X,measuringScheduled:K}=function(e,t){let{dragging:r,dependencies:s,config:a}=t,[i,n]=(0,b.useState)(null),{frequency:l,measure:o,strategy:d}=a,c=(0,b.useRef)(e),u=function(){switch(d){case x.Always:return!1;case x.BeforeDragging:return r;default:return!r}}(),h=oi(u),m=(0,b.useCallback)(function(e){void 0===e&&(e=[]),h.current||n(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),p=(0,b.useRef)(null),g=on(t=>{if(u&&!r)return du;if(!t||t===du||c.current!==e||null!=i){let t=new Map;for(let r of e){if(!r)continue;if(i&&i.length>0&&!i.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,s=e?new o2(o(e),e):null;r.rect.current=s,s&&t.set(r.id,s)}return t}return t},[e,i,r,u,o]);return(0,b.useEffect)(()=>{c.current=e},[e]),(0,b.useEffect)(()=>{u||m()},[r,u]),(0,b.useEffect)(()=>{i&&i.length>0&&n(null)},[JSON.stringify(i)]),(0,b.useEffect)(()=>{u||"number"!=typeof l||null!==p.current||(p.current=setTimeout(()=>{m(),p.current=null},l))},[l,u,m,...s]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:null!=i}}(H,{dragging:D,dependencies:[R.x,R.y],config:Y.droppable}),G=function(e,t){let r=null!=t?e.get(t):void 0,s=r?r.node.current:null;return on(e=>{var r;return null==t?null:null!=(r=null!=s?s:e)?r:null},[s,t])}(M,P),J=(0,b.useMemo)(()=>_?og(_):null,[_]),Z=function(){let e=(null==$?void 0:$.autoScrollEnabled)===!1,t="object"==typeof u?!1===u.enabled:!1===u,r=D&&!e&&!t;return"object"==typeof u?{...u,enabled:r}:{enabled:r}}(),Q=dh(G,Y.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:s,config:a=!0}=e,i=(0,b.useRef)(!1),{x:n,y:l}="boolean"==typeof a?{x:a,y:a}:a;os(()=>{if(!n&&!l||!t){i.current=!1;return}if(i.current||!s)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let a=oB(r(e),s);if(n||(a.x=0),l||(a.y=0),i.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){let t=oH(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,n,l,s,r])}({activeNode:null!=P?M.get(P):null,config:Z.layoutShiftCompensation,initialRect:Q,measure:Y.draggable.measure});let ee=dg(G,Y.draggable.measure,Q),et=dg(G?G.parentElement:null),er=(0,b.useRef)({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),es=L.getNodeFor(null==(t=er.current.over)?void 0:t.id),ea=function(e){let{measure:t}=e,[r,s]=(0,b.useState)(null),a=dm({callback:(0,b.useCallback)(e=>{for(let{target:r}of e)if(oe(r)){s(e=>{let s=t(r);return e?{...e,width:s.width,height:s.height}:s});break}},[t])}),[i,n]=ol((0,b.useCallback)(e=>{let r=db(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),s(r?t(r):null)},[t,a]));return(0,b.useMemo)(()=>({nodeRef:i,rect:r,setRef:n}),[r,i,n])}({measure:Y.dragOverlay.measure}),ei=null!=(r=ea.nodeRef.current)?r:G,en=D?null!=(s=ea.rect)?s:ee:null,el=!!(ea.nodeRef.current&&ea.rect),eo=function(e){let t=dh(e);return oB(e,t)}(el?null:ee),ed=dy(ei?l9(ei):null),ec=function(e){let t=(0,b.useRef)(e),r=on(r=>e?r&&r!==dx&&e&&t.current&&e.parentNode===t.current.parentNode?r:oW(e):dx,[e]);return(0,b.useEffect)(()=>{t.current=e},[e]),r}(D?null!=es?es:G:null),eu=function(e,t){void 0===t&&(t=oU);let[r]=e,s=dy(r?l9(r):null),[a,i]=(0,b.useState)(dv);function n(){i(()=>e.length?e.map(e=>oG(e)?s:new o2(t(e),e)):dv)}let l=dm({callback:n});return os(()=>{null==l||l.disconnect(),n(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),a}(ec),eh=dM(w,{transform:{x:R.x-eo.x,y:R.y-eo.y,scaleX:1,scaleY:1},activatorEvent:_,active:V,activeNodeRect:ee,containerNodeRect:et,draggingNodeRect:en,over:er.current.over,overlayNodeRect:ea.rect,scrollableAncestors:ec,scrollableAncestorRects:eu,windowRect:ed}),em=J?oh(J,R):null,ep=function(e){let[t,r]=(0,b.useState)(null),s=(0,b.useRef)(e),a=(0,b.useCallback)(e=>{let t=oY(e.target);t&&r(e=>e?(e.set(t,oK(t)),new Map(e)):null)},[]);return(0,b.useEffect)(()=>{let t=s.current;if(e!==t){i(t);let n=e.map(e=>{let t=oY(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,oK(t)]):null}).filter(e=>null!=e);r(n.length?new Map(n):null),s.current=e}return()=>{i(e),i(t)};function i(e){e.forEach(e=>{let t=oY(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),(0,b.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>oh(e,t),oT):oQ(e):oT,[e,t])}(ec),eg=df(ep),ex=df(ep,[ee]),ef=oh(eh,eg),ey=en?o$(en,eh):null,ev=V&&ey?f({active:V,collisionRect:ey,droppableRects:q,droppableContainers:H,pointerCoordinates:em}):null,eb=oR(ev,"id"),[ej,ew]=(0,b.useState)(null),ek=(i=el?eh:oh(eh,ex),n=null!=(a=null==ej?void 0:ej.rect)?a:null,{...i,scaleX:n&&ee?n.width/ee.width:1,scaleY:n&&ee?n.height/ee.height:1}),eN=(0,b.useRef)(null),eC=(0,b.useCallback)((e,t)=>{let{sensor:r,options:s}=t;if(null==B.current)return;let a=M.get(B.current);if(!a)return;let i=e.nativeEvent,n=new r({active:B.current,activeNode:a,event:i,options:s,context:er,onAbort(e){if(!M.get(e))return;let{onDragAbort:t}=z.current,r={id:e};null==t||t(r),S({type:"onDragAbort",event:r})},onPending(e,t,r,s){if(!M.get(e))return;let{onDragPending:a}=z.current,i={id:e,constraint:t,initialCoordinates:r,offset:s};null==a||a(i),S({type:"onDragPending",event:i})},onStart(e){let t=B.current;if(null==t)return;let r=M.get(t);if(!r)return;let{onDragStart:s}=z.current,a={activatorEvent:i,active:{id:t,data:r.data,rect:O}};(0,l3.unstable_batchedUpdates)(()=>{null==s||s(a),E(y.Initializing),C({type:d.DragStart,initialCoordinates:e,active:t}),S({type:"onDragStart",event:a}),I(eN.current),U(i)})},onMove(e){C({type:d.DragMove,coordinates:e})},onEnd:l(d.DragEnd),onCancel:l(d.DragCancel)});function l(e){return async function(){let{active:t,collisions:r,over:s,scrollAdjustedTranslate:a}=er.current,n=null;if(t&&a){let{cancelDrop:l}=z.current;n={activatorEvent:i,active:t,collisions:r,delta:a,over:s},e===d.DragEnd&&"function"==typeof l&&await Promise.resolve(l(n))&&(e=d.DragCancel)}B.current=null,(0,l3.unstable_batchedUpdates)(()=>{C({type:e}),E(y.Uninitialized),ew(null),I(null),U(null),eN.current=null;let t=e===d.DragEnd?"onDragEnd":"onDragCancel";if(n){let e=z.current[t];null==e||e(n),S({type:t,event:n})}})}}eN.current=n},[M]),eS=(0,b.useCallback)((e,t)=>(r,s)=>{let a=r.nativeEvent,i=M.get(s);null!==B.current||!i||a.dndKit||a.defaultPrevented||!0===e(r,t.options,{active:i})&&(a.dndKit={capturedBy:t.sensor},B.current=s,eC(r,t))},[M,eC]),eA=(0,b.useMemo)(()=>m.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:eS(e.handler,t)}))]},[]),[m,eS]);(0,b.useEffect)(()=>{if(!l5)return;let e=m.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},m.map(e=>{let{sensor:t}=e;return t})),os(()=>{ee&&T===y.Initializing&&E(y.Initialized)},[ee,T]),(0,b.useEffect)(()=>{let{onDragMove:e}=z.current,{active:t,activatorEvent:r,collisions:s,over:a}=er.current;if(!t||!r)return;let i={active:t,activatorEvent:r,collisions:s,delta:{x:ef.x,y:ef.y},over:a};(0,l3.unstable_batchedUpdates)(()=>{null==e||e(i),S({type:"onDragMove",event:i})})},[ef.x,ef.y]),(0,b.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:s,scrollAdjustedTranslate:a}=er.current;if(!e||null==B.current||!t||!a)return;let{onDragOver:i}=z.current,n=s.get(eb),l=n&&n.rect.current?{id:n.id,rect:n.rect.current,data:n.data,disabled:n.disabled}:null,o={active:e,activatorEvent:t,collisions:r,delta:{x:a.x,y:a.y},over:l};(0,l3.unstable_batchedUpdates)(()=>{ew(l),null==i||i(o),S({type:"onDragOver",event:o})})},[eb]),os(()=>{er.current={activatorEvent:_,active:V,activeNode:G,collisionRect:ey,collisions:ev,droppableRects:q,draggableNodes:M,draggingNode:ei,draggingNodeRect:en,droppableContainers:L,over:ej,scrollableAncestors:ec,scrollAdjustedTranslate:ef},O.current={initial:en,translated:ey}},[V,G,ev,ey,M,ei,en,q,L,ej,ec,ef]),function(e){let{acceleration:t,activator:r=p.Pointer,canScroll:s,draggingRect:a,enabled:i,interval:n=5,order:l=g.TreeOrder,pointerCoordinates:o,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:m}=e,x=function(e){let{delta:t,disabled:r}=e,s=oo(t);return on(e=>{if(r||!s||!e)return dc;let a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[c.Backward]:e.x[c.Backward]||-1===a.x,[c.Forward]:e.x[c.Forward]||1===a.x},y:{[c.Backward]:e.y[c.Backward]||-1===a.y,[c.Forward]:e.y[c.Forward]||1===a.y}}},[r,t,s])}({delta:h,disabled:!i}),[f,y]=function(){let e=(0,b.useRef)(null);return[(0,b.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,b.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),v=(0,b.useRef)({x:0,y:0}),j=(0,b.useRef)({x:0,y:0}),w=(0,b.useMemo)(()=>{switch(r){case p.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case p.DraggableRect:return a}},[r,a,o]),k=(0,b.useRef)(null),N=(0,b.useCallback)(()=>{let e=k.current;if(!e)return;let t=v.current.x*j.current.x,r=v.current.y*j.current.y;e.scrollBy(t,r)},[]),C=(0,b.useMemo)(()=>l===g.TreeOrder?[...d].reverse():d,[l,d]);(0,b.useEffect)(()=>{if(!i||!d.length||!w)return void y();for(let e of C){if((null==s?void 0:s(e))===!1)continue;let r=u[d.indexOf(e)];if(!r)continue;let{direction:a,speed:i}=function(e,t,r,s,a){let{top:i,left:n,right:l,bottom:o}=r;void 0===s&&(s=10),void 0===a&&(a=oZ);let{isTop:d,isBottom:u,isLeft:h,isRight:m}=oJ(e),p={x:0,y:0},g={x:0,y:0},x={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+x.height?(p.y=c.Backward,g.y=s*Math.abs((t.top+x.height-i)/x.height)):!u&&o>=t.bottom-x.height&&(p.y=c.Forward,g.y=s*Math.abs((t.bottom-x.height-o)/x.height)),!m&&l>=t.right-x.width?(p.x=c.Forward,g.x=s*Math.abs((t.right-x.width-l)/x.width)):!h&&n<=t.left+x.width&&(p.x=c.Backward,g.x=s*Math.abs((t.left+x.width-n)/x.width)),{direction:p,speed:g}}(e,r,w,t,m);for(let e of["x","y"])x[e][a[e]]||(i[e]=0,a[e]=0);if(i.x>0||i.y>0){y(),k.current=e,f(N,n),v.current=i,j.current=a;return}}v.current={x:0,y:0},j.current={x:0,y:0},y()},[t,N,s,y,i,n,JSON.stringify(w),JSON.stringify(x),f,d,C,u,JSON.stringify(m)])}({...Z,delta:R,draggingRect:ey,pointerCoordinates:em,scrollableAncestors:ec,scrollableAncestorRects:eu});let eT=(0,b.useMemo)(()=>({active:V,activeNode:G,activeNodeRect:ee,activatorEvent:_,collisions:ev,containerNodeRect:et,dragOverlay:ea,draggableNodes:M,droppableContainers:L,droppableRects:q,over:ej,measureDroppableContainers:X,scrollableAncestors:ec,scrollableAncestorRects:eu,measuringConfiguration:Y,measuringScheduled:K,windowRect:ed}),[V,G,ee,_,ev,et,ea,M,L,q,ej,X,ec,eu,Y,K,ed]),eE=(0,b.useMemo)(()=>({activatorEvent:_,activators:eA,active:V,activeNodeRect:ee,ariaDescribedById:{draggable:W},dispatch:C,draggableNodes:M,over:ej,measureDroppableContainers:X}),[_,eA,V,ee,C,W,M,ej,X]);return j().createElement(oj.Provider,{value:A},j().createElement(dA.Provider,{value:eE},j().createElement(dT.Provider,{value:eT},j().createElement(dR.Provider,{value:ek},h)),j().createElement(dP,{disabled:(null==o?void 0:o.restoreFocus)===!1})),j().createElement(oN,{...o,hiddenTextDescribedById:W}))}),dF=(0,b.createContext)(null),dO="button";function dV(){return(0,b.useContext)(dT)}let dB={timeout:25};function d$(e){let{animation:t,children:r}=e,[s,a]=(0,b.useState)(null),[i,n]=(0,b.useState)(null),l=oo(r);return r||s||!l||a(l),os(()=>{if(!i)return;let e=null==s?void 0:s.key,r=null==s?void 0:s.props.id;if(null==e||null==r)return void a(null);Promise.resolve(t(r,i)).then(()=>{a(null)})},[t,s,i]),j().createElement(j().Fragment,null,r,s?(0,b.cloneElement)(s,{ref:n}):null)}let dI={x:0,y:0,scaleX:1,scaleY:1};function d_(e){let{children:t}=e;return j().createElement(dA.Provider,{value:dS},j().createElement(dR.Provider,{value:dI},t))}let dU={position:"fixed",touchAction:"none"},dz=e=>op(e)?"transform 250ms ease":void 0,dW=(0,b.forwardRef)((e,t)=>{let{as:r,activatorEvent:s,adjustScale:a,children:i,className:n,rect:l,style:o,transform:d,transition:c=dz}=e;if(!l)return null;let u=a?d:{...d,scaleX:1,scaleY:1},h={...dU,width:l.width,height:l.height,top:l.top,left:l.left,transform:ox.Transform.toString(u),transformOrigin:a&&s?function(e,t){let r=og(e);if(!r)return"0 0";let s={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}(s,l):void 0,transition:"function"==typeof c?c(s):c,...o};return j().createElement(r,{className:n,style:h,ref:t},i)}),dH={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:r}}=e;return[{transform:ox.Transform.toString(t)},{transform:ox.Transform.toString(r)}]},sideEffects:(n={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:r}=e,s={},{styles:a,className:i}=n;if(null!=a&&a.active)for(let[e,r]of Object.entries(a.active))void 0!==r&&(s[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,r));if(null!=a&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=i&&i.active&&t.node.classList.add(i.active),null!=i&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(let[e,r]of Object.entries(s))t.node.style.setProperty(e,r);null!=i&&i.active&&t.node.classList.remove(i.active)}})},dY=0,dq=j().memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:s,style:a,transition:i,modifiers:n,wrapperElement:l="div",className:o,zIndex:d=999}=e,{activatorEvent:c,active:u,activeNodeRect:h,containerNodeRect:m,draggableNodes:p,droppableContainers:g,dragOverlay:x,over:f,measuringConfiguration:y,scrollableAncestors:v,scrollableAncestorRects:w,windowRect:k}=dV(),N=(0,b.useContext)(dR),C=function(e){return(0,b.useMemo)(()=>{if(null!=e)return++dY},[e])}(null==u?void 0:u.id),S=dM(n,{activatorEvent:c,active:u,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:x.rect,over:f,overlayNodeRect:x.rect,scrollableAncestors:v,scrollableAncestorRects:w,transform:N,windowRect:k}),A=dh(h),T=function(e){let{config:t,draggableNodes:r,droppableContainers:s,measuringConfiguration:a}=e;return oa((e,i)=>{if(null===t)return;let n=r.get(e);if(!n)return;let l=n.node.current;if(!l)return;let o=db(i);if(!o)return;let{transform:d}=l9(i).getComputedStyle(i),c=oI(d);if(!c)return;let u="function"==typeof t?t:function(e){let{duration:t,easing:r,sideEffects:s,keyframes:a}={...dH,...e};return e=>{let{active:i,dragOverlay:n,transform:l,...o}=e;if(!t)return;let d={x:n.rect.left-i.rect.left,y:n.rect.top-i.rect.top},c={scaleX:1!==l.scaleX?i.rect.width*l.scaleX/n.rect.width:1,scaleY:1!==l.scaleY?i.rect.height*l.scaleY/n.rect.height:1},u={x:l.x-d.x,y:l.y-d.y,...c},h=a({...o,active:i,dragOverlay:n,transform:{initial:l,final:u}}),[m]=h,p=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;let g=null==s?void 0:s({active:i,dragOverlay:n,...o}),x=n.node.animate(h,{duration:t,easing:r,fill:"forwards"});return new Promise(e=>{x.onfinish=()=>{null==g||g(),e()}})}}(t);return o0(l,a.draggable.measure),u({active:{id:e,data:n.data,node:l,rect:a.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:i,rect:a.dragOverlay.measure(o)},droppableContainers:s,measuringConfiguration:a,transform:c})})}({config:s,draggableNodes:p,droppableContainers:g,measuringConfiguration:y}),E=A?x.setRef:void 0;return j().createElement(d_,null,j().createElement(d$,{animation:T},u&&C?j().createElement(dW,{key:C,id:u.id,ref:E,as:l,activatorEvent:c,adjustScale:t,className:o,transition:i,rect:A,style:{zIndex:d,...a},transform:S},r):null))});function dX(e,t,r){let s=e.slice();return s.splice(r<0?s.length+r:r,0,s.splice(t,1)[0]),s}function dK(e){return null!==e&&e>=0}let dG=e=>{let{rects:t,activeIndex:r,overIndex:s,index:a}=e,i=dX(t,s,r),n=t[a],l=i[a];return l&&n?{x:l.left-n.left,y:l.top-n.top,scaleX:l.width/n.width,scaleY:l.height/n.height}:null},dJ={scaleX:1,scaleY:1},dZ=e=>{var t;let{activeIndex:r,activeNodeRect:s,index:a,rects:i,overIndex:n}=e,l=null!=(t=i[r])?t:s;if(!l)return null;if(a===r){let e=i[n];return e?{x:0,y:r<n?e.top+e.height-(l.top+l.height):e.top-l.top,...dJ}:null}let o=function(e,t,r){let s=e[t],a=e[t-1],i=e[t+1];return s?r<t?a?s.top-(a.top+a.height):i?i.top-(s.top+s.height):0:i?i.top-(s.top+s.height):a?s.top-(a.top+a.height):0:0}(i,a,r);return a>r&&a<=n?{x:0,y:-l.height-o,...dJ}:a<r&&a>=n?{x:0,y:l.height+o,...dJ}:{x:0,y:0,...dJ}},dQ="Sortable",d0=j().createContext({activeIndex:-1,containerId:dQ,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dG,disabled:{draggable:!1,droppable:!1}});function d1(e){let{children:t,id:r,items:s,strategy:a=dG,disabled:i=!1}=e,{active:n,dragOverlay:l,droppableRects:o,over:d,measureDroppableContainers:c}=dV(),u=oc(dQ,r),h=null!==l.rect,m=(0,b.useMemo)(()=>s.map(e=>"object"==typeof e&&"id"in e?e.id:e),[s]),p=null!=n,g=n?m.indexOf(n.id):-1,x=d?m.indexOf(d.id):-1,f=(0,b.useRef)(m),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(m,f.current),v=-1!==x&&-1===g||y,w="boolean"==typeof i?{draggable:i,droppable:i}:i;os(()=>{y&&p&&c(m)},[y,m,p,c]),(0,b.useEffect)(()=>{f.current=m},[m]);let k=(0,b.useMemo)(()=>({activeIndex:g,containerId:u,disabled:w,disableTransforms:v,items:m,overIndex:x,useDragOverlay:h,sortedRects:m.reduce((e,t,r)=>{let s=o.get(t);return s&&(e[r]=s),e},Array(m.length)),strategy:a}),[g,u,w.draggable,w.droppable,v,m,x,o,h,a]);return j().createElement(d0.Provider,{value:k},t)}let d2=e=>{let{id:t,items:r,activeIndex:s,overIndex:a}=e;return dX(r,s,a).indexOf(t)},d4=e=>{let{containerId:t,isSorting:r,wasDragging:s,index:a,items:i,newIndex:n,previousItems:l,previousContainerId:o,transition:d}=e;return!!d&&!!s&&(l===i||a!==n)&&(!!r||n!==a&&t===o)},d3={duration:200,easing:"ease"},d5="transform",d6=ox.Transition.toString({property:d5,duration:0,easing:"linear"}),d8={roleDescription:"sortable"};function d9(e){var t,r,s,a;let{animateLayoutChanges:i=d4,attributes:n,disabled:l,data:o,getNewIndex:c=d2,id:u,strategy:h,resizeObserverConfig:m,transition:p=d3}=e,{items:g,containerId:x,activeIndex:f,disabled:y,disableTransforms:v,sortedRects:j,overIndex:w,useDragOverlay:k,strategy:N}=(0,b.useContext)(d0),C=(t=l,r=y,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(s=null==t?void 0:t.draggable)?s:r.draggable,droppable:null!=(a=null==t?void 0:t.droppable)?a:r.droppable}),S=g.indexOf(u),A=(0,b.useMemo)(()=>({sortable:{containerId:x,index:S,items:g},...o}),[x,o,S,g]),T=(0,b.useMemo)(()=>g.slice(g.indexOf(u)),[g,u]),{rect:E,node:D,isOver:P,setNodeRef:M}=function(e){let{data:t,disabled:r=!1,id:s,resizeObserverConfig:a}=e,i=oc("Droppable"),{active:n,dispatch:l,over:o,measureDroppableContainers:c}=(0,b.useContext)(dA),u=(0,b.useRef)({disabled:r}),h=(0,b.useRef)(!1),m=(0,b.useRef)(null),p=(0,b.useRef)(null),{disabled:g,updateMeasurementsFor:x,timeout:f}={...dB,...a},y=oi(null!=x?x:s),v=dm({callback:(0,b.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),p.current=null},f)},[f]),disabled:g||!n}),[j,w]=ol((0,b.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),h.current=!1),e&&v.observe(e))},[v])),k=oi(t);return(0,b.useEffect)(()=>{v&&j.current&&(v.disconnect(),h.current=!1,v.observe(j.current))},[j,v]),(0,b.useEffect)(()=>(l({type:d.RegisterDroppable,element:{id:s,key:i,disabled:r,node:j,rect:m,data:k}}),()=>l({type:d.UnregisterDroppable,key:i,id:s})),[s]),(0,b.useEffect)(()=>{r!==u.current.disabled&&(l({type:d.SetDroppableDisabled,id:s,key:i,disabled:r}),u.current.disabled=r)},[s,i,r,l]),{active:n,rect:m,isOver:(null==o?void 0:o.id)===s,node:j,over:o,setNodeRef:w}}({id:u,data:A,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...m}}),{active:R,activatorEvent:L,activeNodeRect:F,attributes:O,setNodeRef:V,listeners:B,isDragging:$,over:I,setActivatorNodeRef:_,transform:U}=function(e){let{id:t,data:r,disabled:s=!1,attributes:a}=e,i=oc("Draggable"),{activators:n,activatorEvent:l,active:o,activeNodeRect:d,ariaDescribedById:c,draggableNodes:u,over:h}=(0,b.useContext)(dA),{role:m=dO,roleDescription:p="draggable",tabIndex:g=0}=null!=a?a:{},x=(null==o?void 0:o.id)===t,f=(0,b.useContext)(x?dR:dF),[y,v]=ol(),[j,w]=ol(),k=(0,b.useMemo)(()=>n.reduce((e,r)=>{let{eventName:s,handler:a}=r;return e[s]=e=>{a(e,t)},e},{}),[n,t]),N=oi(r);return os(()=>(u.set(t,{id:t,key:i,node:y,activatorNode:j,data:N}),()=>{let e=u.get(t);e&&e.key===i&&u.delete(t)}),[u,t]),{active:o,activatorEvent:l,activeNodeRect:d,attributes:(0,b.useMemo)(()=>({role:m,tabIndex:g,"aria-disabled":s,"aria-pressed":!!x&&m===dO||void 0,"aria-roledescription":p,"aria-describedby":c.draggable}),[s,m,g,x,p,c.draggable]),isDragging:x,listeners:s?void 0:k,node:y,over:h,setNodeRef:v,setActivatorNodeRef:w,transform:f}}({id:u,data:A,attributes:{...d8,...n},disabled:C.draggable}),z=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,b.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(M,V),W=!!R,H=W&&!v&&dK(f)&&dK(w),Y=!k&&$,q=Y&&H?U:null,X=H?null!=q?q:(null!=h?h:N)({rects:j,activeNodeRect:F,activeIndex:f,overIndex:w,index:S}):null,K=dK(f)&&dK(w)?c({id:u,items:g,activeIndex:f,overIndex:w}):S,G=null==R?void 0:R.id,J=(0,b.useRef)({activeId:G,items:g,newIndex:K,containerId:x}),Z=g!==J.current.items,Q=i({active:R,containerId:x,isDragging:$,isSorting:W,id:u,index:S,items:g,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:p,wasDragging:null!=J.current.activeId}),ee=function(e){let{disabled:t,index:r,node:s,rect:a}=e,[i,n]=(0,b.useState)(null),l=(0,b.useRef)(r);return os(()=>{if(!t&&r!==l.current&&s.current){let e=a.current;if(e){let t=oU(s.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&n(r)}}r!==l.current&&(l.current=r)},[t,r,s,a]),(0,b.useEffect)(()=>{i&&n(null)},[i]),i}({disabled:!Q,index:S,node:D,rect:E});return(0,b.useEffect)(()=>{W&&J.current.newIndex!==K&&(J.current.newIndex=K),x!==J.current.containerId&&(J.current.containerId=x),g!==J.current.items&&(J.current.items=g)},[W,K,x,g]),(0,b.useEffect)(()=>{if(G===J.current.activeId)return;if(null!=G&&null==J.current.activeId){J.current.activeId=G;return}let e=setTimeout(()=>{J.current.activeId=G},50);return()=>clearTimeout(e)},[G]),{active:R,activeIndex:f,attributes:O,data:A,rect:E,index:S,newIndex:K,items:g,isOver:P,isSorting:W,isDragging:$,listeners:B,node:D,overIndex:w,over:I,setNodeRef:z,setActivatorNodeRef:_,setDroppableNodeRef:M,setDraggableNodeRef:V,transform:null!=ee?ee:X,transition:ee||Z&&J.current.newIndex===S?d6:(!Y||op(L))&&p&&(W||Q)?ox.Transition.toString({...p,property:d5}):void 0}}function d7(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let ce=[h.Down,h.Right,h.Up,h.Left],ct=(e,t)=>{let{context:{active:r,collisionRect:s,droppableRects:a,droppableContainers:i,over:n,scrollableAncestors:l}}=t;if(ce.includes(e.code)){if(e.preventDefault(),!r||!s)return;let t=[];i.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let i=a.get(r.id);if(i)switch(e.code){case h.Down:s.top<i.top&&t.push(r);break;case h.Up:s.top>i.top&&t.push(r);break;case h.Left:s.left>i.left&&t.push(r);break;case h.Right:s.left<i.left&&t.push(r)}});let o=oO({active:r,collisionRect:s,droppableRects:a,droppableContainers:t,pointerCoordinates:null}),d=oR(o,"id");if(d===(null==n?void 0:n.id)&&o.length>1&&(d=o[1].id),null!=d){let e=i.get(r.id),t=i.get(d),n=t?a.get(t.id):null,o=null==t?void 0:t.node.current;if(o&&n&&e&&t){let r=oW(o).some((e,t)=>l[t]!==e),a=cr(e,t),i=function(e,t){return!!d7(e)&&!!d7(t)&&!!cr(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),d=r||!a?{x:0,y:0}:{x:i?s.width-n.width:0,y:i?s.height-n.height:0},c={x:n.left,y:n.top};return d.x&&d.y?c:om(c,d)}}}};function cr(e,t){return!!d7(e)&&!!d7(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}let cs=(0,R.A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),ca=(0,R.A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var ci=r(14952);let cn=(0,R.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function cl({bookmark:e,onBookmarkClick:t,onFavorite:r,isDragging:s,index:a}){let{attributes:i,listeners:n,setNodeRef:l,transform:o,transition:d}=d9({id:e.id}),c={transform:ox.Transform.toString(o),transition:d};return(0,v.jsxs)(n6.div,{ref:l,style:c,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*a},className:`group relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-200/60 dark:border-gray-700/60 hover:border-blue-300/60 dark:hover:border-blue-600/60 transition-all duration-300 hover:shadow-lg cursor-pointer ${s?"shadow-2xl scale-105 opacity-75 z-50":""}`,children:[(0,v.jsx)("div",{...i,...n,className:"absolute left-3 top-1/2 transform -translate-y-1/2 p-1 rounded opacity-0 group-hover:opacity-100 transition-all duration-200 cursor-grab active:cursor-grabbing hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,v.jsx)(cs,{className:"h-4 w-4 text-gray-400"})}),(0,v.jsxs)("div",{className:"p-6 pl-12 flex items-center justify-between",onClick:()=>t?.(e),children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[(0,v.jsx)("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-700 dark:to-gray-600 rounded-xl overflow-hidden flex-shrink-0 border border-gray-200/60 dark:border-gray-600/60 group-hover:shadow-lg transition-all duration-300",children:(0,eV.q)(e.url)?(0,v.jsx)("div",{className:"w-8 h-8 object-contain rounded bg-cover bg-center",style:{backgroundImage:`url(${(0,eV.q)(e.url)})`}}):(0,v.jsx)(ll.A,{className:"w-6 h-6 text-blue-500 dark:text-blue-400"})}),(0,v.jsx)("div",{className:"flex-1 min-w-0",children:(0,v.jsx)("div",{className:"flex items-start justify-between",children:(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg line-clamp-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:e.title}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mt-1",children:e.description||"No description available"}),(0,v.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,v.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:(0,eV.S)(e.url)}),(0,v.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:(e=>{if(!e)return"Unknown date";try{let t=new Date(e),r=new Date,s=Math.abs(r.getTime()-t.getTime()),a=Math.ceil(s/864e5);if(1===a)return"Today";if(2===a)return"Yesterday";if(a<=7)return`${a-1} days ago`;if(a<=30)return`${Math.floor((a-1)/7)} weeks ago`;if(a<=365)return`${Math.floor((a-1)/30)} months ago`;return`${Math.floor((a-1)/365)} years ago`}catch(e){return"Unknown date"}})(e.created_at)})]})]})})})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-all duration-200",children:[(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),r?.(e)},className:`rounded-full hover:scale-110 transition-all duration-200 ${e.is_favorite?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}`,children:(0,v.jsx)(O.A,{className:`h-4 w-4 ${e.is_favorite?"fill-current":""}`})}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},className:"rounded-full text-gray-400 hover:text-blue-500 hover:scale-110 transition-all duration-200",children:(0,v.jsx)(D.A,{className:"h-4 w-4"})}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"rounded-full text-gray-400 hover:text-gray-600 hover:scale-110 transition-all duration-200",children:(0,v.jsx)(ca,{className:"h-4 w-4"})})]})]})]})}function co({bookmarks:e,onBookmarkClick:t,onFavorite:r,loading:s,onReorder:a}){let i=(0,l4.useRouter)(),[n,l]=(0,b.useState)(e),[o,d]=(0,b.useState)(""),[c,u]=(0,b.useState)(null),[h,m]=(0,b.useState)(new Set),p=oA(oS(da),oS(o7,{coordinateGetter:ct})),g=(0,b.useMemo)(()=>{let e=n.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.description?.toLowerCase().includes(o.toLowerCase())||e.url.toLowerCase().includes(o.toLowerCase())),t=new Map;return e.forEach(e=>{let r=e.folder?.name||"Uncategorized";t.has(r)||t.set(r,[]),t.get(r).push(e)}),Array.from(t.entries()).map(([e,t])=>({id:e.toLowerCase().replace(/\s+/g,"-"),name:e,bookmarks:t.sort((e,t)=>new Date(t.created_at||0).getTime()-new Date(e.created_at||0).getTime()),count:t.length}))},[n,o]),x=e=>{let t=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");i.push(`/category/${t}`)},f=e=>{m(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},y=n.length,j=n.filter(e=>e.is_favorite).length;return s?(0,v.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-blue-950/30",children:(0,v.jsx)("div",{className:"container mx-auto px-6 py-8 max-w-6xl",children:(0,v.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,v.jsx)("div",{className:"flex items-center space-x-4",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"LIST VIEW - ALL BOOKMARKS"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Click folder names to explore • Use arrows to expand/collapse content"})]})}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:y})," bookmarks"]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:j})," favorites"]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:g.length})," folders"]})]})]}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)(eY.p,{placeholder:"Search bookmarks...",value:o,onChange:e=>d(e.target.value),className:"pl-9 w-64"})]})]})]}),(0,v.jsxs)(dL,{sensors:p,collisionDetection:oF,onDragStart:e=>{u(e.active.id)},onDragEnd:e=>{let{active:t,over:r}=e;if(r&&t.id!==r.id){let e=n.find(e=>e.id===t.id),s=n.find(e=>e.id===r.id);if(e&&s&&e.folder?.id===s.folder?.id){let e=n.findIndex(e=>e.id===t.id),s=n.findIndex(e=>e.id===r.id);if(-1!==e&&-1!==s){let t=dX(n,e,s);l(t),a?.(t)}}}u(null)},children:[(0,v.jsx)("div",{className:"space-y-6",children:g.map((e,s)=>(0,v.jsxs)(n6.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"space-y-4",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between p-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 dark:from-blue-900/20 dark:to-purple-900/20 backdrop-blur-sm rounded-2xl border border-blue-200/30 dark:border-blue-700/30 hover:from-blue-500/15 hover:to-purple-500/15 transition-all duration-300 hover:shadow-lg group",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4 flex-1 cursor-pointer",onClick:()=>x(e.name),children:[(0,v.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:(0,v.jsx)(E.A,{className:"h-6 w-6"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:e.name.toUpperCase()}),(0,v.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[e.count," bookmark",1!==e.count?"s":""," • Click to explore"]})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsx)(X.E,{className:"bg-white/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-xl font-semibold",children:e.count}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),f(e.id)},className:"rounded-xl hover:bg-white/50 dark:hover:bg-gray-700/50 transition-all duration-200",children:h.has(e.id)?(0,v.jsx)(lG.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}):(0,v.jsx)(ci.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),(0,v.jsx)(cn,{className:"h-6 w-6 text-gray-500 dark:text-gray-400 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors duration-300"})]})]}),(0,v.jsx)(ls,{children:h.has(e.id)&&(0,v.jsx)(n6.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden pl-4",children:(0,v.jsx)(d1,{items:e.bookmarks.map(e=>e.id),strategy:dZ,children:(0,v.jsx)("div",{className:"space-y-3",children:e.bookmarks.map((e,s)=>(0,v.jsx)(cl,{bookmark:e,onBookmarkClick:t,onFavorite:r,isDragging:c===e.id,index:s},e.id))})})})})]},e.id))}),(0,v.jsx)(dq,{children:c?(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-4 opacity-90",children:(0,v.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:n.find(e=>e.id===c)?.title})}):null})]}),0===g.length&&(0,v.jsxs)(n6.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-16",children:[(0,v.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,v.jsx)(E.A,{className:"w-10 h-10 text-blue-500 dark:text-blue-400"})}),(0,v.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No bookmarks found"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:o?`No bookmarks match "${o}"`:"Start by adding some bookmarks to organize them in folders."})]})]})}var cd=r(63143),cc=r(60571);function cu({bookmarks:e,folders:t,tags:r,onBookmarkUpdated:s,onBookmarkDeleted:a,onCreateFolder:i,onEditFolder:n,onDeleteFolder:l,onAddBookmarkToFolder:o}){let d,[c,u]=(0,b.useState)(null),[h,m]=(0,b.useState)(null),[p,g]=(0,b.useState)(!1),[x,f]=(0,b.useState)(!1),y=r=>e.filter(e=>e.folder_id===r).length+t.filter(e=>e.parent_id===r).reduce((e,t)=>e+y(t.id),0),j=e=>{u(e)},w=e=>{m(e),g(!0)},k=async e=>{try{let t={...e,is_favorite:!e.is_favorite};s(t),ef.oR.success(t.is_favorite?"Added to favorites":"Removed from favorites")}catch(e){console.error("Failed to toggle favorite:",e),ef.oR.error("Failed to update bookmark")}},N=async e=>{if(window.confirm("Are you sure you want to delete this bookmark?"))try{a(e),ef.oR.success("Bookmark deleted")}catch(e){console.error("Failed to delete bookmark:",e),ef.oR.error("Failed to delete bookmark")}},S=e=>{m(e),f(!0)},T=e=>e.color||"#3b82f6",M=e=>{let t=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16);return(.299*t+.587*r+.114*parseInt(e.slice(5,7),16))/255>.5?"#000000":"#ffffff"},R=c?(d=c.id,e.filter(e=>e.folder_id===d)):[];return c?(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsxs)(C.$,{variant:"outline",size:"sm",onClick:()=>{u(null)},className:"flex items-center space-x-2 hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,v.jsx)(lo.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Back to Folders"})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsx)("div",{className:"p-2 rounded-lg shadow-sm",style:{backgroundColor:T(c)},children:(0,v.jsx)(E.A,{className:"h-5 w-5",style:{color:M(T(c))}})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c.name.toUpperCase()}),(0,v.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.description||`Compact view of ${c.name} bookmarks`})]})]})]}),(0,v.jsx)("div",{className:"flex items-center space-x-2 bg-gray-50 dark:bg-gray-800/50 px-3 py-2 rounded-lg border",children:(0,v.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:[R.length," bookmark",1!==R.length?"s":""]})})]}),0===R.length?(0,v.jsxs)("div",{className:"text-center py-16",children:[(0,v.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600",children:(0,v.jsx)(E.A,{className:"w-full h-full"})}),(0,v.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Bookmarks Yet"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"This folder is empty. Add some bookmarks to get started."}),(0,v.jsxs)(C.$,{onClick:()=>o(c.id),children:[(0,v.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Add Bookmark"]})]}):(0,v.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3",children:R.map(e=>(0,v.jsxs)(eH.Zp,{className:"group hover:shadow-lg transition-all duration-200 hover:scale-[1.02] border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 cursor-pointer",onClick:()=>S(e),children:[(0,v.jsx)(eH.aR,{className:"p-3 pb-2",children:(0,v.jsxs)("div",{className:"flex items-start justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.favicon_url?(0,v.jsx)(ez.default,{src:e.favicon_url,alt:"",width:16,height:16,className:"w-4 h-4 rounded flex-shrink-0"}):(0,v.jsx)("div",{className:"w-4 h-4 bg-gray-200 dark:bg-gray-700 rounded flex-shrink-0"}),(0,v.jsx)(eH.ZB,{className:"text-sm font-semibold truncate text-gray-900 dark:text-white",children:e.title})]}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:t=>{t.stopPropagation(),k(e)},children:(0,v.jsx)(P.A,{className:`h-3 w-3 ${e.is_favorite?"fill-red-500 text-red-500":"text-gray-400"}`})})]})}),(0,v.jsxs)(eH.Wu,{className:"p-3 pt-0 space-y-2",children:[e.description&&(0,v.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description}),(0,v.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate font-mono",children:new URL(e.url).hostname}),e.tags&&e.tags.length>0&&(0,v.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,2).map(e=>(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs px-2 py-0 h-5",children:e.name},e.id)),e.tags.length>2&&(0,v.jsxs)(X.E,{variant:"secondary",className:"text-xs px-2 py-0 h-5",children:["+",e.tags.length-2]})]}),(0,v.jsxs)("div",{className:"flex items-center justify-between pt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,v.jsxs)(C.$,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},children:[(0,v.jsx)(D.A,{className:"h-3 w-3 mr-1"}),"Visit"]}),(0,v.jsxs)(C.$,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs hover:bg-gray-50 dark:hover:bg-gray-800",onClick:t=>{t.stopPropagation(),w(e)},children:[(0,v.jsx)(cd.A,{className:"h-3 w-3 mr-1"}),"Edit"]})]}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:t=>{t.stopPropagation(),N(e.id)},children:(0,v.jsx)(ep.A,{className:"h-3 w-3"})})]})]})]},e.id))}),(0,v.jsx)(ev.F,{bookmark:h,folders:t,tags:r,isOpen:x,onClose:()=>{f(!1),m(null)},onUpdated:e=>{s(e),m(e)}})]}):(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"COMPACT VIEW"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Browse your folders in a compact, efficient layout"})]}),(0,v.jsxs)(C.$,{onClick:i,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700",children:[(0,v.jsx)(W.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Create Folder"})]})]}),0===t.length?(0,v.jsxs)("div",{className:"text-center py-16",children:[(0,v.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-600",children:(0,v.jsx)(E.A,{className:"w-full h-full"})}),(0,v.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Folders Yet"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first folder to organize your bookmarks in a compact view."}),(0,v.jsxs)(C.$,{onClick:i,className:"bg-blue-600 hover:bg-blue-700",children:[(0,v.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Create Your First Folder"]})]}):(0,v.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-3",children:t.map(e=>{let t=y(e.id),r=T(e),s=M(r);return(0,v.jsxs)(eH.Zp,{className:"group cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",onClick:()=>j(e),children:[(0,v.jsx)(eH.aR,{className:"p-3 pb-2",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsx)("div",{className:"p-2 rounded-lg shadow-sm",style:{backgroundColor:r},children:(0,v.jsx)(E.A,{className:"h-5 w-5",style:{color:s}})}),(0,v.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:t=>{t.stopPropagation(),n(e)},children:(0,v.jsx)(cd.A,{className:"h-3 w-3"})}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:t=>{t.stopPropagation(),l(e.id)},children:(0,v.jsx)(ep.A,{className:"h-3 w-3"})})]})]})}),(0,v.jsxs)(eH.Wu,{className:"p-3 pt-0 space-y-2",children:[(0,v.jsx)(eH.ZB,{className:"text-sm font-semibold text-gray-900 dark:text-white line-clamp-1",children:e.name}),e.description&&(0,v.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description}),(0,v.jsxs)("div",{className:"flex items-center justify-between pt-1",children:[(0,v.jsxs)(X.E,{variant:"outline",className:"text-xs px-2 py-0 h-5",children:[t," item",1!==t?"s":""]}),(0,v.jsx)(ci.A,{className:"h-3 w-3 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors"})]})]})]},e.id)})}),(0,v.jsx)(A.lG,{open:p,onOpenChange:g,children:(0,v.jsxs)(A.Cf,{className:"max-w-2xl",children:[(0,v.jsx)(A.c7,{children:(0,v.jsx)(A.L3,{children:"Edit Bookmark"})}),h&&(0,v.jsx)(cc.H,{bookmark:h,folders:t,onSubmit:e=>{s(e),g(!1),m(null),ef.oR.success("Bookmark updated successfully")},onCancel:()=>{g(!1),m(null)}})]})})]})}function ch({bookmark:e,folders:t,tags:r,onSubmit:s,onCancel:a}){let[i,n]=(0,b.useState)({title:e?.title||"",url:e?.url||"",description:e?.description||"",folder_id:e?.folder_id?e.folder_id:"no-category",priority:e?.priority||"medium",notes:e?.notes||"",selectedTags:e?.tags?.map(e=>e.name)||[]}),[l,o]=(0,b.useState)(""),[d,c]=(0,b.useState)(!1),u=()=>{l.trim()&&!i.selectedTags.includes(l.trim())&&(n(e=>({...e,selectedTags:[...e.selectedTags,l.trim()]})),o(""))},h=e=>{n(t=>({...t,selectedTags:t.selectedTags.filter(t=>t!==e)}))},m=async e=>{try{return new URL(e),{title:e,description:"",favicon_url:""}}catch{return null}},p=async t=>{t.preventDefault(),c(!0);try{if(!i.url)return void ef.oR.error("URL is required");let t=null;e||(t=await m(i.url));let r={title:i.title.trim()||t?.title||i.url,url:i.url,description:i.description.trim(),folder_id:"no-category"===i.folder_id?null:i.folder_id,favicon_url:t?.favicon_url||null,priority:i.priority,notes:i.notes.trim()};if(e){let t={...e,...r,tags:i.selectedTags.map(e=>({id:`tag-${e}`,name:e,color:null,user_id:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}))};s(t)}else{let e={id:Date.now().toString(),...r,user_id:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_visited_at:null,visit_count:0,is_favorite:!1,is_archived:!1,screenshot_url:null,folder:null,tags:i.selectedTags.map(e=>({id:`tag-${e}`,name:e,color:null,user_id:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}))};s(e)}ef.oR.success(e?"Bookmark updated":"Bookmark created")}catch(e){console.error("Error saving bookmark:",e),ef.oR.error("Failed to save bookmark")}finally{c(!1)}};return(0,v.jsxs)("div",{className:"w-full",children:[(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Add a new website to your bookmark collection."}),(0,v.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"title",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),(0,v.jsx)(eY.p,{id:"title",value:i.title,onChange:e=>n(t=>({...t,title:e.target.value})),placeholder:"Website title",className:"mt-1 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"url",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"URL"}),(0,v.jsx)(eY.p,{id:"url",type:"url",value:i.url,onChange:e=>n(t=>({...t,url:e.target.value})),placeholder:"https://example.com",className:"mt-1 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"description",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),(0,v.jsx)(eb.T,{id:"description",value:i.description,onChange:e=>n(t=>({...t,description:e.target.value})),placeholder:"Brief description of the website",rows:3,className:"mt-1 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none"})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"category",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Category"}),(0,v.jsxs)(en.l6,{value:i.folder_id,onValueChange:e=>n(t=>({...t,folder_id:e})),children:[(0,v.jsx)(en.bq,{className:"mt-1 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:(0,v.jsx)(en.yv,{placeholder:"Select category"})}),(0,v.jsxs)(en.gC,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,v.jsx)(en.eb,{value:"no-category",children:"No category"}),t.map(e=>(0,v.jsx)(en.eb,{value:e.id,className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:e.name},e.id))]})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"priority",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Priority"}),(0,v.jsxs)(en.l6,{value:i.priority,onValueChange:e=>n(t=>({...t,priority:e})),children:[(0,v.jsx)(en.bq,{className:"mt-1 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:(0,v.jsx)(en.yv,{placeholder:"Select priority"})}),(0,v.jsx)(en.gC,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[{value:"critical",label:"Critical"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}].map(e=>(0,v.jsx)(en.eb,{value:e.value,className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:e.label},e.value))})]})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"tags",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tags"}),(0,v.jsxs)("div",{className:"mt-1",children:[(0,v.jsx)(eY.p,{id:"tags",value:l,onChange:e=>o(e.target.value),onKeyDown:e=>{("Enter"===e.key||","===e.key)&&(e.preventDefault(),u())},placeholder:"tag1, tag2, tag3",className:"w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),i.selectedTags.length>0&&(0,v.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:i.selectedTags.map((e,t)=>(0,v.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[e,(0,v.jsx)("button",{type:"button",onClick:()=>h(e),className:"ml-1 text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",children:(0,v.jsx)(el.A,{className:"h-3 w-3"})})]},t))})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(ej.J,{htmlFor:"notes",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),(0,v.jsx)(eb.T,{id:"notes",value:i.notes,onChange:e=>n(t=>({...t,notes:e.target.value})),placeholder:"Additional notes or comments",rows:4,className:"mt-1 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none"})]}),(0,v.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,v.jsx)(C.$,{type:"button",variant:"outline",onClick:a,className:"px-6 py-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Cancel"}),(0,v.jsx)(C.$,{type:"submit",disabled:d,className:"px-6 py-2 bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200",children:d?"Adding...":"Add Bookmark"})]})]})]})}function cm({open:e,onOpenChange:t,bookmark:r,folders:s,tags:a,onSubmit:i}){return(0,v.jsx)(A.lG,{open:e,onOpenChange:t,children:(0,v.jsxs)(A.Cf,{className:"max-w-2xl max-h-[85vh] p-0 overflow-hidden flex flex-col",children:[(0,v.jsx)(A.c7,{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:(0,v.jsx)(A.L3,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:r?"Edit Bookmark":"Add New Bookmark"})}),(0,v.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:(0,v.jsx)("div",{className:"p-6",children:(0,v.jsx)(ch,{bookmark:r,folders:s,tags:a,onSubmit:e=>{i(e),t(!1)},onCancel:()=>{t(!1)}})})})]})})}var cp=r(49384),cg=r(82348);function cx(...e){return(0,cg.QP)((0,cp.$)(e))}let cf=b.forwardRef(({className:e,...t},r)=>(0,v.jsx)("div",{ref:r,className:cx("rounded-xl border bg-card text-card-foreground shadow",e),...t}));cf.displayName="Card";let cy=b.forwardRef(({className:e,...t},r)=>(0,v.jsx)("div",{ref:r,className:cx("p-6 pt-0",e),...t}));function cv({bookmarks:e}){let t=e.length,r=new Date().getMonth(),s=new Date().getFullYear(),a=e.filter(e=>{if(!e.created_at)return!1;let t=new Date(e.created_at);return t.getMonth()===r&&t.getFullYear()===s}).length,i=e.filter(e=>e.is_favorite).length,n=e.reduce((e,t)=>e+(t.visit_count||0),0),l=[{name:"Total Bookmarks",value:t.toString(),change:`+${Math.max(0,a)}`,percentageChange:a>0?`+${Math.round(a/Math.max(1,t-a)*100)}%`:"0%",changeType:"positive",icon:ln,color:"hsl(217.2 91.2% 59.8%)"},{name:"This Month",value:`+${a}`,change:`${a}`,percentageChange:a>0?`+${Math.round(a/Math.max(1,t)*100)}%`:"0%",changeType:"positive",icon:lq.A,color:"hsl(142.1 76.2% 36.3%)"},{name:"Total Visits",value:n.toString(),change:`${n}`,percentageChange:n>0?"+0%":"0%",changeType:n>0?"positive":"neutral",icon:F.A,color:"hsl(262.1 83.3% 57.8%)"},{name:"Favorites",value:i.toString(),change:`${i}`,percentageChange:i>0?`${Math.round(i/Math.max(1,t)*100)}%`:"0%",changeType:i>0?"positive":"neutral",icon:P.A,color:"hsl(45.4 93.4% 47.5%)"}];return(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6",children:(0,v.jsx)("dl",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 w-full",children:l.map(e=>{let r=e.icon;return(0,v.jsx)(cf,{className:"p-0 overflow-hidden border shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-shadow duration-200",children:(0,v.jsxs)(cy,{className:"p-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,v.jsx)("dt",{className:"text-sm font-medium text-muted-foreground",children:e.name}),(0,v.jsx)("div",{className:"w-10 h-10 flex items-center justify-center rounded-lg",style:{backgroundColor:e.color+"15",border:`1px solid ${e.color}25`},children:(0,v.jsx)(r,{className:"h-5 w-5",style:{color:e.color}})})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("dd",{className:"text-3xl font-bold text-foreground",children:e.value}),(0,v.jsxs)("dd",{className:"flex items-center space-x-2 text-sm",children:[(0,v.jsx)("span",{className:cx("positive"===e.changeType?"text-green-600 dark:text-green-500":"text-muted-foreground","font-medium"),children:e.percentageChange}),(0,v.jsx)("span",{className:"text-muted-foreground",children:"of total"})]})]})]}),(0,v.jsx)("div",{className:"mt-4 h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,v.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{backgroundColor:e.color,width:`${Math.min(100,Math.max(5,parseInt(e.value.replace("+",""))/Math.max(1,t)*100))}%`}})})]})},e.name)})})})}cy.displayName="CardContent";var cb=r(32192);let cj=(0,R.A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function cw({folder:e,bookmarkCount:t,onEdit:r,onDelete:s,onAddBookmark:a,onDrop:i,onDragOver:n,onClick:l,disableLink:o=!1}){let[d,c]=(0,b.useState)(!1),u=e=>{e.preventDefault(),c(!0),n(e)},h=e=>{e.preventDefault();let t=e.currentTarget.getBoundingClientRect(),r=e.clientX,s=e.clientY;(r<t.left||r>t.right||s<t.top||s>t.bottom)&&c(!1)},m=t=>{t.preventDefault(),c(!1);try{let r=t.dataTransfer.getData("application/json");if(r){let t=JSON.parse(r);i(e.id,t)}}catch(e){console.error("Error handling drop:",e)}},p=e.color||"#3b82f6",g=(e=>{let t=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16);return(.299*t+.587*r+.114*parseInt(e.slice(5,7),16))/255>.5?"#000000":"#ffffff"})(p);return o?(0,v.jsx)(eH.Zp,{className:`
          relative group cursor-pointer border-2 transition-all duration-200 hover:shadow-lg
          min-h-[200px] flex flex-col
          ${d?"border-blue-500 bg-blue-50 dark:bg-blue-950/20 scale-105":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
        `,onDragOver:u,onDragLeave:h,onDrop:m,onClick:e=>{o&&(e.preventDefault(),l?.())},children:(0,v.jsxs)(eH.Wu,{className:"p-6 flex-1 flex flex-col",children:[(0,v.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,v.jsx)("div",{className:"p-3 rounded-lg shadow-sm",style:{backgroundColor:p},children:(0,v.jsx)(E.A,{className:"h-8 w-8",style:{color:g}})}),(0,v.jsxs)(ei.rI,{children:[(0,v.jsx)(ei.ty,{asChild:!0,children:(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0",onClick:e=>e.preventDefault(),children:(0,v.jsx)(ca,{className:"h-4 w-4"})})}),(0,v.jsxs)(ei.SQ,{align:"end",className:"w-48",children:[(0,v.jsxs)(ei._2,{onClick:t=>{t.preventDefault(),r(e)},children:[(0,v.jsx)(cj,{className:"h-4 w-4 mr-2"}),"Edit Folder"]}),(0,v.jsxs)(ei._2,{onClick:t=>{t.preventDefault(),a(e.id)},children:[(0,v.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Add Bookmark"]}),(0,v.jsxs)(ei._2,{onClick:t=>{t.preventDefault(),s(e.id)},className:"text-red-600 dark:text-red-400",children:[(0,v.jsx)(ep.A,{className:"h-4 w-4 mr-2"}),"Delete Folder"]})]})]})]}),(0,v.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.name.toUpperCase()}),e.description&&(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3 flex-1",children:e.description}),(0,v.jsxs)("div",{className:"flex items-center justify-between mt-auto pt-4",children:[(0,v.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[(0,v.jsx)(e_.A,{className:"h-4 w-4 mr-1"}),(0,v.jsxs)("span",{className:"text-sm",children:[t," ",1===t?"bookmark":"bookmarks"]})]}),d&&(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:"Drop here"})]})]})]})}):(0,v.jsx)(k(),{href:`/category/${e.name.toLowerCase().replace(/\s+/g,"-")}`,children:(0,v.jsx)(eH.Zp,{className:`
          relative group cursor-pointer border-2 transition-all duration-200 hover:shadow-lg
          min-h-[200px] flex flex-col
          ${d?"border-blue-500 bg-blue-50 dark:bg-blue-950/20 scale-105":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
        `,onDragOver:u,onDragLeave:h,onDrop:m,children:(0,v.jsxs)(eH.Wu,{className:"p-6 flex-1 flex flex-col",children:[(0,v.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,v.jsx)("div",{className:"p-3 rounded-lg shadow-sm",style:{backgroundColor:p},children:(0,v.jsx)(E.A,{className:"h-8 w-8",style:{color:g}})}),(0,v.jsxs)(ei.rI,{children:[(0,v.jsx)(ei.ty,{asChild:!0,children:(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0",onClick:e=>e.preventDefault(),children:(0,v.jsx)(ca,{className:"h-4 w-4"})})}),(0,v.jsxs)(ei.SQ,{align:"end",className:"w-48",children:[(0,v.jsxs)(ei._2,{onClick:t=>{t.preventDefault(),r(e)},children:[(0,v.jsx)(cj,{className:"h-4 w-4 mr-2"}),"Edit Folder"]}),(0,v.jsxs)(ei._2,{onClick:t=>{t.preventDefault(),a(e.id)},children:[(0,v.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Add Bookmark"]}),(0,v.jsxs)(ei._2,{onClick:t=>{t.preventDefault(),s(e.id)},className:"text-red-600 dark:text-red-400",children:[(0,v.jsx)(ep.A,{className:"h-4 w-4 mr-2"}),"Delete Folder"]})]})]})]}),(0,v.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.name.toUpperCase()}),e.description&&(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3 flex-1",children:e.description}),(0,v.jsxs)("div",{className:"flex items-center justify-between mt-auto pt-4",children:[(0,v.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[(0,v.jsx)(e_.A,{className:"h-4 w-4 mr-1"}),(0,v.jsxs)("span",{className:"text-sm",children:[t," ",1===t?"bookmark":"bookmarks"]})]}),d&&(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:"Drop here"})]})]})]})})})}function ck({folders:e,bookmarks:t,onCreateFolder:r,onEditFolder:s,onDeleteFolder:a,onAddBookmarkToFolder:i,onDropBookmarkToFolder:n,onBookmarkUpdated:l,onBookmarkDeleted:o,onOpenDetail:d,currentFolderId:c,onFolderNavigate:u}){let h=c?e.find(e=>e.id===c):null,m=c?e.filter(e=>e.parent_id===c):e.filter(e=>!e.parent_id),p=c?t.filter(e=>e.folder_id===c):[],g=r=>t.filter(e=>e.folder_id===r).length+e.filter(e=>e.parent_id===r).reduce((e,t)=>e+g(t.id),0),x=e=>{e.preventDefault()},f=e=>{u(e)},y=(()=>{if(!c)return[];let t=[],r=e.find(e=>e.id===c);for(;r;)t.unshift(r),r=r.parent_id?e.find(e=>e.id===r.parent_id):void 0;return t})();return(0,v.jsxs)("div",{className:"space-y-6",children:[c&&(0,v.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,v.jsxs)("button",{onClick:()=>u(null),className:"flex items-center hover:text-gray-900 dark:hover:text-gray-200 transition-colors",children:[(0,v.jsx)(cb.A,{className:"h-4 w-4 mr-1"}),"All Folders"]}),y.map((e,t)=>(0,v.jsxs)(j().Fragment,{children:[(0,v.jsx)(ci.A,{className:"h-4 w-4"}),t===y.length-1?(0,v.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name.toUpperCase()}):(0,v.jsx)("button",{onClick:()=>u(e.id),className:"hover:text-gray-900 dark:hover:text-gray-200 transition-colors",children:e.name.toUpperCase()})]},e.id))]}),(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?h.name.toUpperCase():"FOLDERS"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:h?h.description||`Contents of ${h.name} folder`:"Organize your bookmarks into folders"})]}),(0,v.jsxs)(C.$,{onClick:r,className:"flex items-center gap-2",children:[(0,v.jsx)(W.A,{className:"h-4 w-4"}),"Create Folder"]})]}),m.length>0&&(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:h?"SUBFOLDERS":"FOLDERS"}),(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:m.map(e=>(0,v.jsx)(cw,{folder:e,bookmarkCount:g(e.id),onEdit:s,onDelete:a,onAddBookmark:i,onDrop:n,onDragOver:x,onClick:()=>f(e.id),disableLink:!0},e.id))})]}),p.length>0&&(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"BOOKMARKS"}),(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(r=>{let s=t.reduce((e,t)=>e+(t.visit_count||0),0);return(0,v.jsx)(S.P,{bookmark:r,onUpdated:l,onDeleted:()=>o(r.id),onOpenDetail:()=>d(r),folders:e,totalBookmarkVisits:s},r.id)})})]}),!c&&0===m.length&&(0,v.jsxs)("div",{className:"text-center py-12",children:[(0,v.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 text-gray-300 dark:text-gray-600",children:(0,v.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:(0,v.jsx)("path",{d:"M10 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2h-8l-2-2z"})})}),(0,v.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"NO FOLDERS YET"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm mx-auto",children:"Create your first folder to organize your bookmarks by category or project."}),(0,v.jsxs)(C.$,{onClick:r,className:"flex items-center gap-2",children:[(0,v.jsx)(W.A,{className:"h-4 w-4"}),"Create Your First Folder"]})]}),c&&0===m.length&&0===p.length&&(0,v.jsxs)("div",{className:"text-center py-12",children:[(0,v.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 text-gray-300 dark:text-gray-600",children:(0,v.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:(0,v.jsx)("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,v.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"FOLDER IS EMPTY"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm mx-auto",children:"This folder doesn't contain any bookmarks or subfolders yet."}),(0,v.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,v.jsxs)(C.$,{onClick:r,variant:"outline",className:"flex items-center gap-2",children:[(0,v.jsx)(W.A,{className:"h-4 w-4"}),"Create Subfolder"]}),(0,v.jsxs)(C.$,{onClick:()=>i(c),className:"flex items-center gap-2",children:[(0,v.jsx)(W.A,{className:"h-4 w-4"}),"Add Bookmark"]})]})]})]})}let cN=(0,R.A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),cC=(0,R.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var cS=r(58869),cA=r(57800);let cT=(0,R.A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),cE=(0,R.A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var cD=r(80462);let cP=(0,R.A)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),cM=(0,R.A)("arrow-down-wide-narrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);var cR=r(75034);let cL=(0,R.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var cF=r(13964);function cO({folder:e,level:t}){let{attributes:r,listeners:s,setNodeRef:a,transform:i,transition:n,isDragging:l}=d9({id:e.id}),o={transform:ox.Transform.toString(i),transition:n,opacity:l?.5:1};return(0,v.jsxs)("div",{ref:a,style:o,...r,...s,className:`
        flex items-center gap-3 p-3 rounded-lg border bg-white dark:bg-slate-800 
        cursor-grab active:cursor-grabbing shadow-sm hover:shadow-md transition-all
        ${l?"scale-105 z-50":""}
      `,children:[(0,v.jsx)(cs,{className:"w-4 h-4 text-gray-400"}),(0,v.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color||"#6b7280"}}),(0,v.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,v.jsx)(X.E,{variant:"outline",className:"ml-auto text-xs",children:e.bookmark_count||0})]})}function cV({section:e,folders:t,isEditing:r,onEditToggle:s,onTitleChange:a,editingTitle:i,onEditingTitleChange:n}){return(0,v.jsxs)(eH.Zp,{className:"mb-4",children:[(0,v.jsx)(eH.aR,{className:`pb-3 ${e.gradient} text-white`,children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsx)(e.icon,{className:"w-5 h-5"}),r?(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(eY.p,{value:i,onChange:e=>n(e.target.value),className:"text-white bg-white/20 border-white/30 placeholder-white/70 text-sm py-1 px-2 h-auto",placeholder:"Section title"}),(0,v.jsx)(C.$,{size:"sm",variant:"ghost",onClick:()=>a(i),className:"text-white hover:bg-white/20 p-1 h-auto",children:(0,v.jsx)(cF.A,{className:"w-3 h-3"})}),(0,v.jsx)(C.$,{size:"sm",variant:"ghost",onClick:s,className:"text-white hover:bg-white/20 p-1 h-auto",children:(0,v.jsx)(el.A,{className:"w-3 h-3"})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(eH.ZB,{className:"text-sm font-bold tracking-wider",children:e.title}),(0,v.jsx)(C.$,{size:"sm",variant:"ghost",onClick:s,className:"text-white hover:bg-white/20 p-1 h-auto ml-2",children:(0,v.jsx)(cj,{className:"w-3 h-3"})})]})]}),(0,v.jsx)(X.E,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:t.length})]})}),(0,v.jsx)(eH.Wu,{className:"p-4 min-h-[120px] bg-gray-50/50 dark:bg-slate-900/50",children:0===t.length?(0,v.jsx)("div",{className:"flex items-center justify-center h-20 text-gray-500 dark:text-gray-400 text-sm",children:"Drop folders here"}):(0,v.jsx)(d1,{items:t.map(e=>e.id),strategy:dZ,children:(0,v.jsx)("div",{className:"space-y-2",children:t.map(t=>(0,v.jsx)(cO,{folder:t,level:e.id},t.id))})})})]})}function cB({folders:e,assignments:t,onAssignmentsChange:r,isOpen:s,onToggle:a}){let[i,n]=(0,b.useState)(null),[l,o]=(0,b.useState)([{id:"director",title:"DIRECTOR",icon:cN,color:"purple",gradient:"bg-gradient-to-r from-purple-600 to-blue-600"},{id:"teams",title:"TEAMS",icon:cC,color:"emerald",gradient:"bg-gradient-to-r from-emerald-600 to-teal-600"},{id:"collaborators",title:"COLLABORATORS",icon:cS.A,color:"orange",gradient:"bg-gradient-to-r from-orange-600 to-red-600"}]),[d,c]=(0,b.useState)(null),[u,h]=(0,b.useState)(""),m=oA(oS(da,{activationConstraint:{distance:8}}),oS(o7,{coordinateGetter:ct})),p=r=>t.filter(e=>e.level===r).sort((e,t)=>e.order-t.order).map(e=>e.folderId).map(t=>e.find(e=>e.id===t)).filter(Boolean),g=()=>{let r=new Set(t.map(e=>e.folderId));return e.filter(e=>!r.has(e.id))},x=e=>{let t=l.find(t=>t.id===e);t&&(c(e),h(t.title))},f=(e,t)=>{o(r=>r.map(r=>r.id===e?{...r,title:t}:r)),c(null),h("")},y=i?e.find(e=>e.id===i):null;return s?(0,v.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,v.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,v.jsxs)("div",{className:"p-6",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsx)(V.A,{className:"w-6 h-6 text-blue-600"}),(0,v.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Hierarchy Management"})]}),(0,v.jsx)(C.$,{onClick:a,variant:"outline",children:"Close"})]}),(0,v.jsxs)(dL,{sensors:m,collisionDetection:oF,onDragStart:e=>{let{active:t}=e;n(t.id)},onDragEnd:e=>{let{active:s,over:a}=e;if(n(null),!a)return;let i=s.id,o=a.id,d=l.find(e=>e.id===o)?.id;if(d){let e=t.filter(e=>e.folderId!==i),s=Math.max(0,...e.filter(e=>e.level===d).map(e=>e.order),-1)+1;e.push({folderId:i,level:d,order:s}),r(e);return}let c=t.find(e=>e.folderId===i),u=t.find(e=>e.folderId===o);if(c&&u&&c.level===u.level){let e=c.level,s=t.filter(t=>t.level===e),a=s.findIndex(e=>e.folderId===i),n=s.findIndex(e=>e.folderId===o),l=dX(s,a,n).map((e,t)=>({...e,order:t}));r([...t.filter(t=>t.level!==e),...l])}},children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Organizational Levels"}),l.map(e=>(0,v.jsx)(d1,{items:[e.id,...p(e.id).map(e=>e.id)],strategy:dZ,children:(0,v.jsx)("div",{"data-id":e.id,className:"min-h-[140px] border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-1",children:(0,v.jsx)(cV,{section:e,folders:p(e.id),isEditing:d===e.id,onEditToggle:()=>x(e.id),onTitleChange:t=>f(e.id,t),editingTitle:u,onEditingTitleChange:h})})},e.id))]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Unassigned Folders"}),(0,v.jsx)(eH.Zp,{children:(0,v.jsx)(eH.Wu,{className:"p-4 min-h-[400px]",children:0===g().length?(0,v.jsx)("div",{className:"flex items-center justify-center h-40 text-gray-500 dark:text-gray-400",children:"All folders are assigned"}):(0,v.jsx)(d1,{items:g().map(e=>e.id),strategy:dZ,children:(0,v.jsx)("div",{className:"space-y-2",children:g().map(e=>(0,v.jsx)(cO,{folder:e,level:"teams"},e.id))})})})})]})]}),(0,v.jsx)(dq,{children:y?(0,v.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-white dark:bg-slate-800 shadow-lg",children:[(0,v.jsx)(cs,{className:"w-4 h-4 text-gray-400"}),(0,v.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:y.color||"#6b7280"}}),(0,v.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.name})]}):null})]}),(0,v.jsx)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,v.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,v.jsx)("strong",{children:"Instructions:"})," Drag folders between sections to organize your hierarchy. Click the edit icon to rename section titles. Folders in higher levels will appear above those in lower levels in the organizational chart."]})})]})})}):null}function c$({folders:e,bookmarks:t,onCreateFolder:r,onEditFolder:s,onDeleteFolder:a,onAddBookmarkToFolder:i,onDropBookmarkToFolder:n,onBookmarkUpdated:l,onBookmarkDeleted:o,onOpenDetail:d,currentFolderId:c,onFolderNavigate:u,selectedFolder:h}){let[m,p]=(0,b.useState)([]),[g,x]=(0,b.useState)(!1),[f,y]=(0,b.useState)({}),w=[{name:"Crown",icon:cN},{name:"Users",icon:cC},{name:"User",icon:cS.A},{name:"Briefcase",icon:cA.A},{name:"Target",icon:la.A},{name:"Star",icon:O.A},{name:"Building",icon:cT},{name:"Lightbulb",icon:lW.A},{name:"Zap",icon:li.A}],k=[{name:"Purple-Blue",bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",accent:"#8b5cf6"},{name:"Emerald-Teal",bg:"bg-emerald-50",border:"border-emerald-200",text:"text-emerald-700",accent:"#10b981"},{name:"Orange-Red",bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",accent:"#f97316"},{name:"Blue-Indigo",bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",accent:"#3b82f6"},{name:"Pink-Rose",bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-700",accent:"#ec4899"},{name:"Amber-Yellow",bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",accent:"#f59e0b"},{name:"Violet-Purple",bg:"bg-violet-50",border:"border-violet-200",text:"text-violet-700",accent:"#8b5cf6"},{name:"Cyan-Sky",bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-700",accent:"#06b6d4"}],[N,S]=(0,b.useState)([{id:"director",title:"DIRECTOR",iconName:"Crown",colorName:"Purple-Blue",order:0},{id:"teams",title:"TEAMS",iconName:"Users",colorName:"Emerald-Teal",order:1},{id:"collaborators",title:"COLLABORATORS",iconName:"User",colorName:"Orange-Red",order:2}]),[A,T]=(0,b.useState)(!1),[D,P]=(0,b.useState)(""),[M,R]=(0,b.useState)("Crown"),[L,F]=(0,b.useState)("Purple-Blue"),[$,I]=(0,b.useState)(null),[_,U]=(0,b.useState)(""),[z,H]=(0,b.useState)("name"),[Y,q]=(0,b.useState)("asc"),[X,K]=(0,b.useState)("all"),[G,J]=(0,b.useState)("all"),Z=e=>{let t=w.find(t=>t.name===e);return t?t.icon:cN},Q=e=>k.find(t=>t.name===e)||k[0],ee=e=>{S(t=>t.filter(t=>t.id!==e).map((e,t)=>({...e,order:t})))},et=e=>{I(e)},er=e=>{e.preventDefault()},es=(e,t)=>{if(e.preventDefault(),null===$||$===t)return void I(null);let r=[...N],s=r[$];r.splice($,1),r.splice(t,0,s),S(r.map((e,t)=>({...e,order:t}))),I(null)},ea=t=>m.filter(e=>e.level===t).sort((e,t)=>e.order-t.order).map(e=>e.folderId).map(t=>e.find(e=>e.id===t)).filter(Boolean),en=()=>{let t=new Set(m.map(e=>e.folderId));return e.filter(e=>!t.has(e.id))},eo=e=>e.color||"#3b82f6",ed=e=>{let t=e.replace("#",""),r=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16);return(.299*r+.587*s+.114*parseInt(t.substr(4,2),16))/255>.5?"#000000":"#ffffff"},ec=c?e.filter(e=>e.parent_id===c):e.filter(e=>!e.parent_id),eu=c?t.filter(e=>e.folder_id===c):[],eh=r=>({bookmarks:t.filter(e=>e.folder_id===r).length,folders:e.filter(e=>e.parent_id===r).length}),em=c?e.find(e=>e.id===c):null,ep=e=>{u(e)},eg=e=>{d(e)},ex=()=>m.map(e=>({folderId:e.folderId,levelId:e.level})),ef=e=>f[e]||1,ey=(e,t)=>{y(r=>({...r,[e]:t}))},ev=(e,t)=>{let r=(ef(t)-1)*5;return e.slice(r,r+5)},eb=e=>Math.ceil(e/5),ej=(0,b.useMemo)(()=>{let t=e;if(_.trim()){let e=_.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e))}if("all"!==G){let e=new Map(ex().map(e=>[e.folderId,e.levelId]));t="unassigned"===G?t.filter(t=>!e.has(t.id)):t.filter(t=>e.get(t.id)===G)}return t.sort((e,t)=>{let r,s;switch(z){case"name":case"alphabetical":default:r=e.name.toLowerCase(),s=t.name.toLowerCase();break;case"bookmarks":r=eh(e.id).bookmarks,s=eh(t.id).bookmarks;break;case"recent":r=new Date(e.updated_at||e.created_at||Date.now()).getTime(),s=new Date(t.updated_at||t.created_at||Date.now()).getTime()}return"number"==typeof r&&"number"==typeof s?"desc"===Y?s-r:r-s:"desc"===Y?s.toString().localeCompare(r.toString()):r.toString().localeCompare(s.toString())}),t},[e,_,G,z,Y,m]),ew=(0,b.useMemo)(()=>{let e=t;if(_.trim()){let t=_.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)||e.url.toLowerCase().includes(t))}return e},[t,_]),ek=(0,b.useMemo)(()=>{let e=new Map(ex().map(e=>[e.folderId,e.levelId])),t=ej.filter(t=>"director"===e.get(t.id)).length,r=ej.filter(t=>"teams"===e.get(t.id)).length,s=ej.filter(t=>"collaborators"===e.get(t.id)).length,a=ej.filter(t=>!e.has(t.id)).length,i=ew.length;return{directorFolders:t,teamsFolders:r,collaboratorsFolders:s,unassignedFolders:a,totalFolders:ej.length,totalBookmarks:i}},[ej,ew,m]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-blue-950/30",children:(0,v.jsxs)("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[(0,v.jsx)("div",{className:"relative",children:(0,v.jsxs)("div",{className:"text-center mb-16",children:[(0,v.jsx)("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 shadow-xl mb-6",children:(0,v.jsx)(cE,{className:"w-12 h-12 text-white"})}),(0,v.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl px-8 py-6 shadow-lg inline-block border-2 border-blue-200 dark:border-blue-800",children:[(0,v.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?`HIERARCHY VIEW - ${h.name.toUpperCase()}`:"ORGANIZATIONAL HIERARCHY VIEW"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:h?`Hierarchical view of ${h.name} folder contents`:"Manage and visualize your folder organization across hierarchical levels"})]})]})}),(0,v.jsxs)("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-2xl border border-gray-200/60 dark:border-gray-700/60 p-6 mb-8 shadow-lg",children:[(0,v.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"HIERARCHY MANAGEMENT"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Filter and organize your folders across organizational levels"})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:ek.directorFolders})," director"]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:ek.teamsFolders})," teams"]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:ek.collaboratorsFolders})," collaborators"]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:ek.unassignedFolders})," unassigned"]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,v.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:ek.totalBookmarks})," bookmarks"]})]})]})]}),(0,v.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,v.jsxs)("div",{className:"relative flex-1",children:[(0,v.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)(eY.p,{placeholder:"Search folders and bookmarks...",value:_,onChange:e=>U(e.target.value),className:"pl-9"})]}),(0,v.jsxs)(ei.rI,{children:[(0,v.jsx)(ei.ty,{asChild:!0,children:(0,v.jsxs)(C.$,{variant:"outline",className:"min-w-40",children:[(0,v.jsx)(cD.A,{className:"h-4 w-4 mr-2"}),"all"===G?"All Levels":"unassigned"===G?"Unassigned":N.find(e=>e.id===G)?.title||"Filter",(0,v.jsx)(lG.A,{className:"h-4 w-4 ml-2"})]})}),(0,v.jsxs)(ei.SQ,{align:"end",className:"w-48",children:[(0,v.jsx)(ei.hO,{checked:"all"===G,onCheckedChange:()=>J("all"),children:"All Levels"}),(0,v.jsx)(ei.mB,{}),N.map(e=>(0,v.jsxs)(ei.hO,{checked:G===e.id,onCheckedChange:()=>J(e.id),children:[j().createElement(Z(e.iconName),{className:"h-4 w-4 mr-2"}),e.title]},e.id)),(0,v.jsx)(ei.mB,{}),(0,v.jsx)(ei.hO,{checked:"unassigned"===G,onCheckedChange:()=>J("unassigned"),children:"Unassigned"})]})]}),(0,v.jsxs)(ei.rI,{children:[(0,v.jsx)(ei.ty,{asChild:!0,children:(0,v.jsxs)(C.$,{variant:"outline",className:"min-w-40",children:["asc"===Y?(0,v.jsx)(cP,{className:"h-4 w-4 mr-2"}):(0,v.jsx)(cM,{className:"h-4 w-4 mr-2"}),"Sort by ","name"===z?"Name":"bookmarks"===z?"Bookmarks":"recent"===z?"Recent":"Alphabetical",(0,v.jsx)(lG.A,{className:"h-4 w-4 ml-2"})]})}),(0,v.jsxs)(ei.SQ,{align:"end",className:"w-48",children:[(0,v.jsx)(ei._2,{onClick:()=>H("name"),children:"Sort by Name"}),(0,v.jsx)(ei._2,{onClick:()=>H("bookmarks"),children:"Sort by Bookmark Count"}),(0,v.jsx)(ei._2,{onClick:()=>H("recent"),children:"Sort by Recent"}),(0,v.jsx)(ei._2,{onClick:()=>H("alphabetical"),children:"Sort Alphabetically"}),(0,v.jsx)(ei.mB,{}),(0,v.jsx)(ei._2,{onClick:()=>q("asc"===Y?"desc":"asc"),children:"asc"===Y?"Descending":"Ascending"})]})]}),(0,v.jsxs)(C.$,{onClick:()=>x(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[(0,v.jsx)(V.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Manage Hierarchy"})]})]})]}),!c&&ec.length>0&&(0,v.jsxs)("div",{className:"space-y-12 relative",children:[(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)("div",{className:"w-px h-16 border-l-2 border-dotted border-gray-300 dark:border-gray-600"})}),(0,v.jsxs)("div",{className:"relative flex",children:[(0,v.jsxs)("div",{className:"w-24 flex flex-col mr-6 sticky top-0",children:[(0,v.jsx)("div",{className:"flex items-center justify-center mb-2 h-10",children:(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>T(!A),className:"p-1 h-6 w-6",children:(0,v.jsx)(cR.A,{className:"w-3 h-3"})})}),N.sort((e,t)=>e.order-t.order).map((e,t)=>{let r=Z(e.iconName),s=Q(e.colorName);return(0,v.jsxs)("div",{className:`flex-1 min-h-64 flex items-center justify-center border-r-2 relative ${s.border} ${s.bg} transition-all duration-200 ${$===t?"opacity-50":""}`,draggable:A,onDragStart:()=>et(t),onDragOver:er,onDrop:e=>es(e,t),children:[A&&(0,v.jsx)("div",{className:"absolute top-2 right-2 cursor-move",children:(0,v.jsx)(cs,{className:"w-3 h-3 text-gray-400"})}),A&&N.length>1&&(0,v.jsx)("button",{onClick:()=>ee(e.id),className:"absolute top-2 left-2 p-1 rounded-full bg-red-100 hover:bg-red-200 transition-colors",children:(0,v.jsx)(el.A,{className:"w-3 h-3 text-red-600"})}),(0,v.jsx)("div",{className:"transform -rotate-90 whitespace-nowrap",children:(0,v.jsxs)("div",{className:`${s.text} px-3 py-2 flex items-center gap-1 border-2 ${s.border} bg-transparent rounded-md`,children:[(0,v.jsx)(r,{className:"w-3 h-3"}),(0,v.jsx)("span",{className:"text-sm font-semibold tracking-wide",children:e.title})]})})]},e.id)}),A&&(0,v.jsx)("div",{className:"mt-4 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(eY.p,{placeholder:"Section title",value:D,onChange:e=>P(e.target.value),className:"text-xs h-6"}),(0,v.jsxs)("div",{className:"flex gap-1",children:[(0,v.jsxs)(ei.rI,{children:[(0,v.jsx)(ei.ty,{asChild:!0,children:(0,v.jsx)(C.$,{variant:"outline",size:"sm",className:"p-1 h-6 w-8",children:j().createElement(Z(M),{className:"w-3 h-3"})})}),(0,v.jsx)(ei.SQ,{children:w.map(e=>(0,v.jsxs)(ei._2,{onClick:()=>R(e.name),children:[(0,v.jsx)(e.icon,{className:"w-4 h-4 mr-2"}),e.name]},e.name))})]}),(0,v.jsxs)(ei.rI,{children:[(0,v.jsx)(ei.ty,{asChild:!0,children:(0,v.jsx)(C.$,{variant:"outline",size:"sm",className:"p-1 h-6 w-8",children:(0,v.jsx)("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:Q(L).accent}})})}),(0,v.jsx)(ei.SQ,{children:k.map(e=>(0,v.jsxs)(ei._2,{onClick:()=>F(e.name),children:[(0,v.jsx)("div",{className:"w-4 h-4 rounded-full border mr-2",style:{backgroundColor:e.accent}}),e.name]},e.name))})]})]}),(0,v.jsxs)(C.$,{onClick:()=>{if(!D.trim())return;let e={id:`section_${Date.now()}`,title:D.toUpperCase(),iconName:M,colorName:L,order:N.length};S([...N,e]),P(""),R("Crown"),F("Purple-Blue")},size:"sm",disabled:!D.trim(),className:"w-full h-6 text-xs",children:[(0,v.jsx)(W.A,{className:"w-3 h-3 mr-1"}),"Add"]})]})})]}),(0,v.jsx)("div",{className:"flex-1 space-y-20",children:N.map(e=>{let s=[...ea(e.id),..."teams"===e.id?en():[]];return(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,v.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[e.title," LEVEL (",s.length,")"]}),(0,v.jsxs)(C.$,{onClick:r,variant:"outline",size:"sm",className:"text-sm",children:[(0,v.jsx)(W.A,{className:"w-4 h-4 mr-1"}),"Add Folder"]})]}),s.length>0?(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:s.map(e=>{let r=eh(e.id),s=eo(e),a=ed(s),n=t.filter(t=>t.folder_id===e.id);return(0,v.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)("div",{className:"w-20 h-20 rounded-full shadow-lg flex items-center justify-center cursor-pointer transform transition-all duration-200 hover:scale-110 hover:shadow-xl border-4 border-white dark:border-slate-700",style:{backgroundColor:s},onClick:()=>ep(e.id),children:(0,v.jsx)(E.A,{className:"w-10 h-10",style:{color:a}})}),(0,v.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-px h-6 border-l-2 border-dotted border-gray-300 dark:border-gray-600"})]}),(0,v.jsx)(eH.Zp,{className:"cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-lg border-2",style:{borderColor:s},onClick:()=>ep(e.id),children:(0,v.jsxs)(eH.Wu,{className:"px-6 py-4 text-center",children:[(0,v.jsx)("h3",{className:"font-bold text-lg text-gray-900 dark:text-white",children:e.name.toUpperCase()}),(0,v.jsx)("p",{className:"text-sm font-medium mb-3",style:{color:s},children:r.folders>0?`${r.folders} SUBFOLDER${1!==r.folders?"S":""}`:`${r.bookmarks} BOOKMARK${1!==r.bookmarks?"S":""}`}),(0,v.jsxs)(C.$,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),i(e.id)},className:"text-xs w-full",style:{borderColor:s,color:s},children:[(0,v.jsx)(W.A,{className:"w-3 h-3 mr-1"}),"Add Bookmark"]})]})}),n.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"w-px h-8 border-l-2 border-dotted border-gray-300 dark:border-gray-600"}),(0,v.jsxs)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 w-full max-w-sm bg-gray-50/30 dark:bg-slate-800/30 relative",children:[(0,v.jsx)("div",{className:"grid grid-cols-1 gap-3",children:ev(n,e.id).map(e=>(0,v.jsx)(eH.Zp,{className:"cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-lg bg-white dark:bg-slate-800",onClick:()=>eg(e),children:(0,v.jsx)(eH.Wu,{className:"px-4 py-3",children:(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-800 dark:to-blue-900 flex items-center justify-center flex-shrink-0",children:(0,v.jsx)(ln,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:e.title}),(0,v.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:new URL(e.url).hostname})]})]})})},e.id))}),n.length>5&&(0,v.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>ey(e.id,Math.max(1,ef(e.id)-1)),disabled:1===ef(e.id),className:"p-1 h-6 w-6",children:(0,v.jsx)(cL,{className:"w-3 h-3"})}),(0,v.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ef(e.id)," / ",eb(n.length)]}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>ey(e.id,Math.min(eb(n.length),ef(e.id)+1)),disabled:ef(e.id)===eb(n.length),className:"p-1 h-6 w-6",children:(0,v.jsx)(ci.A,{className:"w-3 h-3"})})]})]})]}),0===n.length&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"w-px h-8 border-l-2 border-dotted border-gray-300 dark:border-gray-600"}),(0,v.jsx)("div",{className:"text-center py-4",children:(0,v.jsx)("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No bookmarks yet"})})]})]},e.id)})}):(0,v.jsx)("div",{className:"text-center py-8",children:(0,v.jsx)("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No folders in this level yet"})})]},e.id)})})]}),(0,v.jsx)("div",{className:"text-center mt-16",children:(0,v.jsxs)(C.$,{onClick:r,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-3 rounded-xl shadow-lg transform transition-all duration-200 hover:scale-105",children:[(0,v.jsx)(W.A,{className:"w-5 h-5 mr-2"}),"Create New Folder"]})})]}),c&&(0,v.jsxs)("div",{className:"space-y-12",children:[(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)("div",{className:"w-px h-16 border-l-2 border-dotted border-gray-300 dark:border-gray-600"})}),(0,v.jsxs)("div",{className:"max-w-6xl mx-auto",children:[ec.length>0&&(0,v.jsxs)("div",{className:"mb-16",children:[(0,v.jsxs)("div",{className:"text-center mb-8",children:[(0,v.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"SUBFOLDERS"}),(0,v.jsx)("div",{className:"w-px h-8 border-l-2 border-dotted border-gray-300 dark:border-gray-600 mx-auto"})]}),(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ec.map(e=>{let t=eo(e),r=ed(t),s=eh(e.id);return(0,v.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,v.jsx)("div",{className:"w-16 h-16 rounded-full shadow-lg flex items-center justify-center cursor-pointer transform transition-all duration-200 hover:scale-110 hover:shadow-xl border-4 border-white dark:border-slate-700",style:{backgroundColor:t},onClick:()=>ep(e.id),children:(0,v.jsx)(E.A,{className:"w-8 h-8",style:{color:r}})}),(0,v.jsx)(eH.Zp,{className:"cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-lg border-2 w-full",style:{borderColor:t},onClick:()=>ep(e.id),children:(0,v.jsxs)(eH.Wu,{className:"px-4 py-3 text-center",children:[(0,v.jsx)("h3",{className:"font-bold text-base text-gray-900 dark:text-white",children:e.name.toUpperCase()}),(0,v.jsxs)("p",{className:"text-xs font-medium mb-3",style:{color:t},children:[s.bookmarks," BOOKMARK",1!==s.bookmarks?"S":""]}),(0,v.jsxs)(C.$,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),i(e.id)},className:"text-xs w-full",style:{borderColor:t,color:t},children:[(0,v.jsx)(W.A,{className:"w-3 h-3 mr-1"}),"Add Bookmark"]})]})})]},e.id)})})]}),eu.length>0&&(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsxs)("div",{className:"text-center mb-8",children:[(0,v.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"BOOKMARKS"}),(0,v.jsx)("div",{className:"w-px h-8 border-l-2 border-dotted border-gray-300 dark:border-gray-600 mx-auto"})]}),(0,v.jsx)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 bg-gray-50/30 dark:bg-slate-800/30 max-w-6xl mx-auto",children:(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:eu.map(e=>(0,v.jsx)(eH.Zp,{className:"cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-lg bg-white dark:bg-slate-800",onClick:()=>eg(e),children:(0,v.jsx)(eH.Wu,{className:"p-4",children:(0,v.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,v.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-800 dark:to-blue-900 flex items-center justify-center",children:(0,v.jsx)(ln,{className:"w-6 h-6 text-blue-600 dark:text-blue-300"})}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white line-clamp-2",children:e.title}),(0,v.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate",children:new URL(e.url).hostname})]})]})})},e.id))})})]}),(0,v.jsx)("div",{className:"text-center mt-12",children:(0,v.jsxs)(C.$,{onClick:()=>i(c),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl shadow-lg transform transition-all duration-200 hover:scale-105",children:[(0,v.jsx)(W.A,{className:"w-5 h-5 mr-2"}),"Add Bookmark to ",em?.name]})}),0===ec.length&&0===eu.length&&(0,v.jsxs)("div",{className:"text-center py-16",children:[(0,v.jsx)("div",{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-full flex items-center justify-center",children:(0,v.jsx)(ln,{className:"w-16 h-16 text-gray-500 dark:text-gray-400"})}),(0,v.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"EMPTY FOLDER"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"This folder doesn't have any bookmarks yet. Start by adding your first bookmark."}),(0,v.jsxs)(C.$,{onClick:()=>i(c),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-4 rounded-xl shadow-lg transform transition-all duration-200 hover:scale-105",children:[(0,v.jsx)(W.A,{className:"w-6 h-6 mr-2"}),"Add Your First Bookmark"]})]})]})]}),!c&&0===ec.length&&(0,v.jsxs)("div",{className:"text-center py-16",children:[(0,v.jsx)("div",{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-full flex items-center justify-center",children:(0,v.jsx)(E.A,{className:"w-16 h-16 text-gray-500 dark:text-gray-400"})}),(0,v.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"NO FOLDERS YET"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Create your first folder to organize your bookmarks in this beautiful organizational structure."}),(0,v.jsxs)(C.$,{onClick:r,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-4 rounded-xl shadow-lg transform transition-all duration-200 hover:scale-105",children:[(0,v.jsx)(W.A,{className:"w-6 h-6 mr-2"}),"Create Your First Folder"]})]})]})}),(0,v.jsx)(cB,{folders:e,assignments:m,onAssignmentsChange:e=>{p(e),localStorage.setItem("folder-hierarchy-assignments",JSON.stringify(e))},isOpen:g,onToggle:()=>x(!1)})]})}let cI=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#f97316","#06b6d4","#84cc16","#ec4899","#6b7280"];function c_({open:e,onOpenChange:t,folder:r,onSubmit:s}){let[a,i]=(0,b.useState)({name:"",description:"",color:"#3b82f6"}),[n,l]=(0,b.useState)({}),o=()=>{let e={};return a.name.trim()||(e.name="Folder name is required"),l(e),0===Object.keys(e).length},d=!!r;return(0,v.jsx)(A.lG,{open:e,onOpenChange:t,children:(0,v.jsxs)(A.Cf,{className:"sm:max-w-md",children:[(0,v.jsx)(A.c7,{children:(0,v.jsx)(A.L3,{children:d?"Edit Folder":"Create New Folder"})}),(0,v.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o()&&(s({name:a.name.trim(),description:a.description.trim()||void 0,color:a.color}),t(!1))},className:"space-y-6",children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)(ej.J,{htmlFor:"name",children:["Folder Name ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(eY.p,{id:"name",type:"text",placeholder:"Enter folder name",value:a.name,onChange:e=>i({...a,name:e.target.value}),className:n.name?"border-red-500":""}),n.name&&(0,v.jsx)("p",{className:"text-sm text-red-500",children:n.name})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(ej.J,{htmlFor:"description",children:"Description (optional)"}),(0,v.jsx)(eb.T,{id:"description",placeholder:"Enter folder description",value:a.description,onChange:e=>i({...a,description:e.target.value}),rows:3,className:"resize-none"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(ej.J,{children:"Folder Color"}),(0,v.jsx)("div",{className:"flex flex-wrap gap-2",children:cI.map(e=>(0,v.jsx)("button",{type:"button",className:`
                    w-8 h-8 rounded-full border-2 transition-all duration-200
                    ${a.color===e?"border-gray-900 dark:border-white scale-110":"border-gray-300 dark:border-gray-600 hover:scale-105"}
                  `,style:{backgroundColor:e},onClick:()=>i({...a,color:e}),title:`Select ${e}`},e))}),(0,v.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,v.jsx)("input",{type:"color",value:a.color,onChange:e=>i({...a,color:e.target.value}),className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,v.jsx)(ej.J,{className:"text-sm text-gray-600 dark:text-gray-400",children:"Or choose custom color"})]})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(ej.J,{children:"Preview"}),(0,v.jsxs)("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,v.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:a.color},children:(0,v.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",style:{color:function(e){let t=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16);return(.299*t+.587*r+.114*parseInt(e.slice(5,7),16))/255>.5?"#000000":"#ffffff"}(a.color)},children:(0,v.jsx)("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.name||"Folder Name"}),a.description&&(0,v.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.description})]})]})]}),(0,v.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,v.jsx)(C.$,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),(0,v.jsx)(C.$,{type:"submit",children:d?"Update Folder":"Create Folder"})]})]})]})})}var cU=r(13943),cz=r(70569),cW=r(98599),cH=r(31355),cY=r(1359),cq=r(32547),cX=r(96963),cK=r(55509),cG=r(25028),cJ=r(46059),cZ=r(8730),cQ=r(65551),c0=r(63376),c1=r(42247),c2="Popover",[c4,c3]=(0,ew.A)(c2,[cK.Bk]),c5=(0,cK.Bk)(),[c6,c8]=c4(c2),c9=e=>{let{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:n=!1}=e,l=c5(t),o=b.useRef(null),[d,c]=b.useState(!1),[u,h]=(0,cQ.i)({prop:s,defaultProp:a??!1,onChange:i,caller:c2});return(0,v.jsx)(cK.bL,{...l,children:(0,v.jsx)(c6,{scope:t,contentId:(0,cX.B)(),triggerRef:o,open:u,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:d,onCustomAnchorAdd:b.useCallback(()=>c(!0),[]),onCustomAnchorRemove:b.useCallback(()=>c(!1),[]),modal:n,children:r})})};c9.displayName=c2;var c7="PopoverAnchor";b.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=c8(c7,r),i=c5(r),{onCustomAnchorAdd:n,onCustomAnchorRemove:l}=a;return b.useEffect(()=>(n(),()=>l()),[n,l]),(0,v.jsx)(cK.Mz,{...i,...s,ref:t})}).displayName=c7;var ue="PopoverTrigger",ut=b.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=c8(ue,r),i=c5(r),n=(0,cW.s)(t,a.triggerRef),l=(0,v.jsx)(ek.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":um(a.open),...s,ref:n,onClick:(0,cz.m)(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:(0,v.jsx)(cK.Mz,{asChild:!0,...i,children:l})});ut.displayName=ue;var ur="PopoverPortal",[us,ua]=c4(ur,{forceMount:void 0}),ui=e=>{let{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=c8(ur,t);return(0,v.jsx)(us,{scope:t,forceMount:r,children:(0,v.jsx)(cJ.C,{present:r||i.open,children:(0,v.jsx)(cG.Z,{asChild:!0,container:a,children:s})})})};ui.displayName=ur;var un="PopoverContent",ul=b.forwardRef((e,t)=>{let r=ua(un,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=c8(un,e.__scopePopover);return(0,v.jsx)(cJ.C,{present:s||i.open,children:i.modal?(0,v.jsx)(ud,{...a,ref:t}):(0,v.jsx)(uc,{...a,ref:t})})});ul.displayName=un;var uo=(0,cZ.TL)("PopoverContent.RemoveScroll"),ud=b.forwardRef((e,t)=>{let r=c8(un,e.__scopePopover),s=b.useRef(null),a=(0,cW.s)(t,s),i=b.useRef(!1);return b.useEffect(()=>{let e=s.current;if(e)return(0,c0.Eq)(e)},[]),(0,v.jsx)(c1.A,{as:uo,allowPinchZoom:!0,children:(0,v.jsx)(uu,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,cz.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,cz.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;i.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,cz.m)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),uc=b.forwardRef((e,t)=>{let r=c8(un,e.__scopePopover),s=b.useRef(!1),a=b.useRef(!1);return(0,v.jsx)(uu,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let i=t.target;r.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),uu=b.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:n,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:d,onInteractOutside:c,...u}=e,h=c8(un,r),m=c5(r);return(0,cY.Oh)(),(0,v.jsx)(cq.n,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,v.jsx)(cH.qW,{asChild:!0,disableOutsidePointerEvents:n,onInteractOutside:c,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:(0,v.jsx)(cK.UC,{"data-state":um(h.open),role:"dialog",id:h.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uh="PopoverClose";function um(e){return e?"open":"closed"}b.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=c8(uh,r);return(0,v.jsx)(ek.sG.button,{type:"button",...s,ref:t,onClick:(0,cz.m)(e.onClick,()=>a.onOpenChange(!1))})}).displayName=uh,b.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=c5(r);return(0,v.jsx)(cK.i3,{...a,...s,ref:t})}).displayName="PopoverArrow";let up=b.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>(0,v.jsx)(ui,{children:(0,v.jsx)(ul,{ref:a,align:t,sideOffset:r,className:(0,eV.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));up.displayName=ul.displayName;var ug=r(39907);function ux({filters:e,onFiltersChange:t}){let r,[s,a]=(0,b.useState)(!1),i=[{value:"all",label:"All Content"},{value:"bookmarks",label:"Bookmarks"},{value:"notes",label:"Notes"},{value:"tags",label:"Tags"}],n=[{value:"all",label:"All Contexts"},{value:"personal",label:"Personal"},{value:"work",label:"Work"},{value:"shared",label:"Shared"}],l=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"title",label:"By Title"},{value:"url",label:"By URL"},{value:"recent",label:"Recently Visited"},{value:"visits",label:"Most Visited"},{value:"favorites",label:"Favorites"}],o=(r,s)=>{t({...e,[r]:s})},d=(r=0,"all"!==e.contentType&&r++,"all"!==e.context&&r++,"newest"!==e.sortBy&&r++,r);return(0,v.jsxs)(c9,{open:s,onOpenChange:a,children:[(0,v.jsx)(ut,{asChild:!0,children:(0,v.jsxs)(C.$,{variant:"outline",className:"relative flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,v.jsx)(cD.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),d>0&&(0,v.jsx)(X.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs flex items-center justify-center",children:d})]})}),(0,v.jsx)(up,{className:"w-80 p-0",align:"start",children:(0,v.jsxs)("div",{className:"p-4",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,v.jsx)("h4",{className:"font-semibold text-sm",children:"Filter Bookmarks"}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[d>0&&(0,v.jsxs)(C.$,{variant:"ghost",size:"sm",onClick:()=>{t({contentType:"all",context:"all",sortBy:"newest"})},className:"h-7 px-2 text-xs",children:[(0,v.jsx)(cU.A,{className:"h-3 w-3 mr-1"}),"Reset"]}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>a(!1),className:"h-7 w-7 p-0",children:(0,v.jsx)(el.A,{className:"h-3 w-3"})})]})]}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 block",children:"Content Type"}),(0,v.jsx)("div",{className:"grid grid-cols-2 gap-1",children:i.map(t=>(0,v.jsxs)(C.$,{variant:e.contentType===t.value?"default":"ghost",size:"sm",onClick:()=>o("contentType",t.value),className:"h-8 text-xs justify-start",children:[e.contentType===t.value&&(0,v.jsx)(cF.A,{className:"h-3 w-3 mr-1"}),t.label]},t.value))})]}),(0,v.jsx)(ug.w,{}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 block",children:"Context"}),(0,v.jsx)("div",{className:"grid grid-cols-2 gap-1",children:n.map(t=>(0,v.jsxs)(C.$,{variant:e.context===t.value?"default":"ghost",size:"sm",onClick:()=>o("context",t.value),className:"h-8 text-xs justify-start",children:[e.context===t.value&&(0,v.jsx)(cF.A,{className:"h-3 w-3 mr-1"}),t.label]},t.value))})]}),(0,v.jsx)(ug.w,{}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 block",children:"Sort By"}),(0,v.jsx)("div",{className:"space-y-1",children:l.map(t=>(0,v.jsxs)(C.$,{variant:e.sortBy===t.value?"default":"ghost",size:"sm",onClick:()=>o("sortBy",t.value),className:"w-full h-8 text-xs justify-start",children:[e.sortBy===t.value&&(0,v.jsx)(cF.A,{className:"h-3 w-3 mr-1"}),t.label]},t.value))})]})]}),d>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ug.w,{className:"my-4"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 block",children:"Active Filters"}),(0,v.jsxs)("div",{className:"flex flex-wrap gap-1",children:["all"!==e.contentType&&(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:i.find(t=>t.value===e.contentType)?.label}),"all"!==e.context&&(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:n.find(t=>t.value===e.context)?.label}),"newest"!==e.sortBy&&(0,v.jsx)(X.E,{variant:"secondary",className:"text-xs",children:l.find(t=>t.value===e.sortBy)?.label})]})]})]})]})})]})}function uf({userId:e,userData:t}){let{enterSelectionMode:r,isSelectionMode:s}=(0,ea.C)(),[a,i]=(0,b.useState)([]),[n,l]=(0,b.useState)([]),[o,d]=(0,b.useState)([]),[c,u]=(0,b.useState)(!0),[h,m]=(0,b.useState)(null),[p,g]=(0,b.useState)("all"),[x,f]=(0,b.useState)([]),[y,j]=(0,b.useState)(""),[w,D]=(0,b.useState)(!1),[P,R]=(0,b.useState)(!1),[X,K]=(0,b.useState)("grid"),[G,J]=(0,b.useState)(null),[Z,Q]=(0,b.useState)(!1),[ee,et]=(0,b.useState)(!1),[er,ei]=(0,b.useState)(!1),[en,el]=(0,b.useState)(null),[eo,ed]=(0,b.useState)(null),[ec,eu]=(0,b.useState)(null),[eh,em]=(0,b.useState)({contentType:"all",context:"all",sortBy:"newest"}),ep=(0,b.useCallback)(async()=>{try{u(!0),m(null),await T.u.ensureUserProfile("user@example.com","User");let[e,t,r]=await Promise.all([T.u.getBookmarks(),T.u.getFolders(),T.u.getTags()]),s=t;if(0===t.length){let e=[];for(let t of[{name:"DEVELOPMENT",description:"Development tools and resources",color:"#3b82f6",parent_id:null},{name:"DESIGN",description:"Design inspiration and tools",color:"#8b5cf6",parent_id:null},{name:"PRODUCTIVITY",description:"Productivity apps and workflows",color:"#10b981",parent_id:null},{name:"LEARNING",description:"Educational content and courses",color:"#f59e0b",parent_id:null},{name:"ENTERTAINMENT",description:"Entertainment and leisure content",color:"#ef4444",parent_id:null}])try{let r=await T.u.createFolder(t);e.push(r)}catch(e){console.error(`Failed to create default folder ${t.name}:`,e)}s=e}i(e),l(s),d(r)}catch(t){console.error("Failed to load data:",t);let e=t instanceof Error?t.message:"Unknown error";m(`Failed to load dashboard data: ${e}`),ef.oR.error(`Failed to load dashboard data: ${e}`)}finally{u(!1)}},[]),eg=async e=>{try{let t=e.folder_id;if(!t){let e=n.find(e=>"uncategorized"===e.name.toLowerCase());if(!e)try{e=await T.u.createFolder({name:"Uncategorized",description:"Default folder for bookmarks without a category",color:"#6b7280",parent_id:null}),l(t=>[...t,e]),ef.oR.success('Created default "Uncategorized" folder')}catch(e){console.error("Failed to create default folder:",e)}t=e?.id||null}let r=await fetch("/api/bookmarks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.url,title:e.title,description:e.description||"",folder_id:t,favicon_url:e.favicon_url,tagIds:e.tags?.map(e=>e.id)||[]})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create bookmark")}let s=await r.json();i(e=>[s,...e]),ef.oR.success("Bookmark created successfully")}catch(e){console.error("Failed to create bookmark:",e),ef.oR.error(e instanceof Error?e.message:"Failed to create bookmark")}},ex=e=>{i(t=>t.map(t=>t.id===e.id?e:t)),ef.oR.success("Bookmark updated successfully")},eb=e=>{i(t=>t.filter(t=>t.id!==e)),Q(!1),J(null),ef.oR.success("Bookmark deleted successfully")},ej=e=>{J(e),Q(!0)},ew=async e=>{try{let t=n.find(e=>"uncategorized"===e.name.toLowerCase());if(!t)try{t=await T.u.createFolder({name:"Uncategorized",description:"Default folder for bookmarks without a category",color:"#6b7280",parent_id:null}),l(e=>[...e,t])}catch(e){console.error("Failed to create default folder:",e)}for(let r of e){let e=r.folderId;!e&&t&&(e=t.id);let s=await fetch("/api/bookmarks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r.url,title:r.title||r.url,description:r.description||"",folder_id:e||null,favicon_url:r.favicon||null,tagIds:r.tagIds||[]})});if(!s.ok){let e=await s.json();throw Error(e.error||`Failed to import bookmark: ${r.url}`)}}await ep(),D(!1),ef.oR.success(`Successfully imported ${e.length} bookmarks`)}catch(e){throw console.error("Bulk import failed:",e),ef.oR.error(e instanceof Error?e.message:"Failed to import bookmarks"),e}},ek=()=>{el(null),ei(!0)},eN=e=>{el(e),ei(!0)},eC=async e=>{try{if(en){let t=await T.u.updateFolder(en.id,e);l(e=>e.map(e=>e.id===en.id?t:e)),ef.oR.success("Folder updated successfully")}else{let t=await T.u.createFolder({name:e.name,description:e.description||null,color:e.color||null,parent_id:null});l(e=>[...e,t]),ef.oR.success("Folder created successfully")}}catch(e){console.error("Failed to save folder:",e),ef.oR.error("Failed to save folder")}},eS=async e=>{if(confirm('Are you sure you want to delete this folder? All bookmarks in this folder will be moved to "No category".'))try{for(let t of a.filter(t=>t.folder_id===e))await T.u.updateBookmark(t.id,{folder_id:null});await T.u.deleteFolder(e),l(t=>t.filter(t=>t.id!==e)),i(t=>t.map(t=>t.folder_id===e?{...t,folder_id:null}:t)),ef.oR.success("Folder deleted successfully")}catch(e){console.error("Failed to delete folder:",e),ef.oR.error("Failed to delete folder")}},eA=e=>{ed(e),et(!0)},eT=async(e,t)=>{try{await T.u.updateBookmark(t.id,{folder_id:e}),i(r=>r.map(r=>r.id===t.id?{...r,folder_id:e}:r));let r=n.find(t=>t.id===e);ef.oR.success(`Bookmark moved to ${r?.name||"folder"}`)}catch(e){console.error("Failed to move bookmark:",e),ef.oR.error("Failed to move bookmark")}},eE=a.filter(e=>{let t=""===y||e.title.toLowerCase().includes(y.toLowerCase())||e.description?.toLowerCase().includes(y.toLowerCase())||e.url.toLowerCase().includes(y.toLowerCase()),r="all"===eh.contentType||"bookmarks"===eh.contentType&&!e.is_archived||"notes"===eh.contentType&&e.description&&e.description.length>0||"tags"===eh.contentType&&e.tags&&e.tags.length>0,s="all"===eh.context||"personal"===eh.context&&(!e.folder||e.folder.name.toLowerCase().includes("personal"))||"work"===eh.context&&e.folder?.name.toLowerCase().includes("work")||"shared"===eh.context&&e.folder?.name.toLowerCase().includes("shared"),a=!0;return"all"!==p&&(a="favorites"===p?e.is_favorite??!1:e.folder?.name?.toLowerCase()===p.toLowerCase()),t&&r&&s&&a}).filter(e=>0===x.length||e.tags?.some(e=>x.includes(e.id))||!1).sort((e,t)=>{switch(eh.sortBy){case"title":return e.title.localeCompare(t.title);case"url":return e.url.localeCompare(t.url);case"oldest":return new Date(e.created_at||0).getTime()-new Date(t.created_at||0).getTime();case"recent":return(t.last_visited_at?new Date(t.last_visited_at).getTime():0)-(e.last_visited_at?new Date(e.last_visited_at).getTime():0);case"visits":return(t.visit_count||0)-(e.visit_count||0);case"favorites":return!!t.is_favorite-!!e.is_favorite;default:return new Date(t.created_at||0).getTime()-new Date(e.created_at||0).getTime()}}),eD=a.length,eP=a.filter(e=>{if(!e.created_at)return!1;let t=new Date(e.created_at),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).length,eM=a.filter(e=>e.is_favorite).length;return(a.reduce((e,t)=>e+(t.visit_count||0),0),c)?(0,v.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):h?(0,v.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)(M.A,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Database Connection Error"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:h}),(0,v.jsx)(C.$,{onClick:ep,variant:"outline",children:"Try Again"})]})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,v.jsxs)("div",{className:`${P?"w-16":"w-64"} bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 flex flex-col`,children:[(0,v.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[!P&&(0,v.jsx)(k(),{href:"/dashboard",children:(0,v.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"BOOKMARKHUB"})}),(0,v.jsx)(C.$,{variant:"ghost",size:"sm",onClick:()=>R(!P),children:(0,v.jsx)(L,{className:"h-4 w-4"})})]}),!P&&(0,v.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Your digital workspace"})]}),!P&&(0,v.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,v.jsx)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"NAVIGATION"}),(0,v.jsxs)("nav",{className:"space-y-1",children:[(0,v.jsxs)("button",{onClick:()=>g("all"),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${"all"===p?"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[(0,v.jsx)(F.A,{className:"mr-3 h-4 w-4"}),"Dashboard"]}),(0,v.jsxs)("button",{onClick:()=>window.location.href="/analytics",className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,v.jsx)(F.A,{className:"mr-3 h-4 w-4"}),"Analytics"]}),(0,v.jsxs)("button",{onClick:()=>window.location.href="/favorites",className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,v.jsx)(O.A,{className:"mr-3 h-4 w-4"}),"Favorites",(0,v.jsx)("span",{className:"ml-auto bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:eM})]}),(0,v.jsxs)("button",{onClick:()=>window.location.href="/settings",className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,v.jsx)(V.A,{className:"mr-3 h-4 w-4"}),"Settings"]})]})]}),!P&&(0,v.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,v.jsx)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"CATEGORIES"}),(0,v.jsxs)("nav",{className:"space-y-1",children:[(0,v.jsxs)(k(),{href:"/category/all",className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,v.jsx)("span",{children:"All"}),(0,v.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:a.length})]}),(0,v.jsxs)(k(),{href:"/category/development",className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,v.jsx)("span",{children:"Development"}),(0,v.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:a.filter(e=>e.folder?.name?.toLowerCase()==="development").length})]}),(0,v.jsxs)(k(),{href:"/category/design",className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,v.jsx)("span",{children:"Design"}),(0,v.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:a.filter(e=>e.folder?.name?.toLowerCase()==="design").length})]}),(0,v.jsxs)(k(),{href:"/category/productivity",className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,v.jsx)("span",{children:"Productivity"}),(0,v.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:a.filter(e=>e.folder?.name?.toLowerCase()==="productivity").length})]}),(0,v.jsxs)(k(),{href:"/category/learning",className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,v.jsx)("span",{children:"Learning"}),(0,v.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:a.filter(e=>e.folder?.name?.toLowerCase()==="learning").length})]}),(0,v.jsxs)(k(),{href:"/category/entertainment",className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,v.jsx)("span",{children:"Entertainment"}),(0,v.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:a.filter(e=>e.folder?.name?.toLowerCase()==="entertainment").length})]}),(0,v.jsxs)(k(),{href:"/category/favorites",className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,v.jsx)("span",{children:"Favorites"}),(0,v.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full px-2 py-0.5",children:a.filter(e=>e.is_favorite).length})]})]})]}),!P&&(0,v.jsx)("div",{className:"p-4 flex-1",children:(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Bookmarks"}),(0,v.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:eD})]}),(0,v.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This Month"}),(0,v.jsxs)("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:["+",eP]})]}),(0,v.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Favorites"}),(0,v.jsx)("div",{className:"text-lg font-semibold text-yellow-600 dark:text-yellow-400",children:eM})]})]})}),P&&(0,v.jsx)("div",{className:"p-2",children:(0,v.jsx)(C.$,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>R(!1),children:(0,v.jsx)(L,{className:"h-4 w-4"})})})]}),(0,v.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,v.jsx)("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsx)("div",{className:"flex items-center space-x-4",children:(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"all"===p?"DASHBOARD":"favorites"===p?"FAVORITES":"development"===p?"DEVELOPMENT":"design"===p?"DESIGN":"productivity"===p?"PRODUCTIVITY":"learning"===p?"LEARNING":"entertainment"===p?"ENTERTAINMENT":p.toUpperCase()})}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Welcome, ",t.firstName||t.email,"!"]}),(0,v.jsx)(N.uF,{afterSignOutUrl:"/"})]})]})}),(0,v.jsx)(cv,{bookmarks:a}),(0,v.jsxs)("main",{className:"flex-1 p-6 overflow-auto",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,v.jsx)(C.$,{variant:"outline",size:"sm",onClick:()=>R(!P),className:"lg:hidden",children:(0,v.jsx)(L,{className:"h-4 w-4"})}),(0,v.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,v.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)("input",{type:"text",placeholder:"Search bookmarks, tags, notes...",value:y,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,v.jsx)(ux,{filters:eh,onFiltersChange:em})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsxs)("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg",children:[(0,v.jsx)(C.$,{variant:"grid"===X?"default":"ghost",size:"sm",onClick:()=>K("grid"),className:"p-2 rounded-r-none border-r border-gray-300 dark:border-gray-600",title:"Grid View",children:(0,v.jsx)($.A,{className:"h-4 w-4"})}),(0,v.jsx)(C.$,{variant:"list"===X?"default":"ghost",size:"sm",onClick:()=>K("list"),className:"p-2 rounded-none border-r border-gray-300 dark:border-gray-600",title:"List View",children:(0,v.jsx)(I.A,{className:"h-4 w-4"})}),(0,v.jsx)(C.$,{variant:"folder"===X?"default":"ghost",size:"sm",onClick:()=>K("folder"),className:"p-2 rounded-none border-r border-gray-300 dark:border-gray-600",title:"Folder View",children:(0,v.jsx)(E.A,{className:"h-4 w-4"})}),(0,v.jsx)(C.$,{variant:"org-chart"===X?"default":"ghost",size:"sm",onClick:()=>K("org-chart"),className:"p-2 rounded-none border-r border-gray-300 dark:border-gray-600",title:"Organizational Chart View",children:(0,v.jsx)(F.A,{className:"h-4 w-4"})}),(0,v.jsx)(C.$,{variant:"compact"===X?"default":"ghost",size:"sm",onClick:()=>K("compact"),className:"p-2 rounded-none border-r border-gray-300 dark:border-gray-600",title:"Compact View",children:(0,v.jsx)(_,{className:"h-4 w-4"})}),(0,v.jsx)(C.$,{variant:"kanban"===X?"default":"ghost",size:"sm",onClick:()=>K("kanban"),className:"p-2 rounded-none border-r border-gray-300 dark:border-gray-600",title:"Kanban View",children:(0,v.jsx)(U,{className:"h-4 w-4"})}),(0,v.jsx)(C.$,{variant:"timeline"===X?"default":"ghost",size:"sm",onClick:()=>K("timeline"),className:"p-2 rounded-l-none",title:"Timeline View",children:(0,v.jsx)(z.A,{className:"h-4 w-4"})})]}),(0,v.jsxs)(C.$,{onClick:()=>et(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-black",children:[(0,v.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Add Bookmark"]}),(0,v.jsxs)(C.$,{variant:"outline",onClick:r,className:"border-blue-500 text-blue-600 hover:bg-blue-50",disabled:s,title:s?"Selection mode is active":"Enter selection mode to bulk delete, move, or manage bookmarks",children:[(0,v.jsx)(H,{className:"h-4 w-4 mr-2"}),s?"Selection Active":"Select"]}),(0,v.jsxs)(A.lG,{open:w,onOpenChange:D,children:[(0,v.jsx)(A.zM,{asChild:!0,children:(0,v.jsxs)(C.$,{variant:"outline",children:[(0,v.jsx)(Y.A,{className:"h-4 w-4 mr-2"}),"Import URLs"]})}),(0,v.jsxs)(A.Cf,{className:"max-w-4xl max-h-[80vh]",children:[(0,v.jsx)(A.c7,{children:(0,v.jsx)(A.L3,{children:"Bulk Import Bookmarks"})}),(0,v.jsx)(eW,{isOpen:w,onImport:ew,folders:n,tags:o,onClose:()=>D(!1)})]})]}),(0,v.jsx)(es,{bookmarks:eE,trigger:(0,v.jsxs)(C.$,{variant:"outline",children:[(0,v.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Check Links"]})})]})]}),(0,v.jsx)(ey,{bookmarks:eE,userId:e,onUpdate:ep,folders:n,tags:o}),"folder"===X?(0,v.jsx)(ck,{folders:n,bookmarks:a,onCreateFolder:ek,onEditFolder:eN,onDeleteFolder:eS,onAddBookmarkToFolder:eA,onDropBookmarkToFolder:eT,onBookmarkUpdated:ex,onBookmarkDeleted:eb,onOpenDetail:ej,currentFolderId:ec,onFolderNavigate:eu}):"org-chart"===X?(0,v.jsx)(c$,{folders:n,bookmarks:a,onCreateFolder:ek,onEditFolder:eN,onDeleteFolder:eS,onAddBookmarkToFolder:eA,onDropBookmarkToFolder:eT,onBookmarkUpdated:ex,onBookmarkDeleted:eb,onOpenDetail:ej,currentFolderId:ec,onFolderNavigate:eu}):"timeline"===X?(0,v.jsx)(l2,{bookmarks:eE,onBookmarkClick:ej,onFavorite:e=>{ex({...e,is_favorite:!e.is_favorite})},loading:c}):"kanban"===X?(0,v.jsx)(lm,{bookmarks:eE,onBookmarkClick:ej,onFavorite:e=>{ex({...e,is_favorite:!e.is_favorite})},loading:c}):"list"===X?(0,v.jsx)(co,{bookmarks:eE,onBookmarkClick:ej,onFavorite:e=>{ex({...e,is_favorite:!e.is_favorite})},onReorder:e=>{i(e)},loading:c}):"compact"===X?(0,v.jsx)(cu,{bookmarks:eE,folders:n,tags:o,onBookmarkUpdated:ex,onBookmarkDeleted:e=>{eb(e)},onCreateFolder:ek,onEditFolder:eN,onDeleteFolder:eS,onAddBookmarkToFolder:eA}):(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eE.map(e=>{let t=a.reduce((e,t)=>e+(t.visit_count||0),0);return(0,v.jsx)(S.P,{bookmark:e,onUpdated:ex,onDeleted:()=>eb(e.id),onOpenDetail:()=>ej(e),folders:n,totalBookmarkVisits:t},e.id)})})]})]})]}),(0,v.jsx)(ev.F,{bookmark:G,folders:n,tags:o,isOpen:Z,onClose:()=>{Q(!1),J(null)},onUpdated:ex}),(0,v.jsx)(cm,{open:ee,onOpenChange:et,folders:n,tags:o,onSubmit:eg}),(0,v.jsx)(c_,{open:er,onOpenChange:ei,folder:en,onSubmit:eC})]})}function uy({userId:e,userData:t}){return(0,v.jsx)(ea.W,{children:(0,v.jsx)(uf,{userId:e,userData:t})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},16292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(37413),a=r(19478);function i(){return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)(a.A,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})})}},16321:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(37413);r(61120);var a=r(90200),i=r(93800),n=r(82466),l=r(44335);let o=new(require("node:async_hooks")).AsyncLocalStorage;var d=r(23855);let c=async()=>{var e,t;let r;try{let e=await (0,i.TG)(),t=(0,l._b)(e,a.AA.Headers.ClerkRequestData);r=(0,d.Kk)(t)}catch(e){if(e&&(0,i.Sz)(e))throw e}let s=null!=(t=null==(e=o.getStore())?void 0:e.get("requestData"))?t:r;return(null==s?void 0:s.secretKey)||(null==s?void 0:s.publishableKey)?(0,n.n)(s):(0,n.n)({})};var u=r(60166);async function h(){r(34822);let{userId:e}=await (0,u.j)();return e?(await c()).users.getUser(e):null}var m=r(96644);async function p(){let e=await h(),t={id:e?.id||"demo-user",firstName:e?.firstName||"Demo",email:e?.emailAddresses[0]?.emailAddress||"demo@example.com"};return(0,s.jsx)(m.BookmarkHubDashboard,{userId:t.id,userData:t})}},18469:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28560:(e,t,r)=>{Promise.resolve().then(r.bind(r,74056))},28947:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31158:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},32192:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35184:(e,t,r)=>{Promise.resolve().then(r.bind(r,45434))},39907:(e,t,r)=>{"use strict";r.d(t,{w:()=>c});var s=r(60687),a=r(43210),i=r(14163),n="horizontal",l=["horizontal","vertical"],o=a.forwardRef((e,t)=>{var r;let{decorative:a,orientation:o=n,...d}=e,c=(r=o,l.includes(r))?o:n;return(0,s.jsx)(i.sG.div,{"data-orientation":c,...a?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:t})});o.displayName="Separator";var d=r(4780);let c=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},i)=>(0,s.jsx)(o,{ref:i,decorative:r,orientation:t,className:(0,d.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));c.displayName=o.displayName},45434:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/Softwaare Program/apptivity final v1/src/app/dashboard/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Softwaare Program/apptivity final v1/src/app/dashboard/error.tsx","default")},45583:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},49267:(e,t,r)=>{Promise.resolve().then(r.bind(r,96644))},51787:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});class s{async request(e,t={}){let r=`${this.baseUrl}${e}`,s=await fetch(r,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}});if(!s.ok)throw Error((await s.json().catch(()=>({error:"Network error"}))).error||`HTTP ${s.status}`);return s.json()}async getFolders(){return this.request("/folders")}async createFolder(e){return this.request("/folders",{method:"POST",body:JSON.stringify(e)})}async updateFolder(e,t){return this.request("/folders",{method:"PUT",body:JSON.stringify({id:e,...t})})}async deleteFolder(e){return this.request("/folders",{method:"DELETE",body:JSON.stringify({id:e})})}async getTags(){return this.request("/tags")}async createTag(e){return this.request("/tags",{method:"POST",body:JSON.stringify(e)})}async getBookmarks(){return this.request("/bookmarks")}async searchBookmarks(e,t){let r=new URLSearchParams({q:e});return t?.filters&&Object.entries(t.filters).forEach(([e,t])=>{null!=t&&r.append(e,String(t))}),this.request(`/bookmarks/search?${r}`)}async createBookmark(e){return this.request("/bookmarks",{method:"POST",body:JSON.stringify(e)})}async updateBookmark(e,t){return this.request("/bookmarks",{method:"PUT",body:JSON.stringify({id:e,...t})})}async ensureUserProfile(e,t){return this.request("/profile",{method:"POST",body:JSON.stringify({email:e,fullName:t})})}constructor(){this.baseUrl="/api"}}let a=new s},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57800:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},58869:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},74056:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(60687);r(43210);var a=r(29523),i=r(44493),n=r(43649),l=r(78122),o=r(32192);function d({error:e,reset:t}){return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:(0,s.jsxs)(i.Zp,{className:"w-full max-w-md",children:[(0,s.jsxs)(i.aR,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 p-3 bg-red-100 dark:bg-red-900/20 rounded-full w-fit",children:(0,s.jsx)(n.A,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),(0,s.jsx)(i.ZB,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard Error"})]}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"There was an error loading the dashboard. Please try again."}),!1,(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(a.$,{onClick:t,className:"flex-1",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Try Again"]}),(0,s.jsxs)(a.$,{variant:"outline",onClick:()=>window.location.href="/",className:"flex-1",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Home"]})]})]})]})})}},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82080:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},86219:(e,t,r)=>{Promise.resolve().then(r.bind(r,5152))},91645:e=>{"use strict";e.exports=require("net")},92786:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,16321)),"/Volumes/Softwaare Program/apptivity final v1/src/app/dashboard/page.tsx"]}]},{error:[()=>Promise.resolve().then(r.bind(r,45434)),"/Volumes/Softwaare Program/apptivity final v1/src/app/dashboard/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,16292)),"/Volumes/Softwaare Program/apptivity final v1/src/app/dashboard/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,85559)),"/Volumes/Softwaare Program/apptivity final v1/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,54431)),"/Volumes/Softwaare Program/apptivity final v1/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/Volumes/Softwaare Program/apptivity final v1/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Volumes/Softwaare Program/apptivity final v1/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Volumes/Softwaare Program/apptivity final v1/src/app/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94735:e=>{"use strict";e.exports=require("events")},96644:(e,t,r)=>{"use strict";r.d(t,{BookmarkHubDashboard:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call BookmarkHubDashboard() from the server but BookmarkHubDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Softwaare Program/apptivity final v1/src/components/dashboard/bookmark-hub-dashboard.tsx","BookmarkHubDashboard")},99891:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[80,166,4999,7757,474,8950,1109,7378,3270],()=>r(92786));module.exports=s})();