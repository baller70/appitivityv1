(()=>{var e={};e.id=4040,e.ids=[4040],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6190:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var t=s(37413),a=s(60166),i=s(39916),o=s(50609);async function n(){let{userId:e}=await (0,a.j)();return e||(0,i.redirect)("/sign-in"),(0,t.jsx)(o.FavoritesPage,{userId:e})}},10045:(e,r,s)=>{Promise.resolve().then(s.bind(s,50609))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},50609:(e,r,s)=>{"use strict";s.d(r,{FavoritesPage:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call FavoritesPage() from the server but FavoritesPage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Softwaare Program/apptivity final v1/src/components/favorites/favorites-page.tsx","FavoritesPage")},51787:(e,r,s)=>{"use strict";s.d(r,{u:()=>a});class t{async request(e,r={}){let s=`${this.baseUrl}${e}`,t=await fetch(s,{...r,credentials:"include",headers:{"Content-Type":"application/json",...r.headers}});if(!t.ok)throw Error((await t.json().catch(()=>({error:"Network error"}))).error||`HTTP ${t.status}`);return t.json()}async getFolders(){return this.request("/folders")}async createFolder(e){return this.request("/folders",{method:"POST",body:JSON.stringify(e)})}async updateFolder(e,r){return this.request("/folders",{method:"PUT",body:JSON.stringify({id:e,...r})})}async deleteFolder(e){return this.request("/folders",{method:"DELETE",body:JSON.stringify({id:e})})}async getTags(){return this.request("/tags")}async createTag(e){return this.request("/tags",{method:"POST",body:JSON.stringify(e)})}async getBookmarks(){return this.request("/bookmarks")}async searchBookmarks(e,r){let s=new URLSearchParams({q:e});return r?.filters&&Object.entries(r.filters).forEach(([e,r])=>{null!=r&&s.append(e,String(r))}),this.request(`/bookmarks/search?${s}`)}async createBookmark(e){return this.request("/bookmarks",{method:"POST",body:JSON.stringify(e)})}async updateBookmark(e,r){return this.request("/bookmarks",{method:"PUT",body:JSON.stringify({id:e,...r})})}async ensureUserProfile(e,r){return this.request("/profile",{method:"POST",body:JSON.stringify({email:e,fullName:r})})}constructor(){this.baseUrl="/api"}}let a=new t},52170:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=s(65239),a=s(48088),i=s(88170),o=s.n(i),n=s(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(r,l);let d={children:["",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6190)),"/Volumes/Softwaare Program/apptivity final v1/src/app/favorites/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,85559)),"/Volumes/Softwaare Program/apptivity final v1/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,54431)),"/Volumes/Softwaare Program/apptivity final v1/src/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,67393)),"/Volumes/Softwaare Program/apptivity final v1/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"/Volumes/Softwaare Program/apptivity final v1/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Volumes/Softwaare Program/apptivity final v1/src/app/favorites/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/favorites/page",pathname:"/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80189:(e,r,s)=>{Promise.resolve().then(s.bind(s,92586))},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},92586:(e,r,s)=>{"use strict";s.d(r,{FavoritesPage:()=>k});var t=s(60687),a=s(43210),i=s(56499);s(51787);var o=s(63967),n=s(27551),l=s(29523),d=s(89667),c=s(67760),u=s(28559),p=s(99270),h=s(6943),x=s(25366),m=s(62688);let g=(0,m.A)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),f=(0,m.A)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var y=s(40228),v=s(16189);s(52581);var b=s(28499);function k({userId:e}){let r=(0,v.useRouter)(),[s,m]=(0,a.useState)([]),[k,j]=(0,a.useState)([]),[w,N]=(0,a.useState)([]),[P,q]=(0,a.useState)([]),[S,C]=(0,a.useState)(!0),[_,O]=(0,a.useState)(""),[A,F]=(0,a.useState)("grid"),[T,$]=(0,a.useState)(null),[E,z]=(0,a.useState)(!1);(0,a.useCallback)(()=>{let e=[...s];if(_){let r=_.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(r)||e.url.toLowerCase().includes(r)||e.description?.toLowerCase().includes(r)||e.tags?.some(e=>e.name.toLowerCase().includes(r)))}q(e)},[s,_]);let U=e=>{m(r=>r.map(r=>r.id===e.id?e:r)),e.is_favorite||m(r=>r.filter(r=>r.id!==e.id)),$(e)},B=e=>{m(r=>r.filter(r=>r.id!==e)),z(!1),$(null)},V=e=>{$(e),z(!0)};return S?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,t.jsx)(b.W,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:()=>r.push("/dashboard"),className:"flex items-center space-x-2",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Back to Dashboard"})]}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.A,{className:"h-6 w-6 text-red-500"}),(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Favorites (",s.length,")"]})]})]}),(0,t.jsx)(i.uF,{afterSignOutUrl:"/"})]})}),(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(d.p,{placeholder:"Search favorites...",value:_,onChange:e=>O(e.target.value),className:"pl-10 w-80"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,t.jsx)(l.$,{variant:"grid"===A?"default":"ghost",size:"sm",onClick:()=>F("grid"),className:"px-3",children:(0,t.jsx)(h.A,{className:"h-4 w-4"})}),(0,t.jsx)(l.$,{variant:"list"===A?"default":"ghost",size:"sm",onClick:()=>F("list"),className:"px-3",children:(0,t.jsx)(x.A,{className:"h-4 w-4"})}),(0,t.jsx)(l.$,{variant:"compact"===A?"default":"ghost",size:"sm",onClick:()=>F("compact"),className:"px-3",children:(0,t.jsx)(g,{className:"h-4 w-4"})}),(0,t.jsx)(l.$,{variant:"kanban"===A?"default":"ghost",size:"sm",onClick:()=>F("kanban"),className:"px-3",children:(0,t.jsx)(f,{className:"h-4 w-4"})}),(0,t.jsx)(l.$,{variant:"timeline"===A?"default":"ghost",size:"sm",onClick:()=>F("timeline"),className:"px-3",children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)("main",{className:"p-6",children:0===P.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(c.A,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No favorites yet"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Bookmarks you mark as favorites will appear here"}),(0,t.jsxs)(l.$,{onClick:()=>r.push("/dashboard"),children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]}):(0,t.jsx)("div",{className:`grid gap-6 ${{grid:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",list:"grid-cols-1",compact:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6",kanban:"grid-cols-1 md:grid-cols-3",timeline:"grid-cols-1"}[A]}`,children:P.map(e=>{let r=s.reduce((e,r)=>e+(r.visit_count||0),0);return(0,t.jsx)(o.P,{bookmark:e,folders:k,onUpdated:U,onDeleted:()=>B(e.id),onOpenDetail:()=>V(e),totalBookmarkVisits:r},e.id)})})}),(0,t.jsx)(n.F,{bookmark:T,folders:k,tags:w,isOpen:E,onClose:()=>{z(!1),$(null)},onUpdated:U})]})})}},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[80,166,4999,7757,474,8950,1109,7378,3270],()=>s(52170));module.exports=t})();