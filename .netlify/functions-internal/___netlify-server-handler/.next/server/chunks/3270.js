exports.id=3270,exports.ids=[3270],exports.modules={7486:(e,t,s)=>{"use strict";let a;s.d(t,{U:()=>c});var r=s(74370);let i="https://bpmixidxyljfvenukcun.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwbWl4aWR4eWxqZnZlbnVrY3VuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4ODAwMjIsImV4cCI6MjA2NDQ1NjAyMn0.JmyZhvuPfJlzQ9PPEclEc7mKBd55zCEM61nci7fjazc";(0,r.UU)(i,o,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),(a=process.env.SUPABASE_SERVICE_ROLE_KEY)||console.warn("WARNING: SUPABASE_SERVICE_ROLE_KEY not found on server. Some operations may fail.");let l=a?(0,r.UU)(i,a,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}):null;var n=s(58291);class c{constructor(e){if(this.originalUserId=e,this.userId=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)?e:(0,n.Ay)(e,"6ba7b810-9dad-11d1-80b4-00c04fd430c8")}(e),l)this.supabase=l;else{var t;this.supabase=(t=this.userId,(0,r.UU)(i,o,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1},global:{headers:{"x-user-id":t}}}))}console.log("BookmarkService initialized for user:",{original:this.originalUserId,normalized:this.userId,environment:"server"})}async getBookmarks(e){console.log("Fetching bookmarks for user:",this.userId);let t=this.supabase.from("bookmarks").select(`
        *,
        folder:folders(*),
        tags:bookmark_tags(tag:tags(*))
      `).eq("user_id",this.userId).order("created_at",{ascending:!1});e?.folderId&&(t=t.eq("folder_id",e.folderId)),e?.isArchived!==void 0&&(t=t.eq("is_archived",e.isArchived)),e?.isFavorite!==void 0&&(t=t.eq("is_favorite",e.isFavorite)),e?.limit&&(t=t.limit(e.limit)),e?.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));let{data:s,error:a}=await t;if(a)throw console.error("Error fetching bookmarks:",a),Error(`Failed to fetch bookmarks: ${a.message}`);return console.log(`Found ${s?.length||0} bookmarks for user`),s?.map(e=>({...e,tags:e.tags?.map(e=>e.tag).filter(Boolean)||[]}))||[]}async getBookmark(e){console.log("Fetching bookmark:",e,"for user:",this.userId);let{data:t,error:s}=await this.supabase.from("bookmarks").select(`
        *,
        folder:folders(*),
        tags:bookmark_tags(tag:tags(*))
      `).eq("id",e).eq("user_id",this.userId).single();if(s){if("PGRST116"===s.code)return console.log("Bookmark not found:",e),null;throw console.error("Error fetching bookmark:",s),Error(`Failed to fetch bookmark: ${s.message}`)}return console.log("Successfully fetched bookmark:",e),{...t,tags:t.tags?.map(e=>e.tag).filter(Boolean)||[]}}async createBookmark(e,t){console.log("Creating bookmark for user:",this.userId);let s={...e,user_id:this.userId,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:r}=await this.supabase.from("bookmarks").insert(s).select().single();if(r)throw console.error("Error creating bookmark:",r),Error(`Failed to create bookmark: ${r.message}`);return console.log("Successfully created bookmark:",a.id),t&&t.length>0&&await this.addTagsToBookmark(a.id,t),a}async updateBookmark(e,t){console.log("Updating bookmark:",e,"for user:",this.userId);let s={...t,updated_at:new Date().toISOString()},{data:a,error:r}=await this.supabase.from("bookmarks").update(s).eq("id",e).eq("user_id",this.userId).select().single();if(r)throw console.error("Error updating bookmark:",r),Error(`Failed to update bookmark: ${r.message}`);return console.log("Successfully updated bookmark:",e),a}async deleteBookmark(e){console.log("Deleting bookmark:",e,"for user:",this.userId);let{error:t}=await this.supabase.from("bookmarks").delete().eq("id",e).eq("user_id",this.userId);if(t)throw console.error("Error deleting bookmark:",t),Error(`Failed to delete bookmark: ${t.message}`);console.log("Successfully deleted bookmark:",e)}async addTagsToBookmark(e,t){let s=t.map(t=>({bookmark_id:e,tag_id:t})),{error:a}=await this.supabase.from("bookmark_tags").insert(s);if(a)throw Error(`Failed to add tags to bookmark: ${a.message}`)}async removeTagsFromBookmark(e,t){let s=this.supabase.from("bookmark_tags").delete().eq("bookmark_id",e);t&&(s=s.in("tag_id",t));let{error:a}=await s;if(a)throw Error(`Failed to remove tags from bookmark: ${a.message}`)}async searchBookmarks(e){let{data:t,error:s}=await this.supabase.from("bookmarks").select(`
        *,
        folder:folders(*),
        tags:bookmark_tags(tag:tags(*))
      `).eq("user_id",this.userId).or(`title.ilike.%${e}%,description.ilike.%${e}%,url.ilike.%${e}%`).order("created_at",{ascending:!1});if(s)throw Error(`Failed to search bookmarks: ${s.message}`);return t?.map(e=>({...e,tags:e.tags?.map(e=>e.tag).filter(Boolean)||[]}))||[]}async toggleFavorite(e){let t=await this.getBookmark(e);if(!t)throw Error("Bookmark not found");return this.updateBookmark(e,{is_favorite:!t.is_favorite})}async toggleArchive(e){let t=await this.getBookmark(e);if(!t)throw Error("Bookmark not found");return this.updateBookmark(e,{is_archived:!t.is_archived})}async bulkUpdate(e,t){let{error:s}=await this.supabase.from("bookmarks").update(t).in("id",e).eq("user_id",this.userId);if(s)throw Error(`Failed to bulk update bookmarks: ${s.message}`)}async bulkDelete(e){let{error:t}=await this.supabase.from("bookmarks").delete().in("id",e).eq("user_id",this.userId);if(t)throw Error(`Failed to bulk delete bookmarks: ${t.message}`)}}},27551:(e,t,s)=>{"use strict";s.d(t,{F:()=>eu});var a=s(60687),r=s(43210),i=s(63503),o=s(29523),l=s(96834),n=s(44493),c=s(34729),d=s(80013),m=s(53411),h=s(48730),x=s(97051),u=s(40228),g=s(47342),p=s(10022),b=s(25541),f=s(11437),k=s(67760),j=s(25475),v=s(70615),y=s(25334),N=s(13861),w=s(11860),C=s(16023),_=s(8819),A=s(63143),S=s(96474),$=s(97840),R=s(36058),z=s(13943),E=s(84027),F=s(7203),I=s(76928),P=s(70297),T=s(68418),B=s(84633),U=s(36293),M=s(27777),D=s(11922),L=s(44692),O=s(75687),J=s(80375),q=s(45984),W=s(69169),Z=s(21782),H=s(69282),V=s(95999),G=s(80051),Y=s(8366),Q=s(91304),X=s(25366),K=s(14290),ee=s(98916),et=s(5748),es=s(54388),ea=s(31110),er=s(15079);function ei({content:e,onChange:t,placeholder:s="Start writing your notes...",className:r=""}){let i=(0,F.hG)({extensions:[I.A.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}}),P.A.configure({placeholder:s}),T.A,B.A.configure({types:["heading","paragraph"]}),U.A],content:e,onUpdate:({editor:e})=>{t(e.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[200px] p-4 max-w-none"}}});return i?(0,a.jsxs)("div",{className:`border rounded-lg bg-white dark:bg-gray-900 shadow-sm ${r}`,children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mr-2",children:[(0,a.jsxs)(er.l6,{onValueChange:e=>{switch(e){case"h1":i.chain().focus().toggleHeading({level:1}).run();break;case"h2":i.chain().focus().toggleHeading({level:2}).run();break;case"h3":i.chain().focus().toggleHeading({level:3}).run();break;case"paragraph":i.chain().focus().setParagraph().run()}},children:[(0,a.jsx)(er.bq,{className:"w-28 h-8 text-xs",children:(0,a.jsx)(er.yv,{placeholder:"Style"})}),(0,a.jsxs)(er.gC,{children:[(0,a.jsx)(er.eb,{value:"paragraph",children:"Normal"}),(0,a.jsx)(er.eb,{value:"h1",children:"Heading 1"}),(0,a.jsx)(er.eb,{value:"h2",children:"Heading 2"}),(0,a.jsx)(er.eb,{value:"h3",children:"Heading 3"})]})]}),(0,a.jsxs)(er.l6,{onValueChange:e=>{switch(e){case"small":i.chain().focus().setMark("textStyle",{fontSize:"0.875rem"}).run();break;case"normal":i.chain().focus().setMark("textStyle",{fontSize:"1rem"}).run();break;case"large":i.chain().focus().setMark("textStyle",{fontSize:"1.125rem"}).run();break;case"xl":i.chain().focus().setMark("textStyle",{fontSize:"1.25rem"}).run();break;case"xxl":i.chain().focus().setMark("textStyle",{fontSize:"1.5rem"}).run()}},children:[(0,a.jsx)(er.bq,{className:"w-20 h-8 text-xs",children:(0,a.jsx)(er.yv,{placeholder:"Size"})}),(0,a.jsxs)(er.gC,{children:[(0,a.jsx)(er.eb,{value:"small",children:"Small"}),(0,a.jsx)(er.eb,{value:"normal",children:"Normal"}),(0,a.jsx)(er.eb,{value:"large",children:"Large"}),(0,a.jsx)(er.eb,{value:"xl",children:"X-Large"}),(0,a.jsx)(er.eb,{value:"xxl",children:"XX-Large"})]})]})]}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("bold")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleBold().run(),className:"h-8 w-8 p-0",title:"Bold (Ctrl+B)",children:(0,a.jsx)(M.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("italic")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleItalic().run(),className:"h-8 w-8 p-0",title:"Italic (Ctrl+I)",children:(0,a.jsx)(D.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("underline")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleUnderline().run(),className:"h-8 w-8 p-0",title:"Underline (Ctrl+U)",children:(0,a.jsx)(L.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("strike")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleStrike().run(),className:"h-8 w-8 p-0",title:"Strikethrough",children:(0,a.jsx)(O.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("code")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleCode().run(),className:"h-8 w-8 p-0",title:"Inline Code",children:(0,a.jsx)(J.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("heading",{level:1})?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleHeading({level:1}).run(),className:"h-8 w-8 p-0",title:"Heading 1",children:(0,a.jsx)(q.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("heading",{level:2})?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleHeading({level:2}).run(),className:"h-8 w-8 p-0",title:"Heading 2",children:(0,a.jsx)(W.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("heading",{level:3})?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleHeading({level:3}).run(),className:"h-8 w-8 p-0",title:"Heading 3",children:(0,a.jsx)(Z.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("paragraph")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().setParagraph().run(),className:"h-8 w-8 p-0",title:"Paragraph",children:(0,a.jsx)(H.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive({textAlign:"left"})?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().setTextAlign("left").run(),className:"h-8 w-8 p-0",title:"Align Left",children:(0,a.jsx)(V.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive({textAlign:"center"})?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().setTextAlign("center").run(),className:"h-8 w-8 p-0",title:"Align Center",children:(0,a.jsx)(G.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive({textAlign:"right"})?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().setTextAlign("right").run(),className:"h-8 w-8 p-0",title:"Align Right",children:(0,a.jsx)(Y.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive({textAlign:"justify"})?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().setTextAlign("justify").run(),className:"h-8 w-8 p-0",title:"Justify",children:(0,a.jsx)(Q.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("bulletList")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleBulletList().run(),className:"h-8 w-8 p-0",title:"Bullet List",children:(0,a.jsx)(X.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("orderedList")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleOrderedList().run(),className:"h-8 w-8 p-0",title:"Numbered List",children:(0,a.jsx)(K.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:i.isActive("blockquote")?"default":"ghost",size:"sm",onClick:()=>i.chain().focus().toggleBlockquote().run(),className:"h-8 w-8 p-0",title:"Quote",children:(0,a.jsx)(ee.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>i.chain().focus().setHorizontalRule().run(),className:"h-8 w-8 p-0",title:"Horizontal Rule",children:(0,a.jsx)(et.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),(0,a.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>i.chain().focus().undo().run(),disabled:!i.can().undo(),className:"h-8 w-8 p-0",title:"Undo (Ctrl+Z)",children:(0,a.jsx)(es.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>i.chain().focus().redo().run(),disabled:!i.can().redo(),className:"h-8 w-8 p-0",title:"Redo (Ctrl+Y)",children:(0,a.jsx)(ea.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"min-h-[200px]",children:(0,a.jsx)(F.$Z,{editor:i,className:"prose prose-sm dark:prose-invert max-w-none [&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-[200px] [&_.ProseMirror]:p-4 [&_.ProseMirror]:text-sm [&_.ProseMirror]:leading-relaxed [&_.ProseMirror_h1]:text-2xl [&_.ProseMirror_h2]:text-xl [&_.ProseMirror_h3]:text-lg [&_.ProseMirror_p]:text-sm [&_.ProseMirror_blockquote]:border-l-4 [&_.ProseMirror_blockquote]:border-gray-300 [&_.ProseMirror_blockquote]:pl-4 [&_.ProseMirror_blockquote]:italic [&_.ProseMirror_code]:bg-gray-100 [&_.ProseMirror_code]:px-1 [&_.ProseMirror_code]:rounded [&_.ProseMirror_code]:text-sm [&_.ProseMirror_code]:font-mono dark:[&_.ProseMirror_blockquote]:border-gray-600 dark:[&_.ProseMirror_code]:bg-gray-800"})})]}):null}var eo=s(93613),el=s(41862);function en({className:e="",height:t="600px"}){let[s,i]=(0,r.useState)(!0),[l,n]=(0,r.useState)(!1),c=()=>{window.open("/notifications-test","_blank","width=1000,height=700,scrollbars=yes,resizable=yes")};return l?(0,a.jsxs)("div",{className:`border rounded-lg p-8 bg-gray-50 dark:bg-gray-800 text-center ${e}`,children:[(0,a.jsx)(eo.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Unable to Load Notification System"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The notification system couldn't be loaded in this view."}),(0,a.jsxs)(o.$,{onClick:c,className:"mx-auto",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Open in New Window"]})]}):(0,a.jsxs)("div",{className:`relative border rounded-lg bg-gray-50 dark:bg-gray-800 ${e}`,children:[s&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg z-10",style:{height:t},children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(el.A,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading notification system..."})]})}),(0,a.jsx)("iframe",{src:"/notifications-test",className:`w-full border-0 rounded-lg ${s?"opacity-0":"opacity-100"} transition-opacity duration-300`,style:{height:t},title:"Notification System",onLoad:()=>{i(!1),n(!1)},onError:()=>{i(!1),n(!0)},sandbox:"allow-scripts allow-same-origin allow-forms"}),(0,a.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,a.jsx)(o.$,{size:"sm",variant:"outline",onClick:c,className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",title:"Open in new window",children:(0,a.jsx)(y.A,{className:"h-3 w-3"})})})]})}s(42872),s(19146),s(64265);var ec=s(77292),ed=s(67378),em=s(7486),eh=s(56499),ex=s(52581);function eu({bookmark:e,folders:t,tags:s,isOpen:F,onClose:I,onUpdated:P,onBookmarkCreated:T}){let{user:B}=(0,eh.Jd)(),[U,M]=(0,r.useState)("overview"),[D,L]=(0,r.useState)(1500),[O,J]=(0,r.useState)(!1),[q,W]=(0,r.useState)(0),[Z,H]=(0,r.useState)(""),[V,G]=(0,r.useState)(""),[Y,Q]=(0,r.useState)(25),[X,K]=(0,r.useState)(1500),[ee,et]=(0,r.useState)(!1),[es,ea]=(0,r.useState)(e?.description||""),[er,eo]=(0,r.useState)("<h2>Main Repository Notes</h2><p>This is the main repository hosting platform for all projects. Contains personal and work repositories.</p><ul><li>Personal projects</li><li>Work repositories</li><li>Open source contributions</li></ul><blockquote><p>Remember to check for updates regularly and maintain proper documentation.</p></blockquote>"),[el,eu]=(0,r.useState)(!1),[eg,ep]=(0,r.useState)(null),[eb,ef]=(0,r.useState)(!1),[ek,ej]=(0,r.useState)([]),ev=()=>{et(!1),e&&P({...e,description:es})},ey=async()=>{if(!e||!B)return void ex.oR.error("Please sign in to save notes");try{eu(!1),ex.oR.success("Notes saved successfully")}catch(e){console.error("Failed to save notes:",e),ex.oR.error("Failed to save notes")}},eN=async()=>{if(!e||!B)return void ex.oR.error("Please sign in to favorite bookmarks");try{let t=new em.U(B.id);console.log("Modal: Toggling favorite for bookmark:",e.id,"Current favorite status:",e.is_favorite);let s=await t.updateBookmark(e.id,{is_favorite:!e.is_favorite});console.log("Modal: Updated bookmark result:",s),P({...e,...s}),ex.oR.success(s.is_favorite?"❤️ Added to favorites":"\uD83D\uDC94 Removed from favorites")}catch(s){console.error("Failed to update favorite status:",s);let t=s instanceof Error?s.message:"Unknown error occurred";ex.oR.error(`Failed to update favorite status: ${t}`),P({...e,is_favorite:!e.is_favorite})}},ew=async()=>{if(e)if(navigator.share)try{await navigator.share({title:e.title,url:e.url,text:e.description||`Check out this bookmark: ${e.title}`}),ex.oR.success("Bookmark shared successfully")}catch(e){e instanceof Error&&"AbortError"!==e.name&&ex.oR.error("Failed to share bookmark")}else eC()},eC=async()=>{if(!e||!B)return void ex.oR.error("Unable to duplicate bookmark");try{console.log("Starting bookmark duplication for:",e.title);let t={title:`${e.title} (Copy)`,url:e.url,description:e.description||"",folder_id:e.folder?.id||null,favicon_url:e.favicon_url||null,is_favorite:!1,is_archived:!1};console.log("Duplicate data prepared:",t);let s=e.tags?.map(e=>e.id).filter(Boolean)||[];console.log("Tag IDs to duplicate:",s);let a=await fetch("/api/bookmarks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,tagIds:s})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create bookmark")}let r=await a.json();console.log("New bookmark created:",r.id);let i=new em.U(B.id),o=await i.getBookmark(r.id);console.log("Complete bookmark fetched:",o),o&&T?(console.log("Calling onBookmarkCreated callback"),T(o),I()):console.warn("onBookmarkCreated callback not available or bookmark incomplete"),ex.oR.success("\uD83D\uDCCB Bookmark duplicated successfully!")}catch(t){console.error("Failed to duplicate bookmark:",t);let e=t instanceof Error?t.message:"Unknown error occurred";ex.oR.error(`Failed to duplicate bookmark: ${e}`)}},e_=e=>{try{let t=new URL(e).hostname;if("localhost"===t||t.includes("127.0.0.1")||t.includes("192.168."))return null;return`https://www.google.com/s2/favicons?domain=${t}&sz=32`}catch{return null}},eA=t=>{if(t&&t.type.startsWith("image/")){let s=new FileReader;s.onload=t=>{let s=t.target?.result;ep(s),e&&P({...e,preview_image:s})},s.readAsDataURL(t)}},eS=()=>{ep(null)};if(!e)return null;let e$=[{id:"overview",label:"Overview",icon:m.A},{id:"timer",label:"Timer",icon:h.A},{id:"notifications",label:"Notifications",icon:x.A},{id:"reminders",label:"Reminders",icon:u.A},{id:"related",label:"Related",icon:g.A},{id:"documents",label:"Documents",icon:p.A},{id:"progress",label:"Progress",icon:b.A}];return(0,a.jsx)(i.lG,{open:F,onOpenChange:I,children:(0,a.jsxs)(i.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(i.c7,{className:"sr-only",children:(0,a.jsx)(i.L3,{children:e.title})}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden flex-shrink-0",children:[e_(e.url)?(0,a.jsx)("img",{src:e_(e.url)||"",alt:"Site favicon",className:"w-6 h-6 object-contain",onError:e=>{let t=e.target;t.style.display="none",t.nextElementSibling?.classList.remove("hidden")}}):null,(0,a.jsx)(f.A,{className:`w-5 h-5 text-gray-500 ${e_(e.url)?"hidden":""}`})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:e.url})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:eN,className:`p-2 ${e.is_favorite?"text-red-500 border-red-200":""}`,children:(0,a.jsx)(k.A,{className:`h-4 w-4 ${e.is_favorite?"fill-current":""}`})}),(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:ew,className:"p-2",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})}),(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:eC,className:"p-2",title:"Duplicate Bookmark",children:(0,a.jsx)(v.A,{className:"h-4 w-4"})}),(0,a.jsxs)(o.$,{onClick:()=>window.open(e.url,"_blank"),className:"px-4 py-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Visit Site"]})]})]}),(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("nav",{className:"flex space-x-1 overflow-x-auto",children:e$.map(({id:e,label:t,icon:s})=>(0,a.jsxs)("button",{onClick:()=>M(e),className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-t-lg transition-colors whitespace-nowrap ${U===e?"bg-blue-50 text-blue-600 border-b-2 border-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[(0,a.jsx)(s,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:t})]},e))})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===U&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Analytics & Performance"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:e.visit_count||45}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Total Visits"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"+12% from last week"})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:"2h 30m"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Time Spent"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Average 3m per visit"})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:"45"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"This Week"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Most active day: Mon"})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mb-2",children:"98%"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Uptime"})]}),(0,a.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Site Health: Excellent"})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:`relative w-full h-48 rounded-lg flex items-center justify-center border-2 border-dashed transition-all cursor-pointer group ${eb?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":eg?"border-gray-200 dark:border-gray-700":"border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"}`,onDrop:e=>{e.preventDefault(),ef(!1);let t=e.dataTransfer.files[0];t&&eA(t)},onDragOver:e=>{e.preventDefault(),ef(!0)},onDragLeave:e=>{e.preventDefault(),ef(!1)},onClick:()=>document.getElementById("preview-upload")?.click(),children:[eg?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:eg,alt:"Bookmark preview",className:"w-full h-full object-cover rounded-lg"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),eS()},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)(C.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:"Change Image"})]})})]}):(0,a.jsx)("div",{className:"text-center",children:eb?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Drop image here"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-2 group-hover:text-gray-500"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",children:"Click or drag to upload"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})}),(0,a.jsx)("input",{id:"preview-upload",type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&eA(t)},className:"hidden"})]})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(d.J,{className:"text-sm font-medium",children:"Description"}),(0,a.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>ee?ev():et(!0),children:ee?(0,a.jsx)(_.A,{className:"h-4 w-4"}):(0,a.jsx)(A.A,{className:"h-4 w-4"})})]}),ee?(0,a.jsx)(c.T,{value:es,onChange:e=>ea(e.target.value),placeholder:"Add a description for this bookmark...",className:"min-h-[80px] resize-none",onBlur:ev}):(0,a.jsx)("div",{className:"min-h-[80px] p-3 border rounded-md bg-gray-50 dark:bg-gray-800 cursor-pointer",onClick:()=>et(!0),children:(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:es||"Click to add a description..."})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{className:"text-sm font-medium mb-2 block",children:"Tags"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(l.E,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:"code"}),(0,a.jsx)(l.E,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"git"}),(0,a.jsx)(l.E,{variant:"secondary",className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",children:"collaboration"}),(0,a.jsx)(l.E,{variant:"secondary",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",children:"open-source"}),e.tags?.map(e=>(0,a.jsx)(l.E,{variant:"secondary",style:{backgroundColor:(e.color||"#6366f1")+"20",color:e.color||"#6366f1"},children:e.name},e.id)),(0,a.jsx)(o.$,{variant:"outline",size:"sm",className:"h-6 px-2",onClick:()=>ex.oR.info("Tag management coming soon!"),title:"Add new tag",children:(0,a.jsx)(S.A,{className:"h-3 w-3"})})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{className:"text-lg font-semibold",children:"Notes & Documentation"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Rich text notes with full formatting support"})]}),(0,a.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>el?ey():eu(!0),className:"flex items-center gap-2",children:el?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),"Save"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),"Edit"]})})]}),el?(0,a.jsx)(ei,{content:er,onChange:eo,placeholder:"Start writing your notes... Use the toolbar above for rich formatting including headings, lists, text alignment, and more.",className:"min-h-[350px]"}):(0,a.jsx)("div",{className:"min-h-[250px] p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 cursor-pointer prose prose-sm dark:prose-invert max-w-none hover:border-gray-300 dark:hover:border-gray-600 transition-colors",onClick:()=>eu(!0),dangerouslySetInnerHTML:{__html:er||'<div class="text-center text-gray-500 dark:text-gray-400 py-8"><p class="text-lg mb-2">\uD83D\uDCDD Click to add notes</p><p class="text-sm">Use rich text formatting to organize your thoughts, add documentation, or create detailed annotations for this bookmark.</p></div>'}})]}),(0,a.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsx)(o.$,{variant:"outline",onClick:I,children:"Close"})})]}),"timer"===U&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Focus Timer"}),(0,a.jsx)(n.Zp,{className:"mb-6",children:(0,a.jsxs)(n.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsxs)("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-100 dark:bg-blue-900/20 rounded-lg overflow-hidden flex-shrink-0",children:[e_(e.url)?(0,a.jsx)("img",{src:e_(e.url)||"",alt:"Site favicon",className:"w-6 h-6 object-contain",onError:e=>{let t=e.target;t.style.display="none",t.nextElementSibling?.classList.remove("hidden")}}):null,(0,a.jsx)(f.A,{className:`w-5 h-5 text-blue-500 ${e_(e.url)?"hidden":""}`})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["Focus on: ",e.title]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Start a Pomodoro session for this bookmark"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)(o.$,{onClick:()=>{localStorage.setItem("pomodoroBookmarkContext",JSON.stringify({id:e.id,title:e.title,url:e.url,favicon:e_(e.url)})),window.open("/timer","_blank")},className:"w-full",children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-2"}),"Start 25min Focus"]}),(0,a.jsxs)(o.$,{variant:"outline",onClick:()=>{localStorage.setItem("pomodoroBookmarkContext",JSON.stringify({id:e.id,title:e.title,url:e.url,favicon:e_(e.url)})),I(),window.location.href="/timer"},className:"w-full",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Go to Timer Page"]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"Quick timer (enhanced mode):"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 dark:text-gray-400 block mb-1",children:"Task"}),(0,a.jsxs)("select",{className:"w-full text-xs p-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:Z,onChange:e=>H(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Select task..."}),(0,a.jsx)("option",{value:"bookmark-focus",children:"Focus on bookmark"}),(0,a.jsx)("option",{value:"reading",children:"Reading session"}),(0,a.jsx)("option",{value:"research",children:"Research time"}),(0,a.jsx)("option",{value:"learning",children:"Learning session"}),(0,a.jsx)("option",{value:"review",children:"Content review"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 dark:text-gray-400 block mb-1",children:"List"}),(0,a.jsxs)("select",{className:"w-full text-xs p-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:V,onChange:e=>G(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"No list"}),(0,a.jsx)("option",{value:"work",children:"Work tasks"}),(0,a.jsx)("option",{value:"personal",children:"Personal"}),(0,a.jsx)("option",{value:"learning",children:"Learning"}),(0,a.jsx)("option",{value:"urgent",children:"Urgent"}),(0,a.jsx)("option",{value:"someday",children:"Someday/Maybe"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 dark:text-gray-400 block mb-1",children:"Minutes"}),(0,a.jsxs)("select",{className:"w-full text-xs p-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:Y,onChange:e=>{let t=parseInt(e.target.value);Q(t),L(60*t),K(60*t)},children:[(0,a.jsx)("option",{value:"5",children:"5 min"}),(0,a.jsx)("option",{value:"10",children:"10 min"}),(0,a.jsx)("option",{value:"15",children:"15 min"}),(0,a.jsx)("option",{value:"20",children:"20 min"}),(0,a.jsx)("option",{value:"25",children:"25 min"}),(0,a.jsx)("option",{value:"30",children:"30 min"}),(0,a.jsx)("option",{value:"45",children:"45 min"}),(0,a.jsx)("option",{value:"60",children:"60 min"})]})]})]}),Z&&(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded p-2 mb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"bookmark-focus"===Z?`Focus: ${e.title}`:Z.charAt(0).toUpperCase()+Z.slice(1).replace("-"," ")}),V&&(0,a.jsx)("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-800 px-1.5 py-0.5 rounded",children:V})]})}),(0,a.jsx)("div",{className:"text-3xl font-mono font-bold text-gray-700 dark:text-gray-300 mb-3 text-center",children:(e=>{let t=Math.floor(e/60);return`${t.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`})(D)}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mb-4",children:(0,a.jsx)("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${q}%`}})}),(0,a.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,a.jsxs)(o.$,{size:"sm",onClick:()=>{J(!0),ex.oR.success("\uD83C\uDFAF Focus timer started! Stay focused!")},disabled:O||0===D,variant:"outline",children:[(0,a.jsx)($.A,{className:"h-3 w-3 mr-1"}),"Start"]}),(0,a.jsxs)(o.$,{size:"sm",variant:"outline",onClick:()=>{J(!1),ex.oR.info("⏸️ Timer paused")},disabled:!O,children:[(0,a.jsx)(R.A,{className:"h-3 w-3 mr-1"}),"Pause"]}),(0,a.jsxs)(o.$,{size:"sm",variant:"outline",onClick:()=>{J(!1),L(60*Y),K(60*Y),W(0),ex.oR.info(`🔄 Timer reset to ${Y} minutes`)},children:[(0,a.jsx)(z.A,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-1 mt-2",children:[(0,a.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>{Q(5),L(300),K(300)},className:"text-xs px-2 py-1",children:"5m"}),(0,a.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>{Q(15),L(900),K(900)},className:"text-xs px-2 py-1",children:"15m"}),(0,a.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>{Q(25),L(1500),K(1500)},className:"text-xs px-2 py-1",children:"25m"})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsx)("h5",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2",children:"Comprehensive Timer"}),(0,a.jsxs)("ul",{className:"text-gray-600 dark:text-gray-400 space-y-1",children:[(0,a.jsx)("li",{children:"• Full Pomodoro cycles"}),(0,a.jsx)("li",{children:"• Task management"}),(0,a.jsx)("li",{children:"• Progress tracking"}),(0,a.jsx)("li",{children:"• Statistics"})]})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsx)("h5",{className:"font-semibold text-green-600 dark:text-green-400 mb-2",children:"Quick Timer"}),(0,a.jsxs)("ul",{className:"text-gray-600 dark:text-gray-400 space-y-1",children:[(0,a.jsx)("li",{children:"• Simple 25min timer"}),(0,a.jsx)("li",{children:"• In-modal convenience"}),(0,a.jsx)("li",{children:"• No setup required"}),(0,a.jsx)("li",{children:"• Basic notifications"})]})]})})]})]})}),"notifications"===U&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Notification System"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Comprehensive notification management"})]})]}),(0,a.jsx)(en,{height:"600px"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsx)("h5",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2",children:"Quick Setup"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>{window.open("/notifications-test","_blank","width=800,height=600")},children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Open Full Notification Center"]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>{"Notification"in window?"default"===Notification.permission?Notification.requestPermission().then(e=>{ex.oR.success("granted"===e?"Notifications enabled!":"Notifications not enabled")}):ex.oR.info(`Notifications are ${Notification.permission}`):ex.oR.error("Notifications not supported in this browser")},children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Configure Browser Notifications"]})]})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsx)("h5",{className:"font-semibold text-green-600 dark:text-green-400 mb-2",children:"Features Available"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,a.jsx)("li",{children:"• Toast notifications (success, error, warning, info)"}),(0,a.jsx)("li",{children:"• Priority levels (low, medium, high, urgent)"}),(0,a.jsx)("li",{children:"• Browser notifications support"}),(0,a.jsx)("li",{children:"• Audio alerts with volume control"}),(0,a.jsx)("li",{children:"• Notification center with history"}),(0,a.jsx)("li",{children:"• Filtering and search capabilities"}),(0,a.jsx)("li",{children:"• Persistent storage"}),(0,a.jsx)("li",{children:"• Customizable settings"})]})]})})]})]}),"reminders"===U&&(0,a.jsx)(ec.ReminderManager,{bookmarkId:e.id,bookmarkTitle:e.title}),"related"===U&&e&&(0,a.jsx)(ed.$,{targetBookmark:e,allBookmarks:ek,onBookmarkVisit:e=>{window.open(e.url,"_blank"),ex.oR.success(`Opened ${e.title}`)},onBookmarkViewDetails:e=>{I(),ex.oR.info(`Viewing details for ${e.title}`)}}),"documents"===U&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Documents & Notes"}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"Create and attach documents, notes, and annotations for this bookmark."}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)(o.$,{onClick:()=>ex.oR.info("Document management feature coming soon!"),children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Document"]})})]})})]}),"progress"===U&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Learning Progress"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:e.visit_count||0}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Visits"})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:"0"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Study Sessions"})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:"0h"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Time Spent"})]})})]})]})]})]})})}},28499:(e,t,s)=>{"use strict";s.d(t,{C:()=>l,W:()=>o});var a=s(60687),r=s(43210);let i=(0,r.createContext)(void 0);function o({children:e}){let[t,s]=(0,r.useState)(new Set),[o,l]=(0,r.useState)(!1),n=(0,r.useCallback)(e=>{s(t=>new Set([...t,e]))},[]),c=(0,r.useCallback)(e=>{s(t=>{let s=new Set(t);return s.delete(e),s})},[]),d=(0,r.useCallback)(e=>{s(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},[]),m=(0,r.useCallback)(e=>{s(new Set(e.map(e=>e.id)))},[]),h=(0,r.useCallback)(()=>{s(new Set)},[]),x=(0,r.useCallback)(e=>t.has(e),[t]),u=(0,r.useCallback)(e=>e.filter(e=>t.has(e.id)),[t]),g=(0,r.useCallback)(()=>{l(!0)},[]),p=(0,r.useCallback)(()=>{l(!1),s(new Set)},[]),b={selectedIds:t,isSelectionMode:o,selectItem:n,deselectItem:c,toggleItem:d,selectAll:m,deselectAll:h,isSelected:x,selectedCount:t.size,getSelectedItems:u,enterSelectionMode:g,exitSelectionMode:p};return(0,a.jsx)(i.Provider,{value:b,children:e})}function l(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useSelection must be used within a SelectionProvider");return e}},39727:()=>{},47990:()=>{},60571:(e,t,s)=>{"use strict";s.d(t,{H:()=>m});var a=s(60687),r=s(43210),i=s(29523),o=s(89667),l=s(80013),n=s(34729),c=s(15079),d=s(52581);function m({bookmark:e,folders:t,onSubmit:s,onCancel:m}){let[h,x]=(0,r.useState)({title:e?.title||"",url:e?.url||"",description:e?.description||"",folder_id:e?.folder_id||"no-folder"}),[u,g]=(0,r.useState)(!1),p=async e=>{try{return new URL(e),{title:e,description:"",favicon_url:""}}catch{return null}},b=async t=>{t.preventDefault(),g(!0);try{if(!h.url)return void d.oR.error("URL is required");let t=null;e||(t=await p(h.url));let a={title:h.title.trim()||t?.title||h.url,url:h.url,description:h.description.trim(),folder_id:h.folder_id&&"no-folder"!==h.folder_id?h.folder_id:null,favicon_url:t?.favicon_url||null};if(e){let t={...e,...a};s(t)}else{let e={id:Date.now().toString(),...a,user_id:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_visited_at:null,visit_count:0,is_favorite:!1,is_archived:!1,screenshot_url:null,folder:null,tags:[]};s(e)}d.oR.success(e?"Bookmark updated":"Bookmark created")}catch(e){console.error("Error saving bookmark:",e),d.oR.error("Failed to save bookmark")}finally{g(!1)}};return(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"url",children:"URL"}),(0,a.jsx)(o.p,{id:"url",type:"url",value:h.url,onChange:e=>x(t=>({...t,url:e.target.value})),placeholder:"https://example.com",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(o.p,{id:"title",value:h.title,onChange:e=>x(t=>({...t,title:e.target.value})),placeholder:"Bookmark title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(n.T,{id:"description",value:h.description,onChange:e=>x(t=>({...t,description:e.target.value})),placeholder:"Optional description",rows:3})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"folder",children:"Folder"}),(0,a.jsxs)(c.l6,{value:h.folder_id,onValueChange:e=>x(t=>({...t,folder_id:e})),children:[(0,a.jsx)(c.bq,{children:(0,a.jsx)(c.yv,{placeholder:"Select a folder"})}),(0,a.jsxs)(c.gC,{children:[(0,a.jsx)(c.eb,{value:"no-folder",children:"No folder"}),t.map(e=>(0,a.jsx)(c.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.$,{type:"submit",disabled:u,children:u?"Saving...":e?"Update":"Create"}),(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:m,children:"Cancel"})]})]})}},63503:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>h,Es:()=>u,L3:()=>g,c7:()=>x,lG:()=>n,rr:()=>p,zM:()=>c});var a=s(60687),r=s(43210),i=s(26134),o=s(11860),l=s(4780);let n=i.bL,c=i.l9,d=i.ZL;i.bm;let m=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.hJ,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=i.hJ.displayName;let h=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(i.UC,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=i.UC.displayName;let x=({className:e,...t})=>(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x.displayName="DialogHeader";let u=({className:e,...t})=>(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});u.displayName="DialogFooter";let g=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.hE,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));g.displayName=i.hE.displayName;let p=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.VY,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));p.displayName=i.VY.displayName},63967:(e,t,s)=>{"use strict";s.d(t,{P:()=>N});var a=s(60687),r=s(43210),i=s(60571),o=s(44493),l=s(29523),n=s(96834),c=s(63503),d=s(13964),m=s(67760),h=s(13861),x=s(63143),u=s(25334),g=s(88233),p=s(9005),b=s(52581),f=s(56499),k=s(41330),j=s(28499),v=s(4780),y=s(30474);function N({bookmark:e,folders:t,onUpdated:s,onDeleted:N,onOpenDetail:w,totalBookmarkVisits:C}){let{user:_}=(0,f.Jd)(),{isSignedIn:A}=(0,k.d)(),[S,$]=(0,r.useState)(!1),[R,z]=(0,r.useState)(!1),{isSelectionMode:E,isSelected:F,toggleItem:I,enterSelectionMode:P}=(0,j.C)(),T=async()=>{if(!A||!_)return void b.oR.error("Please sign in to favorite bookmarks");try{z(!0),console.log("Toggling favorite for bookmark:",e.id,"Current favorite status:",e.is_favorite);let t=await fetch("/api/bookmarks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,title:e.title,url:e.url,description:e.description,folder_id:e.folder_id,is_favorite:!e.is_favorite,is_archived:e.is_archived})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update bookmark")}let a=await t.json();console.log("Updated bookmark result:",a),s({...e,...a}),b.oR.success(a.is_favorite?"❤️ Added to favorites":"\uD83D\uDC94 Removed from favorites")}catch(a){console.error("Failed to toggle favorite:",a);let t=a instanceof Error?a.message:"Unknown error occurred";t.includes("JWT")||t.includes("unauthorized")||t.includes("authentication")?b.oR.error("Authentication expired - please refresh the page"):t.includes("network")||t.includes("fetch")?b.oR.error("Network error - please check your connection"):b.oR.error(`Failed to update bookmark: ${t}`),t.includes("authentication")||t.includes("unauthorized")||(s({...e,is_favorite:!e.is_favorite}),b.oR.info("Update may have succeeded - page will refresh with latest data"))}finally{z(!1)}},B=async()=>{if(confirm("Are you sure you want to delete this bookmark?"))try{z(!0);let t=await fetch(`/api/bookmarks?id=${e.id}`,{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to delete bookmark")}N(),b.oR.success("Bookmark deleted successfully")}catch(t){console.error("Failed to delete bookmark:",t);let e=t instanceof Error?t.message:"Unknown error occurred";e.includes("JWT")||e.includes("unauthorized")||e.includes("authentication")?b.oR.error("Authentication expired - please refresh the page"):b.oR.error(`Failed to delete bookmark: ${e}`)}finally{z(!1)}},U=async t=>{try{z(!0);let a=await fetch("/api/bookmarks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,title:t.title,url:t.url,description:t.description,folder_id:t.folder_id,is_favorite:t.is_favorite,is_archived:t.is_archived})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to update bookmark")}let r=await a.json();s({...e,...r}),b.oR.success("Bookmark updated successfully"),$(!1)}catch(a){console.error("Failed to update bookmark:",a);let e=a instanceof Error?a.message:"Unknown error occurred";e.includes("JWT")||e.includes("unauthorized")||e.includes("authentication")?b.oR.error("Authentication expired - please refresh the page"):(b.oR.error(`Failed to update bookmark: ${e}`),s(t),$(!1),b.oR.info("Changes saved locally - please refresh to sync"))}finally{z(!1)}},M=F(e.id),D=e=>e.charAt(0).toUpperCase(),L=e=>{try{let t=new URL(e).hostname;if("localhost"===t||t.includes("127.0.0.1")||t.includes("192.168."))return null;return`https://www.google.com/s2/favicons?domain=${t}&sz=32`}catch{return null}},O=C&&0!==C?Math.round((e.visit_count||0)/C*100):0;return console.log("BookmarkCard Debug:",{bookmarkTitle:e.title,bookmarkVisits:e.visit_count,totalBookmarkVisits:C,usagePercentage:O,shouldShow:C&&C>=0}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Zp,{className:(0,v.cn)("group hover:shadow-lg transition-all duration-200 cursor-pointer relative bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",M&&"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950"),onClick:t=>{E?(t.preventDefault(),I(e.id)):(w?.(),b.oR.success("Opening bookmark details"))},onDoubleClick:()=>{E||(P(),I(e.id))},draggable:!0,onDragStart:t=>{t.dataTransfer.setData("application/json",JSON.stringify(e)),t.dataTransfer.effectAllowed="move"},children:[(0,a.jsxs)("div",{className:"absolute top-3 left-3 right-3 flex items-center justify-between z-10",children:[(0,a.jsx)("div",{className:(0,v.cn)("w-4 h-4 border-2 rounded-sm flex items-center justify-center transition-colors cursor-pointer",M?"bg-blue-500 border-blue-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"),onClick:t=>{t.stopPropagation(),I(e.id)},children:M&&(0,a.jsx)(d.A,{className:"w-3 h-3 text-white"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(l.$,{variant:"ghost",size:"sm",className:(0,v.cn)("p-1 h-auto w-auto hover:bg-white/80",e.is_favorite&&"hover:bg-red-50"),onClick:e=>{e.stopPropagation(),T()},disabled:R,title:e.is_favorite?"Remove from favorites":"Add to favorites",children:(0,a.jsx)(m.A,{className:(0,v.cn)("h-4 w-4 transition-colors",e.is_favorite?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-500")})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-1 h-auto w-auto hover:bg-white/80",onClick:e=>{e.stopPropagation(),w?.(),b.oR.info("Opening bookmark details")},title:"View bookmark details",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-gray-400 hover:text-blue-500"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-1 h-auto w-auto hover:bg-white/80",onClick:e=>{e.stopPropagation(),$(!0),b.oR.info("Opening edit form")},title:"Edit bookmark",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-gray-400 hover:text-green-500"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-1 h-auto w-auto hover:bg-white/80",onClick:t=>{t.stopPropagation();try{window.open(e.url,"_blank"),b.oR.success("Opening website in new tab")}catch(e){console.error("Failed to open bookmark:",e),b.oR.error("Failed to open bookmark")}},title:"Open website in new tab",children:(0,a.jsx)(u.A,{className:"h-4 w-4 text-gray-400 hover:text-blue-500"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-1 h-auto w-auto hover:bg-white/80 hover:bg-red-50",onClick:e=>{e.stopPropagation(),B()},disabled:R,title:"Delete bookmark",children:(0,a.jsx)(g.A,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})})]})]}),(0,a.jsxs)(o.Wu,{className:"p-0",children:[(0,a.jsxs)("div",{className:"relative",children:[e.preview_image?(0,a.jsx)(y.default,{src:e.preview_image,alt:`Preview for ${e.title}`,width:400,height:128,className:"w-full h-32 object-cover rounded-t-lg",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}):L(e.url)?(0,a.jsxs)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-800 rounded-t-lg flex items-center justify-center",children:[(0,a.jsx)(y.default,{src:L(e.url)||"",alt:`Favicon for ${e.title}`,width:64,height:64,className:"w-16 h-16 object-contain",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}),(0,a.jsx)("div",{className:"hidden w-12 h-12 bg-gray-600 dark:bg-gray-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl font-bold text-white",children:D(e.title)})})]}):null,(0,a.jsx)("div",{className:(0,v.cn)("w-full h-32 bg-gray-200 dark:bg-gray-700 rounded-t-lg flex items-center justify-center",(e.preview_image||L(e.url))&&"hidden"),children:(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-600 dark:bg-gray-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl font-bold text-white",children:D(e.title)})})}),!e.preview_image&&!e.favicon_url&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(p.A,{className:"h-8 w-8 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"p-4 pt-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white mb-1",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 block mb-3",children:e.url}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3 line-clamp-2",children:e.description}),e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map(e=>(0,a.jsx)(n.E,{variant:"secondary",className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1",children:e.name},e.id))}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsx)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:(0,a.jsx)("span",{children:e.folder?.name.toUpperCase()||"UNCATEGORIZED"})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:[e.visit_count||0," visits"]})]}),void 0!==C&&C>=0&&(0,a.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full text-xs font-medium",title:"Usage.",children:(0,a.jsxs)("span",{className:"font-bold",children:[O,"%"]})})]})]})]})]}),(0,a.jsx)(c.lG,{open:S,onOpenChange:$,children:(0,a.jsxs)(c.Cf,{className:"max-w-2xl",children:[(0,a.jsx)(c.c7,{children:(0,a.jsx)(c.L3,{children:"Edit Bookmark"})}),(0,a.jsx)(i.H,{bookmark:e,folders:t,onSubmit:U,onCancel:()=>$(!1)})]})})]})}}};